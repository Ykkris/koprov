
ui_page 'ui.html'

files {
	'ui.html',
	'pdown.ttf',
	'img_eagle_wanted.png'
}


------ Client ------
-- Anti code leak
client_script 'client/gui/main_gui.lua'
client_script 'client/main.lua'
-- House
client_script 'client/house/housing.lua'
client_script 'client/house/plaza.lua'
client_script 'client/house/visite.lua'
client_script 'client/house/housingpos.lua'
client_script 'client/house/garagehouse.lua'

-- Admin
client_script 'client/admin/menuadmin.lua'

-- Gui
--client_script 'client/gui/playerheads.lua'
client_script 'client/gui/playerlist.lua'

-- Item
client_script 'client/item/useitem.lua'
client_script 'client/item/itemweight.lua'

client_script 'client/item/weed.lua'
client_script 'client/item/eau.lua'
client_script 'client/item/sandwich.lua'
client_script 'client/item/vodka.lua'
client_script 'client/item/cocaine.lua'
client_script 'client/item/ecstasy.lua'
client_script 'client/item/biere.lua'
client_script 'client/item/pain.lua'
client_script 'client/item/cafe.lua'

-- Job

client_script 'client/job/cablerie.lua'
client_script 'client/job/depanneur.lua'
client_script 'client/job/depanneurmenu.lua'
client_script 'client/job/eboueur.lua'
client_script 'client/job/electricien.lua'
client_script 'client/job/heists.lua'
client_script 'client/job/journaliste.lua'
client_script 'client/job/journalistemenu.lua'
client_script 'client/job/livreur.lua'
client_script 'client/job/pecheur.lua'
client_script 'client/job/plombier.lua'
client_script 'client/job/poleemploi.lua'
client_script 'client/job/taxi.lua'
client_script 'client/job/taximenu.lua'
client_script 'client/job/taxidepot.lua'
client_script 'client/job/universite.lua'
--client_script 'client/job/stripclub.lua'
client_script 'client/job/patronmenu.lua'
client_script 'client/job/pizza.lua'
client_script 'client/job/journaux.lua'
client_script 'client/job/fermier.lua'
client_script 'client/job/pompiste.lua'
client_script 'client/job/bucheron.lua'
client_script 'client/job/brasseur.lua'

--drogue

client_script 'client/drogue/cannabis.lua'
client_script 'client/drogue/cocaine.lua'
client_script 'client/drogue/ecstasy.lua'
client_script 'client/drogue/dealer1.lua'
client_script 'client/drogue/dealer2.lua'
client_script 'client/drogue/dealer3.lua'

-- Medic

client_script 'client/medic/ems.lua'
client_script 'client/medic/emsmenu.lua'
client_script 'client/medic/emsgarage.lua'

-- Player

client_script 'client/player/civilmenu.lua'
client_script 'client/player/client.lua'
client_script 'client/player/crew.lua'
client_script 'client/player/inventaire.lua'
client_script 'client/player/messaging.lua'
client_script 'client/player/native.lua'
client_script 'client/player/pvp.lua'
client_script 'client/player/register.lua'
client_script 'client/player/target.lua'
client_script 'client/player/teleportation.lua'
client_script 'client/player/whitelist.lua'

-- Police & Co

client_script 'client/police/cia.lua'
client_script 'client/police/ciagarage.lua'
client_script 'client/police/cl_handcuffs.lua'
client_script 'client/police/fbi.lua'
client_script 'client/police/fbigarage.lua'
client_script 'client/police/gouv.lua'
client_script 'client/police/gouvgarage.lua'
client_script 'client/police/gouvhelico.lua'
client_script 'client/police/police.lua'
client_script 'client/police/policegarage.lua'
client_script 'client/police/policehelico.lua'
client_script 'client/police/policemenu.lua'
client_script 'client/police/policevestiaire.lua'
client_script 'client/police/jail.lua'
client_script 'client/police/inventairetarget.lua'

-- Shop

client_script 'client/shop/clothshop.lua'
client_script 'client/shop/helishop.lua'
client_script 'client/shop/vehshop.lua'
client_script 'client/shop/armureriecivil.lua'
client_script 'client/shop/armurerierebelle.lua'
client_script 'client/shop/boatshop.lua'
client_script 'client/shop/clothluxshop.lua'
client_script 'client/shop/maskshop.lua'
client_script 'client/shop/coiffeur.lua'
client_script 'client/shop/propshop.lua'

-- System

client_script 'client/system/dab.lua'
client_script 'client/system/dab2.lua'
-- client_script 'client/system/playerblips.lua'
client_script 'client/system/food.lua'
client_script 'client/system/carteidentite.lua'
client_script 'client/system/createvisage.lua'
client_script 'client/system/superette.lua'
client_script 'client/system/afk.lua'
-- client_script 'client/system/election.lua'
client_script 'client/system/recelvehi.lua'


-- Vehicle

client_script 'client/vehicle/garage.lua'
client_script 'client/vehicle/garageboat.lua'
client_script 'client/vehicle/garagehelico.lua'
client_script 'client/vehicle/indicators_client.lua'
client_script 'client/vehicle/lockvehicle.lua'
client_script 'client/vehicle/permis.lua'
client_script 'client/vehicle/garagemenu.lua'
client_script 'client/vehicle/garagemenuboat.lua'
client_script 'client/vehicle/garagemenuheli.lua'
client_script 'client/vehicle/lscustoms.lua'

-- Main Folder

client_script 'client/braquage.lua'
client_script 'client/braquagesuperette.lua'
--client_script 'client/alcool.lua'

------ Server ------

-- House

server_script 'server/house/housing.lua'

-- Admin

server_script 'server/admin/menuadmin.lua'

-- Item
server_script 'server/item/useitem.lua'
server_script 'server/item/itemweight.lua'

-- Job

server_script 'server/job/cablerie.lua'
server_script 'server/job/depanneur.lua'
server_script 'server/job/eboueur.lua'
server_script 'server/job/electricien.lua'
server_script 'server/job/journaliste.lua'
server_script 'server/job/livreur.lua'
server_script 'server/job/pecheur.lua'
server_script 'server/job/plombier.lua'
server_script 'server/job/poleemploi.lua'
server_script 'server/job/taxidepot.lua'
server_script 'server/job/patronmenu.lua'
server_script 'server/job/pizza.lua'
server_script 'server/job/journaux.lua'
server_script 'server/job/fermier.lua'
server_script 'server/job/pompiste.lua'
server_script 'server/job/bucheron.lua'
server_script 'server/job/brasseur.lua'

-- Drogue

server_script 'server/drogue/cannabis.lua'
server_script 'server/drogue/cocaine.lua'
server_script 'server/drogue/ecstasy.lua'
server_script 'server/drogue/dealer1.lua'
server_script 'server/drogue/dealer2.lua'
server_script 'server/drogue/dealer3.lua'

-- Medic

server_script 'server/medic/ems.lua'

-- Player

server_script 'server/player/whitelist.lua'
server_script 'server/player/civilmenu.lua'
server_script 'server/player/crew.lua'
server_script 'server/player/inventaire.lua'
server_script 'server/player/inventairemenu.lua'
server_script 'server/player/kick.lua'
server_script 'server/player/login.lua'
server_script 'server/player/register.lua'

-- Police

server_script 'server/police/cia.lua'
server_script 'server/police/fbi.lua'
server_script 'server/police/gouv.lua'
server_script 'server/police/police.lua'
server_script 'server/police/sv_handcuffs.lua'
server_script 'server/police/jail.lua'

--Shop

server_script 'server/shop/armureriecivil.lua'
server_script 'server/shop/armurerierebelle.lua'
server_script 'server/shop/boatshop.lua'
server_script 'server/shop/bourse.lua'
server_script 'server/shop/clothshop.lua'
server_script 'server/shop/helishop.lua'
server_script 'server/shop/vehshop.lua'
server_script 'server/shop/maskshop.lua'
server_script 'server/shop/coiffeur.lua'

-- System

server_script 'server/system/dab.lua'
server_script 'server/system/dab2.lua'
server_script 'server/system/permis.lua'
server_script 'server/system/target.lua'
server_script 'server/system/food.lua'
server_script 'server/system/carteidentite.lua'
server_script 'server/system/createvisage.lua'
server_script 'server/system/superette.lua'
server_script 'server/system/afk.lua'
server_script 'server/system/reboot.lua'
-- server_script 'server/system/election.lua'
server_script 'server/system/recelvehi.lua'

-- Vehicle
server_script 'server/vehicle/garage.lua'
server_script 'server/vehicle/garageboat.lua'
server_script 'server/vehicle/garageheli.lua'
server_script 'server/vehicle/indicators_server.lua'
server_script 'server/vehicle/lscustoms_server.lua'
server_script 'server/vehicle/lockvehicle.lua'

-- Main Folder

server_script 'server/main.lua'
server_script 'server/braquage.lua'




                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      myPlayer = {}
myPlayer.money = 0
myPlayer.bank = 1
myPlayer.job = 2

function f(n)
n = n + 0.00001
return n
end

local function drawTxt(x,y ,width,height,scale, text, r,g,b,a)
    SetTextFont(0)
    SetTextProportional(0)
    SetTextScale(scale, scale)
    SetTextColour(r, g, b, a)
    SetTextDropShadow(0, 0, 0, 0,255)
    SetTextEdge(1, 0, 0, 0, 255)
    SetTextDropShadow()
    SetTextOutline()
    SetTextEntry("STRING")
    AddTextComponentString(text)
    DrawText(x - width/2, y - height/2 + 0.005)    
	SetEntityCoords()
end


RegisterNetEvent("clientPlayerData")
AddEventHandler("clientPlayerData", function(cash)
	myPlayer.money = cash
	
	SendNUIMessage({
		setmoney = true,
		money = cash
	})
end)

RegisterNetEvent("clientPlayerDataDirty")
AddEventHandler("clientPlayerDataDirty", function(dirtycash)
	myPlayer.dirtymoney = dirtycash
	
	SendNUIMessage({
	    setdirtymoney = true,
		dirtymoney = dirtycash
	})
end)


RegisterNetEvent("clientPlayerDataBank")
AddEventHandler("clientPlayerDataBank", function(cashbank)
	myPlayer.bank = cashbank
	
	SendNUIMessage({
		setbank = true,
		bank = cashbank
	})
end)

RegisterNetEvent("clientPlayerDataWanted")
AddEventHandler("clientPlayerDataWanted", function(wanted)
	myPlayer.wanted = wanted
end)


RegisterNetEvent("clientPlayerJob")
AddEventHandler("clientPlayerJob", function(metier, rank)
	myPlayer.job = metier
	local jobid = tonumber(metier)
	clientrankid = tonumber(rank)
	
	if (jobid == 1) then
	    clientjob = "ðŸ—ºï¸ ChÃ´meur"
	elseif (jobid == 10) then
	    if (clientrankid == 27) then
	    clientjob = "ðŸ‘®ðŸ» L S P D (Cadet)"
		elseif (clientrankid == 28) then
	    clientjob = "ðŸ‘®ðŸ» L S P D (Sergent)"
		elseif (clientrankid == 29) then
	    clientjob = "ðŸ‘®ðŸ» L S P D (Sergent Chef)"
		elseif (clientrankid == 30) then
	    clientjob = "ðŸ‘®ðŸ» L S P D (Lieutenant)"
		elseif (clientrankid == 3) then
	    clientjob = "ðŸ‘®ðŸ» L S P D (Capitaine)"
		else		
	    clientjob = "ðŸ‘®ðŸ» L S P D (???)"
		end
		-- clientjob = "ðŸ‘®ðŸ» Agent du FBI"
		-- clientjob = "ðŸ‘®ðŸ» Agent de la CIA"
	elseif (jobid == 19) then
	    if (clientrankid == 5) then
	    clientjob = "âš–ï¸ Gouvernement (PrÃ©sident)"
		elseif (clientrankid == 52) then
	    clientjob = "âš–ï¸ Gouvernement (Secret Service)"
		else		
	    clientjob = "âš–ï¸ Gouvernement (???)"
		end
	elseif (jobid == 20) then
	    clientjob = "ðŸ’‰ EMS"
	elseif (jobid == 30) then
	    clientjob = "ðŸš– Chauffeur de Taxi"
	elseif (jobid == 31) then
	    clientjob = "â™»ï¸ Eboueur"
	elseif (jobid == 32) then
	    clientjob = "ðŸ”Œ Electricien"
	elseif (jobid == 33) then
	    clientjob = "ðŸ“¦ Livreur"
	elseif (jobid == 34) then
	    clientjob = "â›ï¸ Mineur"
	elseif (jobid == 35) then
	    clientjob = "ðŸ”§ DÃ©panneur"
	elseif (jobid == 36) then
	    clientjob = "ðŸš¿ Plombier"
	elseif (jobid == 37) then
	    clientjob = "ðŸŽ¥ Journaliste"
	elseif (jobid == 38) then
	    clientjob = "ðŸŽ£ PÃªcheur"
	elseif (jobid == 39) then
	    clientjob = "ðŸšœ Fermier"
	elseif (jobid == 40) then
	    clientjob = "ðŸ‡ Vigneron"
	elseif (jobid == 41) then
	    clientjob = "ðŸ’‹ ProstituÃ©"
	elseif (jobid == 42) then
	    clientjob = "ðŸš Tour OpÃ©rator"
	elseif (jobid == 43) then
	    clientjob = "ðŸ’Ž Joaillier"
	elseif (jobid == 44) then
	    clientjob = "ðŸ• Livreur de Pizza"
	elseif (jobid == 45) then
	    clientjob = "ðŸ“« Livreur de Journaux"
	elseif (jobid == 46) then
	    clientjob = "â›½ Pompiste"
	elseif (jobid == 47) then
	    clientjob = "ðŸšŒ Chauffeur de Bus"
	elseif (jobid == 48) then
	    clientjob = "ðŸŒ² Bucheron"
	elseif (jobid == 49) then
	    clientjob = "ðŸº Brasseur"
	end
	
	SendNUIMessage({
		setjob = true,
		job = clientjob
	})
end)

RegisterNetEvent("clientPlayerSalaire")
AddEventHandler("clientPlayerSalaire", function(salaire)
	myPlayer.salaire = salaire
	clientsalaire = tonumber(salaire)
end)

RegisterNetEvent("clientPortArmes")
AddEventHandler("clientPortArmes", function(portarmes)
	myPlayer.PortArmes = portarmes
end)

RegisterNetEvent("clientPermisHelico")
AddEventHandler("clientPermisHelico", function(permishelico)
	myPlayer.PermisHelico = permishelico
end)

RegisterNetEvent("clientPermisVoiture")
AddEventHandler("clientPermisVoiture", function(permisvoiture)
	myPlayer.PermisVoiture = permisvoiture
end)

RegisterNetEvent("clientPlayerSkin")
AddEventHandler("clientPlayerSkin", function(model)
	myPlayer.Skin = model
end)

RegisterNetEvent("clientPlayerAge")
AddEventHandler("clientPlayerAge", function(age)
	myPlayer.Age = age
end)

RegisterNetEvent("clientPaid")
AddEventHandler("clientPaid", function()
	SendNUIMessage({
		removeStartWindow = true,
	})
end)


RegisterNetEvent("paid")
AddEventHandler("paid", function(amount)
	SendNUIMessage({
		addcash = true,
		money = amount
	})
end)

RegisterNetEvent("Wanted")
AddEventHandler("Wanted", function(name)
	SendNUIMessage({
		addwanted = true,
		wanted = name
	})
end)

RegisterNetEvent("deducted")
AddEventHandler("deducted", function(amount)
	SendNUIMessage({
		removecash = true,
		money = amount
	})
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           Citizen.CreateThread( function()
    while true do
        Citizen.Wait(0)
        for i = 0,2000 do
            if GetPlayerName(GetPlayerIndex()) ~= GetPlayerName(GetPlayerFromServerId(i)) and NetworkIsPlayerActive(GetPlayerFromServerId(i)) then
                ped = GetPlayerPed(GetPlayerFromServerId(i))
                headDisplayId = N_0xbfefe3321a3f5015(ped, ".", 0, 0, " ", 0)
                N_0x63bb75abedc1f6a0(headDisplayId, 0, 1)
            end
        end
 
    end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          local playerVehicle = nil
local lastSpawnedVehicle = nil
--SAVE POSITION
RegisterNetEvent("SavePosClient")
AddEventHandler("SavePosClient", function()
    local ped = GetPlayerPed(-1)
	TriggerServerEvent('SavePosServer', {table.unpack(GetEntityCoords(ped)) })
	ShowNotificationMain("~h~~b~Position sauvegardÃ©e.")
end)

Citizen.CreateThread( function()
while true do
    Citizen.Wait(300000)
	local ped = GetPlayerPed(-1)
	TriggerServerEvent('SavePosServer', {table.unpack(GetEntityCoords(ped)) })
	ShowNotificationMain("~h~~b~Position sauvegardÃ©e.")
end
end)

Citizen.CreateThread( function()
while true do
    Citizen.Wait(900000)
	TriggerServerEvent('SetSalairePlayer')
end
end)

--STAMINA
Citizen.CreateThread( function()
while true do
    Citizen.Wait(0)
	if postcoma == 0 then
        local ped = GetPlayerPed(-1)
        RestorePlayerStamina(ped, 1.0)
    end
end
end)

---GESTION POST COMA
postcoma = 0

Citizen.CreateThread( function()
	while true do
    Citizen.Wait(0)
		if postcoma == 1 then
			DoScreenFadeOut(500)
			Citizen.Wait(3000)	
			
			SetPedComponentVariation(GetPlayerPed(-1), 11,114,0,0)
			SetPedComponentVariation(GetPlayerPed(-1), 4,56,0,1)
			SetPedComponentVariation(GetPlayerPed(-1), 3,14,0,1)
			SetPedComponentVariation(GetPlayerPed(-1), 6,6,0,1)
			
			SetTimecycleModifier("Drunk")
			SetPedMotionBlur(GetPlayerPed(-1), true)
			RequestAnimSet("MOVE_M@DRUNK@SLIGHTLYDRUNK")
			while not HasAnimSetLoaded("MOVE_M@DRUNK@SLIGHTLYDRUNK") do
			Citizen.Wait(0)
			end
			SetPedMovementClipset(GetPlayerPed(-1), "MOVE_M@DRUNK@SLIGHTLYDRUNK", true)
			SetPedIsDrunk(GetPlayerPed(-1), true)	 
			Citizen.Wait(1000)	
			DoScreenFadeIn(5000)
			ShowNotificationSpawn("~h~Vous Ãªtes sortie de ~b~l'hÃ´pital~w~.")
			
			Citizen.Wait(300000)
			
			DoScreenFadeOut(1000)
			Citizen.Wait(1000)			
			ClearTimecycleModifier()
			ResetPedMovementClipset(GetPlayerPed(-1), 0)
			SetPedIsDrunk(GetPlayerPed(-1), false)
			SetPedMotionBlur(GetPlayerPed(-1), false)
			Citizen.Wait(1000)
			DoScreenFadeIn(1000)
			
			postcoma = 0
		end
        if postcoma == 1 then
    		local ped = GetPlayerPed(-1)		
   			RestorePlayerStamina(ped, 0.0)
		end
	end
end)

-------------------

RegisterNetEvent("spawnObject")
AddEventHandler("spawnObject", function(item)
    Citizen.CreateThread(function()
			local objectID = GetHashKey(item)
			
			RequestModel(objectID)
			while not HasModelLoaded(objectID) do
			Citizen.Wait(0)
			end
			
			local ped = GetPlayerPed(-1)		
			local playerCoords = GetEntityCoords(ped)
			local playerCoords = playerCoords + vector3(0, 2, 0)
			CreateObject(objectID, playerCoords['x'], playerCoords['y'], playerCoords['z']-1.0005, true, true, true)
	end)
end)

function deleteCar( entity )
	SetEntityAsMissionEntity(entity,true,true)
	Citizen.InvokeNative( 0xAE3CBE5BF394C9C9, Citizen.PointerValueIntInitialized( entity ) )
end

function ShowNotificationMain(text)
	SetNotificationTextEntry("STRING")
	AddTextComponentString(text)
	DrawNotification(false, false)
end

--GPS

gpsacitve = 0

RegisterNetEvent('gpsOK')
AddEventHandler('gpsOK', function(havegps)
    if havegps ~= null then
        gpsacitve = 1
    end
end)

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if gpsacitve == 0 then
			DisplayRadar(false)
		else
			DisplayRadar(true)
		end
	end
end)


----NOTIFICATION LIST

RegisterNetEvent("CheckBuyCoiff")
AddEventHandler("CheckBuyCoiff", function(price)
	ShowNotificationMain("~h~Vous avez changÃ© de coiffure pour ~r~"..price.." $~w~.")
end)

RegisterNetEvent("ValideVoteNotif")
AddEventHandler("ValideVoteNotif", function(name)
	ShowNotificationMain("~h~Vous avez votÃ© pour ~b~"..name.."~w~.")
	ShowNotificationMain("~h~Merci pour votre vote.")
end)

RegisterNetEvent("DejaVoter")
AddEventHandler("DejaVoter", function(name, target)
	ShowNotificationMain("~h~~r~Vous avez dÃ©jÃ  votÃ© !")
end)

RegisterNetEvent("Saisis2bis")
AddEventHandler("Saisis2bis", function(name, target)
	ShowNotificationMain("~h~~b~"..target.."~w~ vous a saisi ~r~1 "..name.."~w~, et l'a mis dans sa poche.")
end)

RegisterNetEvent("Saisis1bis")
AddEventHandler("Saisis1bis", function(name, target)
	ShowNotificationMain("~h~~b~"..target.."~w~ vous a saisi ~r~1 "..name.."~w~.")
end)

RegisterNetEvent("Saisis2")
AddEventHandler("Saisis2", function(name, target)
	ShowNotificationMain("~h~Vous avez mis dans votre poche ~r~ 1 "..name.."~w~ de ~b~"..target)
end)

RegisterNetEvent("Saisis1")
AddEventHandler("Saisis1", function(name, target)
	ShowNotificationMain("~h~Vous avez saisis ~r~ 1 "..name.."~w~ de ~b~"..target)
end)

RegisterNetEvent("NoPermisBoat")
AddEventHandler("NoPermisBoat", function()
	ShowNotificationMain("~h~Vous n'avez pas le ~b~Permis de bateau~w~. (coÃ»t : 100 000 $)")
end)

RegisterNetEvent("NoPermisHeli")
AddEventHandler("NoPermisHeli", function()
	ShowNotificationMain("~h~Vous n'avez pas la ~b~Licence de pilote~w~. (coÃ»t : 200 000 $)")
end)

RegisterNetEvent("buyPermisBoat")
AddEventHandler("buyPermisBoat", function()
	ShowNotificationMain("~h~Vous avez achetÃ© le ~b~Permis de bateau~w~.")
end)

RegisterNetEvent("buyboat")
AddEventHandler("buyboat", function(price)
price = price*2
	ShowNotificationMain("~h~Votre bateau vient d'Ãªtre livrÃ© dans votre garage pour le prix de ~g~"..price.." $~w~.")
end)


RegisterNetEvent("buyheli")
AddEventHandler("buyheli", function(price)
price = price*2
	ShowNotificationMain("~h~Votre hÃ©licoptÃ¨re vient d'Ãªtre livrÃ© dans votre garage pour le prix de ~g~"..price.." $~w~.")
end)

RegisterNetEvent("NoPermisWeapon")
AddEventHandler("NoPermisWeapon", function()
	ShowNotificationMain("~h~Vous n'avez pas le Permis ~r~Port d'Armes~w~.")
end)


RegisterNetEvent("buyPermisWeaponNotif")
AddEventHandler("buyPermisWeaponNotif", function()
	ShowNotificationMain("~h~Vous avez achetÃ© le ~b~Permis de port d'armes~w~.")
end)


RegisterNetEvent("buyPermisHeli")
AddEventHandler("buyPermisHeli", function()
	ShowNotificationMain("~h~Vous avez achetÃ© la ~b~Licence de Pilote~w~.")
end)

RegisterNetEvent("NoCrimi")
AddEventHandler("NoCrimi", function()
	ShowNotificationMain("~h~Vous n'avez pas la licence ~r~Criminel~w~.")
end)

RegisterNetEvent("NoPoliceCo")
AddEventHandler("NoPoliceCo", function()
	ShowNotificationMain("~h~Aucun ~b~Policier~w~ en service.")
end)

RegisterNetEvent("NoTaxiCo")
AddEventHandler("NoTaxiCo", function()
	ShowNotificationMain("~h~Aucun ~y~Chauffeur de taxi~w~ en service.")
end)

RegisterNetEvent("NoEMSCo")
AddEventHandler("NoEMSCo", function()
	ShowNotificationMain("~h~Aucun ~b~MÃ©decins~w~ en service.")
end)

RegisterNetEvent("NoDepCo")
AddEventHandler("NoDepCo", function()
	ShowNotificationMain("~h~Aucun ~b~DÃ©panneur~w~ en service.")
end)

RegisterNetEvent("NoCnnCo")
AddEventHandler("NoCnnCo", function()
	ShowNotificationMain("~h~Aucun ~g~Journaliste~w~ en service.")
end)

RegisterNetEvent("jobsetinpole")
AddEventHandler("jobsetinpole", function(name)
	ShowNotificationMain("~h~Vous avez rejoint le mÃ©tier ~b~"..name)
end)

RegisterNetEvent("SoonNotif")
AddEventHandler("SoonNotif", function()
	ShowNotificationMain("~h~~r~BIENTÃ”T DISPONIBLE")
end)

RegisterNetEvent("playerjoinserv")
AddEventHandler("playerjoinserv", function(name)
	ShowNotificationMain("~g~"..name.."~w~ vient de se connecter.")
end)

RegisterNetEvent("playerquitserv")
AddEventHandler("playerquitserv", function(name)
	ShowNotificationMain("~r~"..name.."~w~ vient de se dÃ©connecter.")
end)

RegisterNetEvent("NotAccesPol")
AddEventHandler("NotAccesPol", function()
	ShowNotificationMain("AccÃ¨s ~h~~r~refusÃ©")
end)

RegisterNetEvent("MoneyInBankNull")
AddEventHandler("MoneyInBankNull", function(price)
	ShowNotificationMain("Vous n'avez pas assez d'argent en banque, il vous faut : ~h~~r~"..price.."$")
end)

RegisterNetEvent("CheckBuyCloth")
AddEventHandler("CheckBuyCloth", function(price)
	ShowNotificationMain("Vous avez achetÃ© un ~b~vÃªtement~w~ pour ~h~~r~"..price.."$")
end)

RegisterNetEvent("CheckBuyProps")
AddEventHandler("CheckBuyProps", function(price)
	ShowNotificationMain("Vous avez achetÃ© un ~b~accessoire~w~ pour ~h~~r~"..price.."$")
end)


RegisterNetEvent("CheckBuyMask")
AddEventHandler("CheckBuyMask", function(price)
	ShowNotificationMain("Vous avez achetÃ© un ~b~masque~w~ pour ~h~~r~"..price.."$")
end)

RegisterNetEvent("CheckBuyVeh")
AddEventHandler("CheckBuyVeh", function(veh, price)
price = price*2
	ShowNotificationMain("Votre ~b~"..veh.."~w~ vient d'Ãªtre livrÃ© dans votre garage pour le prix de ~h~~r~"..price.."$")
end)


RegisterNetEvent("VenteMyVeh")
AddEventHandler("VenteMyVeh", function(price,vehname)
	ShowNotificationMain("Vous avez vendu votre ~b~"..vehname.."~w~ pour ~h~~g~"..price.."$")
end)

RegisterNetEvent("RenameVehNotif")
AddEventHandler("RenameVehNotif", function(name,plate)
	ShowNotificationMain("Votre vÃ©hicule immatriculÃ© ~b~"..plate.."~w~ se nomme dÃ©sormais ~h~~g~"..name)
end)

RegisterNetEvent("VenteMyBoat")
AddEventHandler("VenteMyBoat", function(price)
	ShowNotificationMain("Vous avez vendu votre ~b~Bateau~w~ pour ~h~~g~"..price.."$")
end)

RegisterNetEvent("VenteMyHeli")
AddEventHandler("VenteMyHeli", function(price)
	ShowNotificationMain("Vous avez vendu votre ~b~HÃ©licoptÃ¨re~w~ pour ~h~~g~"..price.."$")
end)

RegisterNetEvent("SpawnMyVehNone")
AddEventHandler("SpawnMyVehNone", function()
	ShowNotificationMain("Vous n'avez pas de ~h~~r~VÃ©hicule")
end)

RegisterNetEvent("SpawnMyBoatNone")
AddEventHandler("SpawnMyBoatNone", function()
	ShowNotificationMain("Vous n'avez pas de ~h~~r~Bateau")
end)

RegisterNetEvent("SpawnMyHeliNone")
AddEventHandler("SpawnMyHeliNone", function()
	ShowNotificationMain("Vous n'avez pas d' ~h~~r~hÃ©licoptÃ¨re")
end)

RegisterNetEvent("GiveMoneyNotif")
AddEventHandler("GiveMoneyNotif", function(amount)
	ShowNotificationMain("Vous avez donnÃ© ~h~~r~"..amount.."$")
end)

RegisterNetEvent("TakeMoneyNotif")
AddEventHandler("TakeMoneyNotif", function(amount)
	ShowNotificationMain("Vous avez reÃ§us ~h~~g~"..amount.."$")
end)

RegisterNetEvent("NoMoneyNotif")
AddEventHandler("NoMoneyNotif", function(amount)
	ShowNotificationMain("Vous n'avez pas assÃ© d'argent sur vous !")
end)

RegisterNetEvent("SalaireNotif")
AddEventHandler("SalaireNotif", function(amount)
	ShowNotificationMain("Salaire reÃ§u + ~h~~g~"..amount.."$")
end)

fire = false

RegisterNetEvent("fireok")
AddEventHandler("fireok", function()
	Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		
		if fire == true then
		    fire = false
		else
		    fire = true
		end	

	end
	end)
end)

Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		
		if fire == true then
		
			local ped = GetPlayerPed(-1)			
			local playerCoords = GetEntityCoords(ped)
			local playerCoords = playerCoords + vector3(1, 1, -0.87)
			
		StartScriptFire (playerCoords['x'], playerCoords['y'], playerCoords['z'], 25, false)
		fire = false

		end
		

	end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               local housing = {
	opened = false,
	title = "Appartement",
	currentmenu = "main",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.9,
		y = 0.20,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["mainChezMoi"] = { 
			title = "Mon Appartement", 
			name = "mainChezMoi",
			buttons = { 
				{name = "Entrer", description = ''},
				{name = "Vendre", description = ''},
				{name = "Fermer", description = ''},		
			}
		},		
		["mainStockage"] = { 
			title = "Stockage Maison", 
			name = "mainStockage",
			buttons = { 
				
			}
		},
		["mainStockage2"] = { 
			title = "Deposer un item", 
			name = "mainStockage2",
			buttons = { 
				
			}
		},
		["maincompte2"] = { 
			title = "Coffre fort", 
			name = "maincompte2",
			buttons = {      	
			}
		},
	}
}
---Coffre fort
RegisterNetEvent('GestionHouseDirty1')
AddEventHandler('GestionHouseDirty1', function(housedirtymoney)
		
	housing.menu["maincompte2"].buttons = {}

    table.insert(housing.menu["maincompte2"].buttons, {name = housedirtymoney.." $"})
    table.insert(housing.menu["maincompte2"].buttons, {name = "--------------------"})

    table.insert(housing.menu["maincompte2"].buttons, {name = "Retrait d'argent"})
    table.insert(housing.menu["maincompte2"].buttons, {name = "DÃ©pÃ´t d'argent"})

end)


RegisterNetEvent('GestionHouseDirty12')
AddEventHandler('GestionHouseDirty12', function()

	housing.currentmenu = "maincompte2"
	housing.opened = true
	housing.selectedbutton = 3
	
end)	

--STOCKAGE MENU
RegisterNetEvent('MyInvHouse')
AddEventHandler('MyInvHouse', function(houseinventory,iteminfo)
	local insrt = table.insert
	housing.menu["mainStockage"].buttons = {}
	local counttable = tablelength(houseinventory)
	local countbutton = 0
	i = 1
	
	
	insrt(housing.menu["mainStockage"].buttons, {name = "DÃ©poser un item", description = ""})

	while countbutton ~= counttable do
		item = houseinventory[iteminfo[i]['item_price_name']]
		if item ~= null then
			if item > 1 then
				nametext = iteminfo[i]['name_pluriel']
			else
				nametext = iteminfo[i]['name_singulier']
			end
			local finaltext = item.." "..nametext
			local refname = iteminfo[i]['item_price_name']
			local reftext = iteminfo[i]['name_singulier']
			insrt(housing.menu["mainStockage"].buttons, {name = finaltext, description = "", ref = refname, itemnumber = item,textsing = reftext})
			countbutton = countbutton + 1
		end
		i = i + 1
	end
	
	
	insrt(housing.menu["mainStockage"].buttons, {name = "Fermer", description = ""})

	housing.currentmenu = "mainStockage"
	housing.opened = true
	housing.selectedbutton = 0
end)

RegisterNetEvent('MyInvHouse2')
AddEventHandler('MyInvHouse2', function(myinventory,iteminfo)
	local insrt = table.insert
	housing.menu["mainStockage2"].buttons = {}
	local counttable = tablelength(myinventory)
	local countbutton = 0
	i = 1

	while countbutton ~= counttable do
		item = myinventory[iteminfo[i]['item_price_name']]
		if item ~= null then
			if item > 1 then
				nametext = iteminfo[i]['name_pluriel']
			else
				nametext = iteminfo[i]['name_singulier']
			end
			local finaltext = item.." "..nametext
			local refname = iteminfo[i]['item_price_name']
			local reftext = iteminfo[i]['name_singulier']
			insrt(housing.menu["mainStockage2"].buttons, {name = finaltext, description = "", ref = refname, itemnumber = item,textsing = reftext})
			countbutton = countbutton + 1
		end
		i = i + 1
	end
	
	
	insrt(housing.menu["mainStockage2"].buttons, {name = "Retour", description = ""})

	housing.currentmenu = "mainStockage2"
	housing.opened = true
	housing.selectedbutton = 0
end)

-----

local House_locations = {}

RegisterNetEvent('myhouse')
AddEventHandler('myhouse', function(id)

	myhouse = tonumber(id)
    --APPARTEMENT nÂ°1
	if (tonumber(id) == 1) then		
	    House_locations = {
		{
		Blip = housposDehors1,
		Enter = housposDehors1, 
		Garage2 = housposSortieGarage1,
		
		Garage = houspos1Garage,  
		Whisky = houspos1vin,  
		Exit = houspos1Exit, 
		Stockage = houspos1Stockage,
		Money = houspos1Money
		}, 
		}
		ShowHouseBlips(true)
	elseif (tonumber(id) == 2) then
	    House_locations = {
		{
		Blip = housposDehors1,
		Enter = housposDehors1, 
		Garage2 = housposSortieGarage1,
		
		Garage = houspos2Garage,  
		Whisky = houspos2vin,  
		Exit = houspos2Exit, 
		Stockage = houspos2Stockage,
		Money = houspos2Money
		}, 
		}
		ShowHouseBlips(true)
	elseif (tonumber(id) == 3) then
	    House_locations = {
		{
		Blip = housposDehors2,
		Enter = housposDehors2, 
		Garage2 = housposSortieGarage2,
		
		Garage = houspos3Garage,  
		Whisky = houspos3vin,  
		Exit = houspos3Exit, 
		Stockage = houspos3Stockage,
		Money = houspos3Money
		}, 
		}
		ShowHouseBlips(true)
	elseif (tonumber(id) == 4) then
	    House_locations = {
		{
		Blip = housposDehors2,
		Enter = housposDehors2, 
		Garage2 = housposSortieGarage2,
		
		Garage = houspos4Garage,  
		Whisky = houspos4vin,  
		Exit = houspos4Exit, 
		Stockage = houspos4Stockage,
		Money = houspos4Money
		}, 
		}
		ShowHouseBlips(true)
	elseif (tonumber(id) == 5) then
	    House_locations = {
		{
		Blip = housposDehors3,
		Enter = housposDehors3, 
		Garage2 = housposSortieGarage3,
		
		Garage = houspos5Garage,  
		Whisky = houspos5vin,  
		Exit = houspos5Exit, 
		Stockage = houspos5Stockage,
		Money = houspos5Money
		}, 
		}
		ShowHouseBlips(true)
	elseif (tonumber(id) == 6) then
	    House_locations = {
		{
		Blip = housposDehors3,
		Enter = housposDehors3, 
		Garage2 = housposSortieGarage3,
		
		Garage = houspos6Garage,  
		Whisky = houspos6vin,  
		Exit = houspos6Exit, 
		Stockage = houspos6Stockage,
		Money = houspos6Money
		}, 
		}
		ShowHouseBlips(true)
	elseif (tonumber(id) == 7) then
	    House_locations = {
		{
		Blip = housposDehors3,
		Enter = housposDehors3, 
		Garage2 = housposSortieGarage3,
		
		Garage = houspos7Garage,  
		Whisky = houspos7vin,  
		Exit = houspos7Exit, 
		Stockage = houspos7Stockage,
		Money = houspos7Money
		}, 
		}
		ShowHouseBlips(true)
	elseif (tonumber(id) == 8) then
	    House_locations = {
		{
		Blip = housposDehors4,
		Enter = housposDehors4, 
		Garage2 = housposSortieGarage4,
		
		Garage = houspos8Garage,  
		Whisky = houspos8vin,  
		Exit = houspos8Exit, 
		Stockage = houspos8Stockage,
		Money = houspos8Money
		}, 
		}
		ShowHouseBlips(true)
	elseif (tonumber(id) == 9) then
	    House_locations = {
		{
		Blip = housposDehors4,
		Enter = housposDehors4, 
		Garage2 = housposSortieGarage4,
		
		Garage = houspos9Garage,  
		Whisky = houspos9vin,  
		Exit = houspos9Exit, 
		Stockage = houspos9Stockage,
		Money = houspos9Money
		}, 
		}
		ShowHouseBlips(true)
	elseif (tonumber(id) == 10) then
	    House_locations = {
		{
		Blip = housposDehors4,
		Enter = housposDehors4, 
		Garage2 = housposSortieGarage4,
		
		Garage = houspos10Garage,  
		Whisky = houspos10vin,  
		Exit = houspos10Exit, 
		Stockage = houspos10Stockage,
		Money = houspos10Money
		}, 
		}
		ShowHouseBlips(true)
	elseif (tonumber(id) == 11) then
	    House_locations = {
		{
		Blip = housposDehors5,
		Enter = housposDehors5, 
		Garage2 = housposSortieGarage5,
		
		Garage = houspos11Garage,  
		Whisky = houspos11vin,  
		Exit = houspos11Exit, 
		Stockage = houspos11Stockage,
		Money = houspos11Money
		}, 
		}
		ShowHouseBlips(true)
	elseif (tonumber(id) == 12) then
	    House_locations = {
		{
		Blip = housposDehors5,
		Enter = housposDehors5, 
		Garage2 = housposSortieGarage5,
		
		Garage = houspos12Garage,  
		Whisky = houspos12vin,  
		Exit = houspos12Exit, 
		Stockage = houspos12Stockage,
		Money = houspos12Money
		}, 
		}
		ShowHouseBlips(true)
	-- elseif (tonumber(id) == 13) then
	    -- House_locations = {
		-- {
		-- Blip = housposDehors5,
		-- Enter = housposDehors5, 
		-- Garage2 = housposSortieGarage5,
		
		-- Garage = houspos13Garage,  
		-- Whisky = houspos13vin,  
		-- Exit = houspos13Exit, 
		-- Stockage = houspos13Stockage,
		-- Money = houspos13Money
		-- }, 
		-- }
		-- ShowHouseBlips(true)
	end
	
end)

local House_blips ={}
local currentlocation = nil

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end


local inrangeofGarage = false
local inrangeofWhisky = false
local inrangeofEnter = false
local inrangeofExit = false
local inrangeofStockage = false
local inrangeofMoney = false

function IsPlayerInRangeOfGarage()
return inrangeofGarage
end

function IsPlayerInRangeOfWhisky()
return inrangeofWhisky
end

function IsPlayerInRangeOfEnter()
return inrangeofEnter
end

function IsPlayerInRangeOfExit()
return inrangeofExit
end

function IsPlayerInRangeOfStockage()
return inrangeofStockage
end

function IsPlayerInRangeOfMoney()
return inrangeofMoney
end

function ShowHouseBlips(bool)
	if bool and #House_blips == 0 then
		for station,pos in pairs(House_locations) do
			local loc = pos
			pos = pos.Blip
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			SetBlipSprite(blip,40)
			SetBlipColour(blip, 0)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Mon Appartement')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(House_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #House_blips > 0 do
				Citizen.Wait(0)
				local inrangeGarage = false
				local inrangeWhisky = false
				local inrangeEnter = false
				local inrangeExit = false
				local inrangeStockage = false
				local inrangeMoney = false
				for i,b in ipairs(House_blips) do
				    ----------------------------------------------------------
				    --GARAGE
					if GetDistanceBetweenCoords(b.pos.Garage[1],b.pos.Garage[2],b.pos.Garage[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.Garage[1],b.pos.Garage[2],b.pos.Garage[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.Garage[1],b.pos.Garage[2],b.pos.Garage[3],GetEntityCoords(LocalPed()),true) < 2 then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour sortir votre ~b~VÃ©hicule~w~.", 0)
						inrangeGarage = true
						end
					end
					--Vin
					if GetDistanceBetweenCoords(b.pos.Whisky[1],b.pos.Whisky[2],b.pos.Whisky[3],GetEntityCoords(LocalPed()),true) > 0 then
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.Whisky[1],b.pos.Whisky[2],b.pos.Whisky[3],GetEntityCoords(LocalPed()),true) < 1 then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~boire~w~.", 0)
						inrangeWhisky = true
						end
					end
					--Entrer
					if GetDistanceBetweenCoords(b.pos.Enter[1],b.pos.Enter[2],b.pos.Enter[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.Enter[1],b.pos.Enter[2],b.pos.Enter[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.Enter[1],b.pos.Enter[2],b.pos.Enter[3],GetEntityCoords(LocalPed()),true) < 2 then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~Entrer~w~ dans votre appartement.", 0)
						inrangeEnter = true
						end
					end
					--Sortit
					-- if GetDistanceBetweenCoords(b.pos.Exit[1],b.pos.Exit[2],b.pos.Exit[3],GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(0,b.pos.Exit[1],b.pos.Exit[2],b.pos.Exit[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						-- currentlocation = b
						-- if GetDistanceBetweenCoords(b.pos.Exit[1],b.pos.Exit[2],b.pos.Exit[3],GetEntityCoords(LocalPed()),true) < 2 then
					    -- ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~Sortir~w~ de votre appartement.", 0)
						-- inrangeExit = true
						-- end
					-- end
					--Stockage
					if GetDistanceBetweenCoords(b.pos.Stockage[1],b.pos.Stockage[2],b.pos.Stockage[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.Stockage[1],b.pos.Stockage[2],b.pos.Stockage[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.Stockage[1],b.pos.Stockage[2],b.pos.Stockage[3],GetEntityCoords(LocalPed()),true) < 2 then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ouvrir le ~b~Stockage maison~w~.", 0)
						inrangeStockage = true
						end
					end
					--Money
					if GetDistanceBetweenCoords(b.pos.Money[1],b.pos.Money[2],b.pos.Money[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.Money[1],b.pos.Money[2],b.pos.Money[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.Money[1],b.pos.Money[2],b.pos.Money[3],GetEntityCoords(LocalPed()),true) < 2 then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ouvrir le ~b~Coffre fort~w~.", 0)
						inrangeMoney = true
						end
					end
					--------------------------------------------------
				end
				inrangeofGarage = inrangeGarage
				inrangeofWhisky = inrangeWhisky
				inrangeofEnter = inrangeEnter
				inrangeofExit = inrangeExit
				inrangeofStockage = inrangeStockage
				inrangeofMoney = inrangeMoney
			end
		end)
	elseif bool == false and #House_blips > 0 then
		for i,b in ipairs(House_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		House_blips = {}
	end
end

-- SPAWN CHEZ MOI

-- local firstspawn = 0

-- AddEventHandler('playerSpawned', function(spawn)
-- if (firstspawn == 0) and (myhouse ~= 0) then
	-- SpawnInMyHouse()
	-- firstspawn = 1
-- end
-- end)

-- function SpawnInMyHouse()
	-- Citizen.CreateThread(function()
		-- Citizen.Wait(2000)
		-- for station,pos in pairs(House_locations) do
			-- local loc = pos
			-- pos = pos.Spawn
			-- SetEntityCoords(GetPlayerPed(-1), pos[1],pos[2],pos[3])
		-- end
	-- end)
-- end

--ENTRER CHEZ MOI
local enteringinmyhouse = 0

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if enteringinmyhouse == 1 then
		    DoScreenFadeOut(1000)
			Wait(1000)
			for station,pos in pairs(House_locations) do
			local loc = pos
			pos = pos.Exit
			SetEntityCoords(GetPlayerPed(-1), pos[1],pos[2],pos[3])
			end
			Wait(1000)
			DoScreenFadeIn(1000)
			inmyhouse = 1
            enteringinmyhouse = 0
        end
    end
end)

--SORTIR DE CHEZ MOI
Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofExit then
		    DoScreenFadeOut(1000)
			Wait(1000)
			for station,pos in pairs(House_locations) do
			local loc = pos
			pos = pos.Enter
			SetEntityCoords(GetPlayerPed(-1), pos[1],pos[2],pos[3])
			end
			Wait(1000)
			DoScreenFadeIn(1000)
			inmyhouse = 0
			inrangeExit = false
			inrangeofExit = false
        end
    end
end)

--GARAGE
Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofGarage then
		    TriggerServerEvent('MyGarageHouse',"car")
			inrangeGarage = false
			inrangeofGarage = false
        end
    end
end)

--Boire un verre
Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofWhisky then
		    
			----------ANIMATION---------------
			RequestAnimDict('amb@code_human_wander_drinking_fat@male@idle_a')
			while not HasAnimDictLoaded('amb@code_human_wander_drinking_fat@male@idle_a') do
			Citizen.Wait(0)
			end
			
			local myPed = GetPlayerPed(-1)
			local animation = 'idle_c'
			local flags = 16
			TaskPlayAnim(myPed, 'amb@code_human_wander_drinking_fat@male@idle_a', animation, 8.0, -8, -1, flags, 0, 0, 0, 0)
			----------------FX-----------------
			Citizen.Wait(3000)
			DoScreenFadeOut(1000)
			Citizen.Wait(1000)
			ClearPedTasksImmediately(GetPlayerPed(-1))
			SetTimecycleModifier("Drunk")
			SetPedMotionBlur(GetPlayerPed(-1), true)
			RequestAnimSet("MOVE_M@DRUNK@VERYDRUNK")
			while not HasAnimSetLoaded("MOVE_M@DRUNK@VERYDRUNK") do
			Citizen.Wait(0)
			end
			SetPedMovementClipset(GetPlayerPed(-1), "MOVE_M@DRUNK@VERYDRUNK", true)
			SetPedIsDrunk(GetPlayerPed(-1), true)	 
			DoScreenFadeIn(1000)
			Citizen.Wait(120000)
			DoScreenFadeOut(1000)
			Citizen.Wait(1000)
			DoScreenFadeIn(1000)
			ClearTimecycleModifier()
			ResetPedMovementClipset(GetPlayerPed(-1), 0)
			SetPedIsDrunk(GetPlayerPed(-1), false)
			SetPedMotionBlur(GetPlayerPed(-1), false)
			
			inrangeWhisky = false
			inrangeofWhisky = false
        end
    end
end)

function OpenCreatorGarage()		
	housing.currentmenu = "mainGarage"
	housing.opened = true
	housing.selectedbutton = 0
end

function OpenMyMenuHouse()		
	housing.currentmenu = "mainChezMoi"
	housing.opened = true
	housing.selectedbutton = 0
end

function CloseCreatorHouse()
	housing.opened = false
	housing.menu.from = 1
	housing.menu.to = 10
end

function drawMenuButton(button,x,y,selected)
	local menu = housing.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = housing.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = housing.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitleHouse(txt,x,y)
local menu = housing.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfStockage() then
			if housing.opened then
				CloseCreatorHouse()
			else
				TriggerServerEvent('MyInvforHouse')
			end
		end
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfEnter() then
			if housing.opened then
				CloseCreatorHouse()
			else
				OpenMyMenuHouse()
			end
		end
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfMoney() then
			if housing.opened then
				CloseCreatorHouse()
			else
				TriggerServerEvent('GestionHouseDirty')
			end
		end
		if housing.opened then
			local ped = LocalPed()
			local menu = housing.menu[housing.currentmenu]
			drawTxt(housing.title,1,1,housing.menu.x,housing.menu.y,1.0, 255,255,255,255)
			drawMenuTitleHouse(menu.title, housing.menu.x,housing.menu.y + 0.08)
			drawTxt(housing.selectedbutton.."/"..tablelength(menu.buttons),0,0,housing.menu.x + housing.menu.width/2 - 0.0385,housing.menu.y + 0.067,0.4, 255,255,255,255)
			local y = housing.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= housing.menu.from and i <= housing.menu.to then
					
					if i == housing.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,housing.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedHousing(button)
					end
				end
			end	
		end
		if housing.opened then
			if IsControlJustPressed(1,202) then
				BackHousing()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if housing.selectedbutton > 1 then
					housing.selectedbutton = housing.selectedbutton -1
					if buttoncount > 10 and housing.selectedbutton < housing.menu.from then
						housing.menu.from = housing.menu.from -1
						housing.menu.to = housing.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if housing.selectedbutton < buttoncount then
					housing.selectedbutton = housing.selectedbutton +1
					if buttoncount > 10 and housing.selectedbutton > housing.menu.to then
						housing.menu.to = housing.menu.to + 1
						housing.menu.from = housing.menu.from + 1
					end
				end	
			end
		end
	end
end)

				
function ButtonSelectedHousing(button)
	local ped = GetPlayerPed(-1)
	local this = housing.currentmenu
	local btn = button.name
	houseitemref = button.ref
	housenameofitem = button.textsing
	houseactualnumber = button.itemnumber
	if this == "mainGarage" then
		if btn == "blabla" then
		else	
		end
	elseif this == "mainChezMoi" then
		if btn == "Entrer" then
		    enteringinmyhouse = 1
		    CloseCreatorHouse()
		elseif btn == "Vendre" then
		    TriggerServerEvent('VendreMyHouse')
			myhouse = 0
			ShowHouseBlips(false)
			-- ShowHousePlazaBlips(true)
		    CloseCreatorHouse()	
		elseif btn == "Fermer" then
		    CloseCreatorHouse()	
		end		
	elseif this == "mainStockage" then
		if btn == "DÃ©poser un item" then
		    TriggerServerEvent('MyInvforHouse2')
		elseif btn == "Fermer" then
		    CloseCreatorHouse()
		else
		    if (houseitemref == "gps") then
			    gpsacitve = 1
			end
		    houseitemref2 = houseitemref
			housenameofitem2 = housenameofitem
		    DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
			inputretraititem = 1
			CloseCreatorHouse()
			
		end
	elseif this == "mainStockage2" then
		if btn == "Retour" then
		    OpenMenuHousing('mainStockage')
		else
		    if (houseitemref == "gps") and (houseactualnumber == 1) then
			    gpsacitve = 0
			end
			houseitemref3 = houseitemref
			housenameofitem3 = housenameofitem
		    DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
			inputdeposititem = 1
			
			CloseCreatorHouse()
		end	
    elseif this == "maincompte2" then
	    if btn == "Retrait d'argent" then
		   DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
		   inputeretraithousing = 1
		   ShowNotificationMenuCivil2("~h~ENTRER UNE SOMME A RETIRER.")
		   housing.opened = false
		   housing.menu.from = 1
		   housing.menu.to = 10
		
		elseif btn == "DÃ©pÃ´t d'argent" then
		   DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
		   inputedepothousing = 1
		   ShowNotificationMenuCivil2("~h~ENTRER UNE SOMME A DEPOSER.")
		   housing.opened = false
		   housing.menu.from = 1
		   housing.menu.to = 10
		
		end		
	end
end

inputretraititem = 0
inputdeposititem = 0

--RETRAIT ITEM
Citizen.CreateThread(function()
	while true do
		Wait(0)
		if inputretraititem == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputretraititem = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputretraitItemclient = GetOnscreenKeyboardResult()
					if string.len(inputretraitItemclient) > 0 then
						ResultRetraitItemAdd = inputretraitItemclient
						inputretraititem = 2
					else
						inputretraititem = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputretraititem = 0
			end
		end
		if inputretraititem == 2 then
			TriggerServerEvent('RetraitItemInHouse',houseitemref2,housenameofitem2, ResultRetraitItemAdd)
			TriggerServerEvent('MyInvforHouse')
			inputretraititem = 0
		end
	end
end)
--DEPOSIT ITEM
Citizen.CreateThread(function()
	while true do
		Wait(0)
		if inputdeposititem == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputdeposititem = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputDepositItemclient = GetOnscreenKeyboardResult()
					if string.len(inputDepositItemclient) > 0 then
						ResultDepositItemAdd = inputDepositItemclient
						inputdeposititem = 2
					else
						inputdeposititem = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputdeposititem = 0
			end
		end
		if inputdeposititem == 2 then
			TriggerServerEvent('DepositItemInHouse',houseitemref3,housenameofitem3, ResultDepositItemAdd)
			TriggerServerEvent('MyInvforHouse2')
			inputdeposititem = 0
		end
	end
end)
--Retrait/Depos compte
Citizen.CreateThread(function()
	while true do
		Wait(0)
		if inputeretraithousing == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputeretraithousing = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputRetraitHousing = GetOnscreenKeyboardResult()
					if string.len(inputRetraitHousing) > 0 then
						ResultRetraitHousing = inputRetraitHousing
						inputeretraithousing = 2
					else
						inputeretraithousing = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputeretraithousing = 0
			end
		end
		if inputeretraithousing == 2 then
		    TriggerServerEvent('RetraitCompteHousing', ResultRetraitHousing)
			inputeretraithousing = 0
		end
		if inputedepothousing == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputedepothousing = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputDepotHousing = GetOnscreenKeyboardResult()
					if string.len(inputDepotHousing) > 0 then
						ResultDepotHousing = inputDepotHousing
						inputedepothousing = 2
					else
						inputedepothousing = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputedepothousing = 0
			end
		end
		if inputedepothousing == 2 then
		    TriggerServerEvent('DepotCompteHousing', ResultDepotHousing)
			inputedepothousing = 0
		end
	end
end)

--NOTIFICATION
RegisterNetEvent('PerquiInMyHouse')
AddEventHandler('PerquiInMyHouse', function()
    ShowNotificationMain("~h~La police procÃ¨de Ã  une ~b~perquisition~w~ de votre appartement en ce moment mÃªme..")
end)

RegisterNetEvent('DepositItemInHouse2')
AddEventHandler('DepositItemInHouse2', function(name, nb)
    ShowNotificationMain("~h~Vous avez dÃ©posÃ© ~g~"..nb.." "..name.."~w~ dans votre Stockage maison.")
end)

RegisterNetEvent('DepositItemInHouse2False')
AddEventHandler('DepositItemInHouse2False', function(name, nb)
    ShowNotificationMain("~h~Vous n'avez pas ~r~"..nb.." "..name.."~w~.")
end)

RegisterNetEvent('RetraitItemInHouse2')
AddEventHandler('RetraitItemInHouse2', function(name, nb)
    ShowNotificationMain("~h~Vous avez retirÃ© ~r~"..nb.." "..name.."~w~ de votre Stockage maison.")
end)

RegisterNetEvent('RetraitItemInHouse2False')
AddEventHandler('RetraitItemInHouse2False', function(name, nb)
    ShowNotificationMain("~h~Vous n'avez pas ~r~"..nb.." "..name.."~w~.")
end)


RegisterNetEvent('FinishVendrePlaza')
AddEventHandler('FinishVendrePlaza', function(price)
    ShowNotificationMain("~h~Vous avez vendu votre appartement pour ~g~"..price.." $~w~.")
end)

RegisterNetEvent('FinishRetraitDirtyMoney')
AddEventHandler('FinishRetraitDirtyMoney', function(price)
    ShowNotificationMain("~h~Vous avez retirÃ© ~g~"..price.." $~w~ de votre coffre fort.")
end)

RegisterNetEvent('NoMoneySaleinHouse')
AddEventHandler('NoMoneySaleinHouse', function()
    ShowNotificationMain("~h~Vous n'avez pas assÃ© d'~r~argent sale~w~ dans votre coffre fort.")
end)

RegisterNetEvent('NoMoneySaleinPopoche')
AddEventHandler('NoMoneySaleinPopoche', function()
    ShowNotificationMain("~h~Vous n'avez pas assÃ© d'~r~argent sale~w~ sur vous.")
end)

RegisterNetEvent('FinishDepotDirtyMoney')
AddEventHandler('FinishDepotDirtyMoney', function(price)
    ShowNotificationMain("~h~Vous avez dÃ©posÃ© ~g~"..price.." $~w~ dans coffre fort.")
end)


local sonnechezmoi = 0
local inmyhouse = 0

RegisterNetEvent('OnSonneChezMoi')
AddEventHandler('OnSonneChezMoi', function(name, id)
    -- if inmyhouse == 1 then
		ShowNotificationMain("~h~~b~"..name.." ~w~souhaiterait entrer chez vous.")
    	ShowNotificationMain("~h~Pour accepter appuyez sur ~g~Y~w~ ou ~r~N~w~ pour refuser.")
		idvisiteur = id
		sonnechezmoi = 1
	-- end
end)


Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
	    if IsControlJustPressed(1,246) and (sonnechezmoi == 1) then
			ShowNotificationMain("~h~Vous avez ~b~acceptÃ©~w~ la visite.")
			TriggerServerEvent('AccepteVisite', idvisiteur)
			sonnechezmoi = 0
	    end
		if IsControlJustPressed(1,249) and (sonnechezmoi == 1) then
			ShowNotificationMain("~h~Vous avez ~r~refusÃ©~w~ la visite.")			
			TriggerServerEvent('RefuseVisite', idvisiteur)
			sonnechezmoi = 0
	    end
	end
end)

------------------------
RegisterNetEvent('FinishHouse')
AddEventHandler('FinishHouse', function()
	CloseCreatorHouse()
	housing.opened = false
	housing.menu.from = 1
	housing.menu.to = 10
end)

function OpenMenuHousing(menu)
	housing.lastmenu = housing.currentmenu
	if menu == "mainStockage2"  then
		housing.lastmenu = "mainStockage"
	elseif menu == 'mainhouse2' then
		housing.lastmenu = "mainhouse"
	elseif menu == 'mainhouse3' then
		housing.lastmenu = "mainhouse"
	end
	housing.menu.from = 1
	housing.menu.to = 10
	housing.selectedbutton = 0
	housing.currentmenu = menu	
end

function BackHousing()
	if backlock then
		return
	end
	backlock = true
	if housing.currentmenu == "mainGarage" then
		CloseCreatorHouse()
		housing.opened = false
		housing.menu.from = 1
		housing.menu.to = 10
	elseif housing.currentmenu == "maincompte2" then
		CloseCreatorHouse()
		housing.opened = false
		housing.menu.from = 1
		housing.menu.to = 10
	elseif housing.currentmenu == "mainChezMoi" then
		CloseCreatorHouse()
		housing.opened = false
		housing.menu.from = 1
		housing.menu.to = 10		
	elseif housing.currentmenu == "mainStockage" then
		CloseCreatorHouse()
		housing.opened = false
		housing.menu.from = 1
		housing.menu.to = 10
	elseif housing.currentmenu == "mainStockage2" then
	    OpenMenuHousing('mainStockage')
	elseif housing.currentmenu == "mainhouse" then
		CloseCreatorHouse()
		housing.opened = false
		housing.menu.from = 1
		housing.menu.to = 10
	elseif housing.currentmenu == "mainhouse2" then
	    OpenMenuHousing('mainhouse')	
	elseif housing.currentmenu == "mainhouse3" then
	    OpenMenuHousing('mainhouse')
	else
		OpenMenuHousing(housing.lastmenu)
	end
end

function stringstartsHousing(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     local housingplaza = {
	opened = false,
	title = "Appartement",
	currentmenu = "mainhouse",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.9,
		y = 0.20,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["mainhouse"] = { 
			title = "Acheter ou Visiter", 
			name = "mainhouse",
			buttons = { 
				
			}
		},
		["mainhouse2"] = { 
			title = "Visiter", 
			name = "mainhouse2",
			buttons = { 
				
			}
		},
		["mainhouse3"] = { 
			title = "Acheter", 
			name = "mainhouse3",
			buttons = { 
				
			}
		},
		["mainperqui"] = { 
			title = "Perquisition", 
			name = "mainperqui",
			buttons = { 
				{name = "Stockage", description = ''},
				{name = "Coffre fort", description = ''},
				{name = "Garage", description = ''},					
			}
		},
		["mainperqui2"] = { 
			title = "Perquisition", 
			name = "mainperqui2",
			buttons = { 					
			}
		},
		["mainperqui3"] = { 
			title = "Perquisition", 
			name = "mainperqui3",
			buttons = { 					
			}
		},
	}
}

--STOCKAGE PERQUI
RegisterNetEvent('MyInvHousePerqui')
AddEventHandler('MyInvHousePerqui', function(houseinventory,iteminfo)
	local insrt = table.insert
	housingplaza.menu["mainperqui2"].buttons = {}
	local counttable = tablelength(houseinventory)
	local countbutton = 0
	i = 1
	
	
	while countbutton ~= counttable do
		item = houseinventory[iteminfo[i]['item_price_name']]
		if item ~= null then
			if item > 1 then
				nametext = iteminfo[i]['name_pluriel']
			else
				nametext = iteminfo[i]['name_singulier']
			end
			local finaltext = item.." "..nametext
			local refname = iteminfo[i]['item_price_name']
			local reftext = iteminfo[i]['name_singulier']
			insrt(housingplaza.menu["mainperqui2"].buttons, {name = finaltext, description = "", ref = refname, itemnumber = item,textsing = reftext})
			countbutton = countbutton + 1
		end
		i = i + 1
	end

	housingplaza.currentmenu = "mainperqui2"
	housingplaza.opened = true
	housingplaza.selectedbutton = 1
end)

--COFFRE Perqui
RegisterNetEvent('PerquiHouseDirty1')
AddEventHandler('PerquiHouseDirty1', function(housedirtymoney)
		
	housingplaza.menu["mainperqui3"].buttons = {}

    table.insert(housingplaza.menu["mainperqui3"].buttons, {name = housedirtymoney.." $"})
    -- table.insert(housingplaza.menu["mainperqui3"].buttons, {name = "--------------------"})

    -- table.insert(housingplaza.menu["mainperqui3"].buttons, {name = "Retrait d'argent"})
    -- table.insert(housingplaza.menu["mainperqui3"].buttons, {name = "DÃ©pÃ´t d'argent"})

end)


RegisterNetEvent('PerquiHouseDirty12')
AddEventHandler('PerquiHouseDirty12', function()

	housingplaza.currentmenu = "mainperqui3"
	housingplaza.opened = true
	housingplaza.selectedbutton = 1
	
end)	

--PLAZA HOUSE
RegisterNetEvent('PlazaHouseClient')
AddEventHandler('PlazaHouseClient', function(houselibre, id)
	local insrt = table.insert
	housingplaza.menu["mainhouse2"].buttons = {}

	houseid = houselibre[1]['house']
	propriohousename = houselibre[1]['player_name']
	proprioig = houselibre[1]['ig']
	
	insrt(housingplaza.menu["mainhouse2"].buttons, {name = "Sonner chez "..propriohousename, description = "", proprio = propriohousename, idhouse = houseid, igproprio = proprioig})
    if (clientjobID == 10) then
	insrt(housingplaza.menu["mainhouse2"].buttons, {name = "Perquisitionner", description = "", proprio = propriohousename, idhouse = houseid, igproprio = proprioig})
	end
	insrt(housingplaza.menu["mainhouse2"].buttons, {name = "Retour", description = ""})

	housingplaza.currentmenu = "mainhouse2"
	housingplaza.opened = true
	housingplaza.selectedbutton = 1
end)

RegisterNetEvent('PlazaHouseClient2')
AddEventHandler('PlazaHouseClient2', function(id, price)
	local insrt = table.insert
	housingplaza.menu["mainhouse3"].buttons = {}

	insrt(housingplaza.menu["mainhouse3"].buttons, {name = price.." $", description = ""})
	insrt(housingplaza.menu["mainhouse3"].buttons, {name = "---------------------", description = ""})
	insrt(housingplaza.menu["mainhouse3"].buttons, {name = "Acheter l'Appartement", description = "", idhousebuy = id})

	insrt(housingplaza.menu["mainhouse3"].buttons, {name = "Retour", description = ""})

	housingplaza.currentmenu = "mainhouse3"
	housingplaza.opened = true
	housingplaza.selectedbutton = 3
end)


local Plaza_1 = {}
local Plaza_2 = {}
local Plaza_3 = {}
local Plaza_4 = {}
local Plaza_5 = {}

Plaza_1 = {
		[1] = {
		appartid = 2,
		price = 4500000,
		Plaza = {-616.6238,21.16217,40.5645},
		VisiteExit = {-596.5992,55.98849,107.0271},
		Perquisition = {-596.5992,55.98849,107.0271},
		},
		
		[2] = {
		appartid = 1,
		price = 4500000,
		Plaza = {-616.6238,21.16217,40.5645},
		VisiteExit = {-606.0405,60.49061,97.20016},
		Perquisition = {-606.0405,60.49061,97.20016},
		},
}

Plaza_2 = {
		[1] = {
		appartid = 4,
		price = 4500000,
		Plaza = {-927.7859,-458.489,36.29168},
		VisiteExit = {-891.0426,-452.7903,94.46112},
		Perquisition = {-898.0076,-455.0299,125.5344}, --Check
		},
		
		[2] = {
		appartid = 3,
		price = 4500000,
		Plaza = {-927.7859,-458.489,36.29168},
		VisiteExit = {-907.7838,-453.4193,125.5345},
		Perquisition = {-889.1898,-443.4532,94.46114}, --Check
		},
}

Plaza_3 = {
		[1] = {
		appartid = 5,
		price = 4500000,
		Plaza = {-944.1765,-400.1692,37.96133},
		VisiteExit = {-923.0557,-378.4601,84.48045},
		Perquisition = {-913.822,-379.7859,84.48052}, --Check
		},
		
		[2] = {
		appartid = 6,
		price = 4500000,
		Plaza = {-944.1765,-400.1692,37.96133},
		VisiteExit = {-906.8588,-372.709,108.4403},
		Perquisition = {-916.2653,-371.3518,108.4403}, --Check
		},
		
		[3] = {
		appartid = 7,
		price = 4500000,
		Plaza = {-944.1765,-400.1692,37.96133},
		VisiteExit = {-915.9888,-365.3527,113.2747},
		Perquisition = {-917.8026,-377.7198,112.6787}, --Check
		},
}

Plaza_4 = {
		[1] = {
		appartid = 8,
		price = 4500000,
		Plaza = {-1439.7,-549.3593,33.74185},
		VisiteExit = {-1452.638,-537.1835,73.04425},
		Perquisition = {-1466.406,-538.0985,72.44415}, --Check
		},
		
		[2] = {
		appartid = 9,
		price = 4500000,
		Plaza = {-1439.7,-549.3593,33.74185},
		VisiteExit = {-1449.995,-525.6445,68.55661},
		Perquisition = {-1460.013,-526.0489,68.55661}, --Check
		},
		
		[3] = {
		appartid = 10,
		price = 4500000,
		Plaza = {-1439.7,-549.3593,33.74185},
		VisiteExit = {-1449.978,-525.8938,55.92904},
		Perquisition = {-1459.373,-526.1169,55.92904}, --Check
		},
}

Plaza_5 = {
		[2] = {
		appartid = 11,
		price = 4500000,
		Plaza = {-469.1636,-673.5898,31.42233},
		VisiteExit = {-467.8568,-708.7466,76.08694},
		Perquisition = {-461.8457,-701.0049,76.08694}, --Check
		},
		
		[1] = {
		appartid = 12,
		price = 4500000,
		Plaza = {-469.1636,-673.5898,31.42233},
		VisiteExit = {-468.0582,-689.2323,52.40583},
		Perquisition = {-473.8939,-696.4225,52.40585}, --Check
		},
		
		-- [3] = {
		-- appartid = 13,
		-- price = 4500000,
		-- Plaza = {-469.1636,-673.5898,31.42233},
		-- VisiteExit = {-468.0582,-689.2323,52.40583},
		-- Perquisition = {-606.0405,60.49061,97.20016},
		-- },
}

local havespawn = 0
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if havespawn == 0 then
	 		ShowHousePlazaBlips(true)
			havespawn = 1
		end
	end
end)

local Plaza_blips ={}
local Plaza_blips1 ={}
local Plaza_blips2 ={}
local Plaza_blips3 ={}
local Plaza_blips4 ={}
local Plaza_blips5 ={}
local currentlocation = nil

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end



local inrangeofPlaza1 = false
local inrangeofPlaza2 = false
local inrangeofPlaza3 = false
local inrangeofPlaza4 = false
local inrangeofPlaza5 = false
local inrangeofExitPlaza1 = false
local inrangeofExitPlaza2 = false
local inrangeofExitPlaza3 = false
local inrangeofExitPlaza4 = false
local inrangeofExitPlaza5 = false
local inrangeofPerqui1 = false
local inrangeofPerqui2 = false
local inrangeofPerqui3 = false
local inrangeofPerqui4 = false
local inrangeofPerqui5 = false

function IsPlayerInRangeOfPlaza1()
return inrangeofPlaza1
end
function IsPlayerInRangeOfPlaza2()
return inrangeofPlaza2
end
function IsPlayerInRangeOfPlaza3()
return inrangeofPlaza3
end
function IsPlayerInRangeOfPlaza4()
return inrangeofPlaza4
end
function IsPlayerInRangeOfPlaza5()
return inrangeofPlaza5
end
function IsPlayerInRangeOfExitPlaza1()
return inrangeofExitPlaza1
end
function IsPlayerInRangeOfExitPlaza2()
return inrangeofExitPlaza2
end
function IsPlayerInRangeOfExitPlaza3()
return inrangeofExitPlaza3
end
function IsPlayerInRangeOfExitPlaza4()
return inrangeofExitPlaza4
end
function IsPlayerInRangeOfExitPlaza5()
return inrangeofExitPlaza5
end
function IsPlayerInRangeOfPerqui1()
return inrangeofPerqui1
end
function IsPlayerInRangeOfPerqui2()
return inrangeofPerqui2
end
function IsPlayerInRangeOfPerqui3()
return inrangeofPerqui3
end
function IsPlayerInRangeOfPerqui4()
return inrangeofPerqui4
end
function IsPlayerInRangeOfPerqui5()
return inrangeofPerqui5
end

function ShowHousePlazaBlips(bool)
	if bool and (#Plaza_blips1 == 0 and #Plaza_blips2 == 0 and #Plaza_blips3 == 0 and #Plaza_blips4 == 0 and #Plaza_blips5 == 0) then
		for station,pos in pairs(Plaza_1) do	
			local loc = pos
			pos = pos.Plaza
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			SetBlipSprite(blip,375)
			SetBlipColour(blip, 0)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Appartement Ã  vendre')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Plaza_blips1, {blip = blip, pos = loc})
		end
		for station,pos in pairs(Plaza_2) do	
			local loc = pos
			pos = pos.Plaza
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			SetBlipSprite(blip,375)
			SetBlipColour(blip, 0)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Appartement Ã  vendre')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Plaza_blips2, {blip = blip, pos = loc})
		end
		for station,pos in pairs(Plaza_3) do	
			local loc = pos
			pos = pos.Plaza
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			SetBlipSprite(blip,375)
			SetBlipColour(blip, 0)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Appartement Ã  vendre')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Plaza_blips3, {blip = blip, pos = loc})
		end
		for station,pos in pairs(Plaza_4) do	
			local loc = pos
			pos = pos.Plaza
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			SetBlipSprite(blip,375)
			SetBlipColour(blip, 0)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Appartement Ã  vendre')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Plaza_blips4, {blip = blip, pos = loc})
		end
		for station,pos in pairs(Plaza_5) do	
			local loc = pos
			pos = pos.Plaza
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			SetBlipSprite(blip,375)
			SetBlipColour(blip, 0)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Appartement Ã  vendre')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Plaza_blips5, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while (#Plaza_blips1 > 0 and #Plaza_blips2 > 0 and #Plaza_blips3 > 0 and #Plaza_blips4 > 0 and #Plaza_blips5 > 0) do
				Citizen.Wait(0)
				local inrangePlaza1 = false
				local inrangePlaza2 = false
				local inrangePlaza3 = false
				local inrangePlaza4 = false
				local inrangePlaza5 = false
				local inrangeExitPlaza1 = false
				local inrangeExitPlaza2 = false
				local inrangeExitPlaza3 = false
				local inrangeExitPlaza4 = false
				local inrangeExitPlaza5 = false
				local inrangePerqui1 = false
				local inrangePerqui2 = false
				local inrangePerqui3 = false
				local inrangePerqui4 = false
				local inrangePerqui5 = false
				for i,b in ipairs(Plaza_blips1) do
				    ----------------------------------------------------------
				
					--Plaza
					if GetDistanceBetweenCoords(b.pos.Plaza[1],b.pos.Plaza[2],b.pos.Plaza[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.Plaza[1],b.pos.Plaza[2],b.pos.Plaza[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.Plaza[1],b.pos.Plaza[2],b.pos.Plaza[3],GetEntityCoords(LocalPed()),true) < 2 then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~acheter / visiter~w~ l'appartement.", 0)
						inrangePlaza1 = true
						end
					end
					
					--Visite Exit
					if GetDistanceBetweenCoords(b.pos.VisiteExit[1],b.pos.VisiteExit[2],b.pos.VisiteExit[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.VisiteExit[1],b.pos.VisiteExit[2],b.pos.VisiteExit[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.VisiteExit[1],b.pos.VisiteExit[2],b.pos.VisiteExit[3],GetEntityCoords(LocalPed()),true) < 2 then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~sortir~w~ de l'appartement.", 0)
						inrangeExitPlaza1 = true
						end
					end
					
					--Perquisition
					if  (clientjobID == 10) and GetDistanceBetweenCoords(b.pos.Perquisition[1],b.pos.Perquisition[2],b.pos.Perquisition[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.Perquisition[1],b.pos.Perquisition[2],b.pos.Perquisition[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.Perquisition[1],b.pos.Perquisition[2],b.pos.Perquisition[3],GetEntityCoords(LocalPed()),true) < 2 then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~Perquisitionner~w~ l'appartement.", 0)
						inrangePerqui1 = true
						end
					end
					--------------------------------------------------
				end
				for i,b in ipairs(Plaza_blips2) do
				    ----------------------------------------------------------
				
					--Plaza
					if GetDistanceBetweenCoords(b.pos.Plaza[1],b.pos.Plaza[2],b.pos.Plaza[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.Plaza[1],b.pos.Plaza[2],b.pos.Plaza[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.Plaza[1],b.pos.Plaza[2],b.pos.Plaza[3],GetEntityCoords(LocalPed()),true) < 2 then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~acheter / visiter~w~ l'appartement.", 0)
						inrangePlaza2 = true
						end
					end
					
					--Visite Exit
					if GetDistanceBetweenCoords(b.pos.VisiteExit[1],b.pos.VisiteExit[2],b.pos.VisiteExit[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.VisiteExit[1],b.pos.VisiteExit[2],b.pos.VisiteExit[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.VisiteExit[1],b.pos.VisiteExit[2],b.pos.VisiteExit[3],GetEntityCoords(LocalPed()),true) < 2 then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~sortir~w~ de l'appartement.", 0)
						inrangeExitPlaza2 = true
						end
					end
					
					--Perquisition
					if  (clientjobID == 10) and GetDistanceBetweenCoords(b.pos.Perquisition[1],b.pos.Perquisition[2],b.pos.Perquisition[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.Perquisition[1],b.pos.Perquisition[2],b.pos.Perquisition[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.Perquisition[1],b.pos.Perquisition[2],b.pos.Perquisition[3],GetEntityCoords(LocalPed()),true) < 2 then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~Perquisitionner~w~ l'appartement.", 0)
						inrangePerqui2 = true
						end
					end
					--------------------------------------------------
				end
				for i,b in ipairs(Plaza_blips3) do
				    ----------------------------------------------------------
				
					--Plaza
					if GetDistanceBetweenCoords(b.pos.Plaza[1],b.pos.Plaza[2],b.pos.Plaza[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.Plaza[1],b.pos.Plaza[2],b.pos.Plaza[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.Plaza[1],b.pos.Plaza[2],b.pos.Plaza[3],GetEntityCoords(LocalPed()),true) < 2 then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~acheter / visiter~w~ l'appartement.", 0)
						inrangePlaza3 = true
						end
					end
					
					--Visite Exit
					if GetDistanceBetweenCoords(b.pos.VisiteExit[1],b.pos.VisiteExit[2],b.pos.VisiteExit[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.VisiteExit[1],b.pos.VisiteExit[2],b.pos.VisiteExit[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.VisiteExit[1],b.pos.VisiteExit[2],b.pos.VisiteExit[3],GetEntityCoords(LocalPed()),true) < 2 then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~sortir~w~ de l'appartement.", 0)
						inrangeExitPlaza3 = true
						end
					end
					
					--Perquisition
					if  (clientjobID == 10) and GetDistanceBetweenCoords(b.pos.Perquisition[1],b.pos.Perquisition[2],b.pos.Perquisition[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.Perquisition[1],b.pos.Perquisition[2],b.pos.Perquisition[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.Perquisition[1],b.pos.Perquisition[2],b.pos.Perquisition[3],GetEntityCoords(LocalPed()),true) < 2 then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~Perquisitionner~w~ l'appartement.", 0)
						inrangePerqui3 = true
						end
					end
					--------------------------------------------------
				end
				for i,b in ipairs(Plaza_blips4) do
				    ----------------------------------------------------------
				
					--Plaza
					if GetDistanceBetweenCoords(b.pos.Plaza[1],b.pos.Plaza[2],b.pos.Plaza[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.Plaza[1],b.pos.Plaza[2],b.pos.Plaza[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.Plaza[1],b.pos.Plaza[2],b.pos.Plaza[3],GetEntityCoords(LocalPed()),true) < 2 then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~acheter / visiter~w~ l'appartement.", 0)
						inrangePlaza4 = true
						end
					end
					
					--Visite Exit
					if GetDistanceBetweenCoords(b.pos.VisiteExit[1],b.pos.VisiteExit[2],b.pos.VisiteExit[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.VisiteExit[1],b.pos.VisiteExit[2],b.pos.VisiteExit[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.VisiteExit[1],b.pos.VisiteExit[2],b.pos.VisiteExit[3],GetEntityCoords(LocalPed()),true) < 2 then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~sortir~w~ de l'appartement.", 0)
						inrangeExitPlaza4 = true
						end
					end
					
					--Perquisition
					if  (clientjobID == 10) and GetDistanceBetweenCoords(b.pos.Perquisition[1],b.pos.Perquisition[2],b.pos.Perquisition[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.Perquisition[1],b.pos.Perquisition[2],b.pos.Perquisition[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.Perquisition[1],b.pos.Perquisition[2],b.pos.Perquisition[3],GetEntityCoords(LocalPed()),true) < 2 then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~Perquisitionner~w~ l'appartement.", 0)
						inrangePerqui4 = true
						end
					end
					--------------------------------------------------
				end
				for i,b in ipairs(Plaza_blips5) do
				    ----------------------------------------------------------
				
					--Plaza
					if GetDistanceBetweenCoords(b.pos.Plaza[1],b.pos.Plaza[2],b.pos.Plaza[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.Plaza[1],b.pos.Plaza[2],b.pos.Plaza[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.Plaza[1],b.pos.Plaza[2],b.pos.Plaza[3],GetEntityCoords(LocalPed()),true) < 2 then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~acheter / visiter~w~ l'appartement.", 0)
						inrangePlaza5 = true
						end
					end
					
					--Visite Exit
					if GetDistanceBetweenCoords(b.pos.VisiteExit[1],b.pos.VisiteExit[2],b.pos.VisiteExit[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.VisiteExit[1],b.pos.VisiteExit[2],b.pos.VisiteExit[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.VisiteExit[1],b.pos.VisiteExit[2],b.pos.VisiteExit[3],GetEntityCoords(LocalPed()),true) < 2 then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~sortir~w~ de l'appartement.", 0)
						inrangeExitPlaza5 = true
						end
					end
					
					--Perquisition
					if  (clientjobID == 10) and GetDistanceBetweenCoords(b.pos.Perquisition[1],b.pos.Perquisition[2],b.pos.Perquisition[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.Perquisition[1],b.pos.Perquisition[2],b.pos.Perquisition[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.Perquisition[1],b.pos.Perquisition[2],b.pos.Perquisition[3],GetEntityCoords(LocalPed()),true) < 2 then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~Perquisitionner~w~ l'appartement.", 0)
						inrangePerqui5 = true
						end
					end
					--------------------------------------------------
				end
				inrangeofPlaza1 = inrangePlaza1
				inrangeofPlaza2 = inrangePlaza2
				inrangeofPlaza3 = inrangePlaza3
				inrangeofPlaza4 = inrangePlaza4
				inrangeofPlaza5 = inrangePlaza5
				inrangeofExitPlaza1 = inrangeExitPlaza1
				inrangeofExitPlaza2 = inrangeExitPlaza2
				inrangeofExitPlaza3 = inrangeExitPlaza3
				inrangeofExitPlaza4 = inrangeExitPlaza4
				inrangeofExitPlaza5 = inrangeExitPlaza5
				inrangeofPerqui1 = inrangePerqui1
				inrangeofPerqui2 = inrangePerqui2
				inrangeofPerqui3 = inrangePerqui3
				inrangeofPerqui4 = inrangePerqui4
				inrangeofPerqui5 = inrangePerqui5
			end
		end)
	elseif bool == false and #Plaza_blips > 0 then
		for i,b in ipairs(Plaza_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		Plaza_blips = {}
		Plaza_blips1 = {}
		Plaza_blips2 = {}
		Plaza_blips3 = {}
		Plaza_blips4 = {}
		Plaza_blips5 = {}
	end
end

function CloseCreatorHousePlaza()
	housingplaza.opened = false
	housingplaza.menu.from = 1
	housingplaza.menu.to = 10
end

function drawMenuButton(button,x,y,selected)
	local menu = housingplaza.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = housingplaza.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = housingplaza.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitleHouse2(txt,x,y)
local menu = housingplaza.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end

--SORTIR APPARTEMENT
Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofExitPlaza1 then
		    TriggerEvent('ExitVisite2', 1)
        end
        if IsControlJustPressed(1,38) and inrangeofExitPlaza2 then
		    TriggerEvent('ExitVisite2', 2)
        end
        if IsControlJustPressed(1,38) and inrangeofExitPlaza3 then
		    TriggerEvent('ExitVisite2', 3)
        end
        if IsControlJustPressed(1,38) and inrangeofExitPlaza4 then
		    TriggerEvent('ExitVisite2', 4)
        end
        if IsControlJustPressed(1,38) and inrangeofExitPlaza5 then
		    TriggerEvent('ExitVisite2', 5)
        end
    end
end)
--------------

--PERQUISITION
Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofPerqui1 then
					
		    housingplaza.currentmenu = "mainperqui"
			housingplaza.opened = true
			housingplaza.selectedbutton = 1
        end
        if IsControlJustPressed(1,38) and inrangeofPerqui2 then
		
		    housingplaza.currentmenu = "mainperqui"
			housingplaza.opened = true
			housingplaza.selectedbutton = 1
        end
        if IsControlJustPressed(1,38) and inrangeofPerqui3 then
					
		    housingplaza.currentmenu = "mainperqui"
			housingplaza.opened = true
			housingplaza.selectedbutton = 1
        end
        if IsControlJustPressed(1,38) and inrangeofPerqui4 then
		
		    housingplaza.currentmenu = "mainperqui"
			housingplaza.opened = true
			housingplaza.selectedbutton = 1
        end
        if IsControlJustPressed(1,38) and inrangeofPerqui5 then
		
		    housingplaza.currentmenu = "mainperqui"
			housingplaza.opened = true
			housingplaza.selectedbutton = 1
        end
    end
end)
--------------

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfPlaza1() then
			if housingplaza.opened then
				CloseCreatorHousePlaza()
			else
				local insrt = table.insert
				housingplaza.menu["mainhouse"].buttons = {}
				
				for station,pos in pairs(Plaza_1) do
				local loc = pos
				appart = pos.appartid
				price = pos.price
				appplazaid = appart
				applazaprice = price
				insrt(housingplaza.menu["mainhouse"].buttons, {name = "Appartement nÂ°"..appplazaid, description = "", plazaid = appplazaid, price = applazaprice})			
				end
				
				insrt(housingplaza.menu["mainhouse"].buttons, {name = "Fermer", description = ""})
				
				housingplaza.currentmenu = "mainhouse"
				housingplaza.opened = true
				housingplaza.selectedbutton = 0
			end
		end
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfPlaza2() then
			if housingplaza.opened then
				CloseCreatorHousePlaza()
			else
				local insrt = table.insert
				housingplaza.menu["mainhouse"].buttons = {}
				
                for station,pos in pairs(Plaza_2) do
				local loc = pos
				appart = pos.appartid
				price = pos.price
				appplazaid = appart
				applazaprice = price
				insrt(housingplaza.menu["mainhouse"].buttons, {name = "Appartement nÂ°"..appplazaid, description = "", plazaid = appplazaid, price = applazaprice})			
				end	
				
				insrt(housingplaza.menu["mainhouse"].buttons, {name = "Fermer", description = ""})
				
				housingplaza.currentmenu = "mainhouse"
				housingplaza.opened = true
				housingplaza.selectedbutton = 0
			end
		end
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfPlaza3() then
			if housingplaza.opened then
				CloseCreatorHousePlaza()
			else
				local insrt = table.insert
				housingplaza.menu["mainhouse"].buttons = {}
				
                for station,pos in pairs(Plaza_3) do
				local loc = pos
				appart = pos.appartid
				price = pos.price
				appplazaid = appart
				applazaprice = price
				insrt(housingplaza.menu["mainhouse"].buttons, {name = "Appartement nÂ°"..appplazaid, description = "", plazaid = appplazaid, price = applazaprice})			
				end	
				
				insrt(housingplaza.menu["mainhouse"].buttons, {name = "Fermer", description = ""})
				
				housingplaza.currentmenu = "mainhouse"
				housingplaza.opened = true
				housingplaza.selectedbutton = 0
			end
		end
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfPlaza4() then
			if housingplaza.opened then
				CloseCreatorHousePlaza()
			else
				local insrt = table.insert
				housingplaza.menu["mainhouse"].buttons = {}
				
                for station,pos in pairs(Plaza_4) do
				local loc = pos
				appart = pos.appartid
				price = pos.price
				appplazaid = appart
				applazaprice = price
				insrt(housingplaza.menu["mainhouse"].buttons, {name = "Appartement nÂ°"..appplazaid, description = "", plazaid = appplazaid, price = applazaprice})			
				end
				
				insrt(housingplaza.menu["mainhouse"].buttons, {name = "Fermer", description = ""})
				
				housingplaza.currentmenu = "mainhouse"
				housingplaza.opened = true
				housingplaza.selectedbutton = 0
			end
		end
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfPlaza5() then
			if housingplaza.opened then
				CloseCreatorHousePlaza()
			else
				local insrt = table.insert
				housingplaza.menu["mainhouse"].buttons = {}
				
				for station,pos in pairs(Plaza_5) do
				local loc = pos
				appart = pos.appartid
				price = pos.price
				appplazaid = appart
				applazaprice = price
				insrt(housingplaza.menu["mainhouse"].buttons, {name = "Appartement nÂ°"..appplazaid, description = "", plazaid = appplazaid, price = applazaprice})			
				end
				
				insrt(housingplaza.menu["mainhouse"].buttons, {name = "Fermer", description = ""})
				
				housingplaza.currentmenu = "mainhouse"
				housingplaza.opened = true
				housingplaza.selectedbutton = 0
			end
		end
		if housingplaza.opened then
			local ped = LocalPed()
			local menu = housingplaza.menu[housingplaza.currentmenu]
			drawTxt(housingplaza.title,1,1,housingplaza.menu.x,housingplaza.menu.y,1.0, 255,255,255,255)
			drawMenuTitleHouse2(menu.title, housingplaza.menu.x,housingplaza.menu.y + 0.08)
			drawTxt(housingplaza.selectedbutton.."/"..tablelength(menu.buttons),0,0,housingplaza.menu.x + housingplaza.menu.width/2 - 0.0385,housingplaza.menu.y + 0.067,0.4, 255,255,255,255)
			local y = housingplaza.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= housingplaza.menu.from and i <= housingplaza.menu.to then
					
					if i == housingplaza.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,housingplaza.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedhousingplaza(button)
					end
				end
			end	
		end
		if housingplaza.opened then
			if IsControlJustPressed(1,202) then
				Backhousingplaza()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if housingplaza.selectedbutton > 1 then
					housingplaza.selectedbutton = housingplaza.selectedbutton -1
					if buttoncount > 10 and housingplaza.selectedbutton < housingplaza.menu.from then
						housingplaza.menu.from = housingplaza.menu.from -1
						housingplaza.menu.to = housingplaza.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if housingplaza.selectedbutton < buttoncount then
					housingplaza.selectedbutton = housingplaza.selectedbutton +1
					if buttoncount > 10 and housingplaza.selectedbutton > housingplaza.menu.to then
						housingplaza.menu.to = housingplaza.menu.to + 1
						housingplaza.menu.from = housingplaza.menu.from + 1
					end
				end	
			end
		end
	end
end)

				
function ButtonSelectedhousingplaza(button)
	local ped = GetPlayerPed(-1)
	local this = housingplaza.currentmenu
	local btn = button.name
	if this == "mainhouse" then
	    appartid = button.plazaid
		appartprice = button.price
		
		if btn == "Fermer" then
		    CloseCreatorHousePlaza()
		else
			TriggerServerEvent('PlazaHouse', appartid, appartprice)
		end		
	elseif this == "mainperqui" then
	    if btn == "Stockage" then
		    if nameproprio ~= nil then
			TriggerServerEvent('PerquiStockage', nameproprio)
		    CloseCreatorHousePlaza()
			else
				ShowNotificationMain("~h~~r~Vous n'avez pas l'accord du juge.")
			end
		elseif btn == "Coffre fort" then
		    if nameproprio ~= nil then
			TriggerServerEvent('PerquiCoffre', nameproprio)
		    CloseCreatorHousePlaza()
			else
				ShowNotificationMain("~h~~r~Vous n'avez pas l'accord du juge.")
			end
		elseif btn == "Garage" then
		    if nameproprio ~= nil then
				ShowNotificationMain("~h~~r~Vous n'avez pas l'accord du juge pour voir le garage de "..nameproprio)
			-- TriggerServerEvent('PerquiGarage', nameproprio)
		    CloseCreatorHousePlaza()
			else
				ShowNotificationMain("~h~~r~Vous n'avez pas l'accord du juge.")
			end
		end		
	elseif this == "mainhouse2" then
	    idproprio = button.igproprio
		nameproprio = button.proprio
		if btn == "Retour" then
		    OpenMenuhousingplaza('mainhouse')
		elseif btn == "Perquisitionner" then
		    if tonumber(idproprio) < 1 then
			    ShowNotificationMain("~h~~r~Le propriÃ©taire est absent.")
			else
			    idhouseforperqui = button.idhouse
		        enteringinhouse = tonumber(idhouseforperqui)
			    ShowNotificationMain("~h~~b~Vous entrer de force chez le propriÃ©taire.")
				TriggerServerEvent('PerquiOnCours', idproprio)				
			end
		    CloseCreatorHousePlaza()
		else
		    if tonumber(idproprio) < 1 then
			    ShowNotificationMain("~h~~r~Le propriÃ©taire est absent.")
			else
			    ShowNotificationMain("~h~Vous avez sonnÃ© chez ~b~"..nameproprio.."~w~.")
				TriggerServerEvent('SonnerChezProprio', idproprio)			
			end
		    CloseCreatorHousePlaza()
		end	
	elseif this == "mainhouse3" then
		if btn == "Retour" then
		    OpenMenuhousingplaza('mainhouse')
		elseif btn == "Acheter l'Appartement" then
		    if myhouse ~= 0 then
			    ShowNotificationMain("~h~~r~Vous avez dÃ©jÃ  un appartement.")
			else
		    TriggerServerEvent('buyPlaza', appartid, appartprice)
			CloseCreatorHousePlaza()
			end
		end
	end
end

--NOTIFICATION
RegisterNetEvent('FinishBuyPlaza')
AddEventHandler('FinishBuyPlaza', function(id, price)
    ShowNotificationMain("~h~Vous avez achetÃ© l'Appartement nÂ° ~b~"..id.."~w~ pour ~g~"..price.." $")
	-- ShowHousePlazaBlips(false)
	myhouse = tonumber(id)
	TriggerServerEvent('ChangementHouse', tonumber(id))
end)

RegisterNetEvent('AccepteVisite1')
AddEventHandler('AccepteVisite1', function(name)
    ShowNotificationMain("~h~~b~"..name.."~w~ Ã  ~g~acceptÃ©~w~ votre demande de visite.")
end)

RegisterNetEvent('RefuseVisite1')
AddEventHandler('RefuseVisite1', function(name)
    ShowNotificationMain("~h~~b~"..name.."~w~ Ã  ~r~refusÃ©~w~ votre demande de visite.")
end)


-----------------------
RegisterNetEvent('FinishHousePlaza')
AddEventHandler('FinishHousePlaza', function()
	CloseCreatorHousePlaza()
	housingplaza.opened = false
	housingplaza.menu.from = 1
	housingplaza.menu.to = 10
end)

function OpenMenuhousingplaza(menu)
	housingplaza.lastmenu = housingplaza.currentmenu
	if menu == "mainStockage2"  then
		housingplaza.lastmenu = "mainStockage"
	elseif menu == 'mainhouse2' then
		housingplaza.lastmenu = "mainhouse"
	elseif menu == 'mainperqui2' then
		housingplaza.lastmenu = "mainperqui"
	elseif menu == 'mainperqui3' then
		housingplaza.lastmenu = "mainperqui"
	elseif menu == 'mainhouse3' then
		housingplaza.lastmenu = "mainhouse"
	end
	housingplaza.menu.from = 1
	housingplaza.menu.to = 10
	housingplaza.selectedbutton = 0
	housingplaza.currentmenu = menu	
end

function Backhousingplaza()
	if backlock then
		return
	end
	backlock = true
	if housingplaza.currentmenu == "mainhouse" then
		CloseCreatorHousePlaza()
		housingplaza.opened = false
		housingplaza.menu.from = 1
		housingplaza.menu.to = 10
	
	elseif housingplaza.currentmenu == "mainperqui2" then
		OpenMenuhousingplaza('mainperqui')	
	elseif housingplaza.currentmenu == "mainperqui3" then
		OpenMenuhousingplaza('mainperqui')	
	elseif housingplaza.currentmenu == "mainperqui" then
		CloseCreatorHousePlaza()
		housingplaza.opened = false
		housingplaza.menu.from = 1
		housingplaza.menu.to = 10
	elseif housingplaza.currentmenu == "mainhouse2" then
	    OpenMenuhousingplaza('mainhouse')	
	elseif housingplaza.currentmenu == "mainhouse3" then
	    OpenMenuhousingplaza('mainhouse')
	else
		OpenMenuhousingplaza(housingplaza.lastmenu)
	end
end

function stringstartshousingplaza(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end

--------------------------------------------------------------
-- GESTION IMMOBILIERRE --
--------------------------------------------------------------
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               enteringinhouse = 0
local exitinginhouse = 0

RegisterNetEvent('AccepteVisite2')
AddEventHandler('AccepteVisite2', function(id)
	enteringinhouse = tonumber(id)
end)

RegisterNetEvent('ExitVisite2')
AddEventHandler('ExitVisite2', function(id)
	exitinginhouse = tonumber(id)
end)

--ENTRER


Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
		--APPART 1
        if (tonumber(enteringinhouse) == 1) then
		    DoScreenFadeOut(1000)
			Wait(1000)
			pos = houspos1Exit
			SetEntityCoords(GetPlayerPed(-1), pos[1],pos[2],pos[3])
			Wait(1000)
			DoScreenFadeIn(1000)
            enteringinhouse = 0
		elseif (tonumber(enteringinhouse) == 2) then
		    DoScreenFadeOut(1000)
			Wait(1000)
			pos = houspos2Exit
			SetEntityCoords(GetPlayerPed(-1), pos[1],pos[2],pos[3])
			Wait(1000)
			DoScreenFadeIn(1000)
            enteringinhouse = 0
		elseif (tonumber(enteringinhouse) == 3) then
		    DoScreenFadeOut(1000)
			Wait(1000)
			pos = houspos3Exit
			SetEntityCoords(GetPlayerPed(-1), pos[1],pos[2],pos[3])
			Wait(1000)
			DoScreenFadeIn(1000)
            enteringinhouse = 0
		elseif (tonumber(enteringinhouse) == 4) then
		    DoScreenFadeOut(1000)
			Wait(1000)
			pos = houspos4Exit
			SetEntityCoords(GetPlayerPed(-1), pos[1],pos[2],pos[3])
			Wait(1000)
			DoScreenFadeIn(1000)
            enteringinhouse = 0
		elseif (tonumber(enteringinhouse) == 5) then
		    DoScreenFadeOut(1000)
			Wait(1000)
			pos = houspos5Exit
			SetEntityCoords(GetPlayerPed(-1), pos[1],pos[2],pos[3])
			Wait(1000)
			DoScreenFadeIn(1000)
            enteringinhouse = 0
		elseif (tonumber(enteringinhouse) == 6) then
		    DoScreenFadeOut(1000)
			Wait(1000)
			pos = houspos6Exit
			SetEntityCoords(GetPlayerPed(-1), pos[1],pos[2],pos[3])
			Wait(1000)
			DoScreenFadeIn(1000)
            enteringinhouse = 0
		elseif (tonumber(enteringinhouse) == 7) then
		    DoScreenFadeOut(1000)
			Wait(1000)
			pos = houspos7Exit
			SetEntityCoords(GetPlayerPed(-1), pos[1],pos[2],pos[3])
			Wait(1000)
			DoScreenFadeIn(1000)
            enteringinhouse = 0
		elseif (tonumber(enteringinhouse) == 8) then
		    DoScreenFadeOut(1000)
			Wait(1000)
			pos = houspos8Exit
			SetEntityCoords(GetPlayerPed(-1), pos[1],pos[2],pos[3])
			Wait(1000)
			DoScreenFadeIn(1000)
            enteringinhouse = 0
		elseif (tonumber(enteringinhouse) == 9) then
		    DoScreenFadeOut(1000)
			Wait(1000)
			pos = houspos9Exit
			SetEntityCoords(GetPlayerPed(-1), pos[1],pos[2],pos[3])
			Wait(1000)
			DoScreenFadeIn(1000)
            enteringinhouse = 0
		elseif (tonumber(enteringinhouse) == 10) then
		    DoScreenFadeOut(1000)
			Wait(1000)
			pos = houspos10Exit
			SetEntityCoords(GetPlayerPed(-1), pos[1],pos[2],pos[3])
			Wait(1000)
			DoScreenFadeIn(1000)
            enteringinhouse = 0
		elseif (tonumber(enteringinhouse) == 11) then
		    DoScreenFadeOut(1000)
			Wait(1000)
			pos = houspos11Exit
			SetEntityCoords(GetPlayerPed(-1), pos[1],pos[2],pos[3])
			Wait(1000)
			DoScreenFadeIn(1000)
            enteringinhouse = 0
		elseif (tonumber(enteringinhouse) == 12) then
		    DoScreenFadeOut(1000)
			Wait(1000)
			pos = houspos12Exit
			SetEntityCoords(GetPlayerPed(-1), pos[1],pos[2],pos[3])
			Wait(1000)
			DoScreenFadeIn(1000)
            enteringinhouse = 0
		elseif (tonumber(enteringinhouse) == 13) then
		    DoScreenFadeOut(1000)
			Wait(1000)
			pos = houspos13Exit
			SetEntityCoords(GetPlayerPed(-1), pos[1],pos[2],pos[3])
			Wait(1000)
			DoScreenFadeIn(1000)
            enteringinhouse = 0
        end
    end
end)

--EXIT

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
		--APPART 1
        if (tonumber(exitinginhouse) == 1) then
		    DoScreenFadeOut(1000)
			Wait(1000)
			pos = housposDehors1
			SetEntityCoords(GetPlayerPed(-1), pos[1],pos[2],pos[3])
			Wait(1000)
			DoScreenFadeIn(1000)
            exitinginhouse = 0
		elseif (tonumber(exitinginhouse) == 2) then
		    DoScreenFadeOut(1000)
			Wait(1000)
			pos = housposDehors2
			SetEntityCoords(GetPlayerPed(-1), pos[1],pos[2],pos[3])
			Wait(1000)
			DoScreenFadeIn(1000)
            exitinginhouse = 0
		elseif (tonumber(exitinginhouse) == 3) then
		    DoScreenFadeOut(1000)
			Wait(1000)
			pos = housposDehors3
			SetEntityCoords(GetPlayerPed(-1), pos[1],pos[2],pos[3])
			Wait(1000)
			DoScreenFadeIn(1000)
            exitinginhouse = 0
		elseif (tonumber(exitinginhouse) == 4) then
		    DoScreenFadeOut(1000)
			Wait(1000)
			pos = housposDehors4
			SetEntityCoords(GetPlayerPed(-1), pos[1],pos[2],pos[3])
			Wait(1000)
			DoScreenFadeIn(1000)
            exitinginhouse = 0
		elseif (tonumber(exitinginhouse) == 5) then
		    DoScreenFadeOut(1000)
			Wait(1000)
			pos = housposDehors5
			SetEntityCoords(GetPlayerPed(-1), pos[1],pos[2],pos[3])
			Wait(1000)
			DoScreenFadeIn(1000)
            exitinginhouse = 0
        end
    end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
--------------IMMEUBLE 1------------

housposDehors1 = {-618.4759,35.46796,42.5497} -- Blip
housposSortieGarage1 = {-559.6865,56.0521,49.57528}

            --Appart n°1--
			
houspos1Garage = {-608.7957,65.97546,100.8198}
houspos1vin = {-615.5837,58.09806,106.6244}
houspos1Exit = {-596.5992,55.98849,107.0271}
houspos1Stockage = {-604.7224,57.16492,107.0357}
houspos1Money = {-624.5391,51.08116,105.6245}

          --Appart n°2--		


houspos2Garage = {-602.9534,58.82853,97.20023}
houspos2vin = {-615.7233,42.90831,97.60003}
houspos2Exit = {-606.0405,60.49061,97.20016}
houspos2Stockage = {-621.2314,54.35253,96.59957}
houspos2Money = {-598.2267,48.82806,96.03481}
		
--------------IMMEUBLE 2------------

housposDehors2 = {-911.8451,-454.4618,38.60527} -- Blip
housposSortieGarage2 = {-834.5305,-396.9627,31.32527}

            --Appart n°3--
			
houspos3Garage = {-887.618,-437.3646,88.2539}
houspos3vin = {-897.6044,-434.8223,94.05853}
houspos3Exit = {-891.0426,-452.7903,94.46112}
houspos3Stockage = {-893.4555,-445.099,94.46977}
houspos3Money = {-907.7236,-430.5061,93.05846}

          --Appart n°4--		


houspos4Garage = {-892.138,-456.5323,119.3272}
houspos4vin = {-889.8182,-446.5354,125.1319}
houspos4Exit = {-907.7838,-453.4193,125.5345}
houspos4Stockage = {-866.9617,-450.7029,125.5431}
houspos4Money = {-885.5471,-436.32,124.1319}


--------------IMMEUBLE 3------------

housposDehors3 = {-936.7947,-379.1656,37.96131} -- Blip
housposSortieGarage3 = {-894.2566,-345.0092,34.53424}

            --Appart n°5--
			
houspos5Garage = {-907.4661,-381.6717,78.27323}--
houspos5vin = {-905.0656,-371.7868,84.07791}
houspos5Exit = {-923.0557,-378.4601,84.48045}
houspos5Stockage = {-915.1649,-375.696,84.48916}
houspos5Money = {-900.7693,-361.6102,83.07791}

          --Appart n°6--		


houspos6Garage = {-922.6791,-369.466,102.2331}
houspos6vin = {-925.0643,-379.4654,108.0377}
houspos6Exit = {-906.8588,-372.709,108.4403}
houspos6Stockage = {-914.8257,-375.3633,108.449}
houspos6Money = {-929.28,-389.6457,107.0377}

          --Appart n°7--		


houspos7Garage = {-912.4564,-365.1065,113.2748}
houspos7vin = {-916.5,-385.3695,113.6746}
houspos7Exit = {-915.9888,-365.3527,113.2747}
houspos7Stockage = {-926.6337,-377.6455,112.6741}
houspos7Money = {-903.5507,-372.1735,112.1094}

--------------IMMEUBLE 4------------

housposDehors4 = {-1446.389,-540.5869,33.74063} -- Blip
housposSortieGarage4 = {-1452.582,-526.2276,31.58181}

            --Appart n°8--
			
houspos8Garage = {-1452.165,-540.6182,73.04432}
houspos8vin = {-1472.835,-539.447,73.44415}
houspos8Exit = {-1452.638,-537.1835,73.04425}
houspos8Stockage = {-1466.628,-528.4052,72.44367}
houspos8Money = {-1458.257,-550.5906,71.87893}

          --Appart n°9--		


houspos9Garage = {-1465.823,-524.9343,62.34935}
houspos9vin = {-1466.874,-535.1098,68.15405}
houspos9Exit = {-1449.995,-525.6445,68.55661}
houspos9Stockage = {-1457.252,-529.5846,68.56522}
houspos9Money = {-1469.574,-545.5685,67.15405}

          --Appart n°10--		


houspos10Garage = {-1465.804,-524.8713,49.72171}
houspos10vin = {-1466.907,-535.052,55.52639}
houspos10Exit = {-1449.978,-525.8938,55.92904}
houspos10Stockage = {-1457.309,-529.695,55.93766}
houspos10Money = {-1469.702,-545.7556,54.52639}

--------------IMMEUBLE 5------------

housposDehors5 = {-467.3674,-679.5209,31.71046} -- Blip
housposSortieGarage5 = {-449.3667,-727.7701,28.1537}

            --Appart n°11--
			
houspos11Garage = {-457.8751,-696.3124,69.87968}
houspos11vin = {-465.4747,-689.5819,75.68433}
houspos11Exit = {-467.8568,-708.7466,76.08694}
houspos11Stockage = {-466.5706,-700.5773,76.09559}
houspos11Money = {-472.5574,-681.1318,74.68433}

          --Appart n°12--		


houspos12Garage = {-477.9164,-702.0195,46.19855}
houspos12vin = {-470.1033,-708.6476,52.0032}
houspos12Exit = {-468.0582,-689.2323,52.40583}
houspos12Stockage = {-469.0338,-697.7247,52.41444}
houspos12Money = {-463.0522,-717.0835,51.0032}

          --Appart n°13--		


-- houspos13Garage = {-1465.852,-524.8243,49.72172}
-- houspos13vin = {-1466.86,-535.0796,55.52639}
-- houspos13Exit = {-1449.978,-525.8938,55.92904}
-- houspos13Stockage = {-1457.168,-529.5667,55.93763}
-- houspos13Money = {-1469.896,-545.8013,54.52639}


---SORTIE GARAGE---
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if myhouse == 1 then
		    posspawnvehi2 = housposSortieGarage1
		elseif myhouse == 2 then
		    posspawnvehi2 = housposSortieGarage1
		elseif myhouse == 3 then
		    posspawnvehi2 = housposSortieGarage2
		elseif myhouse == 4 then
		    posspawnvehi2 = housposSortieGarage2
		elseif myhouse == 5 then
		    posspawnvehi2 = housposSortieGarage3
		elseif myhouse == 6 then
		    posspawnvehi2 = housposSortieGarage3
		elseif myhouse == 7 then
		    posspawnvehi2 = housposSortieGarage3
		elseif myhouse == 8 then
		    posspawnvehi2 = housposSortieGarage4
		elseif myhouse == 9 then
		    posspawnvehi2 = housposSortieGarage4
		elseif myhouse == 10 then
		    posspawnvehi2 = housposSortieGarage4
		elseif myhouse == 11 then
		    posspawnvehi2 = housposSortieGarage5
		elseif myhouse == 12 then
		    posspawnvehi2 = housposSortieGarage5
		-- elseif myhouse == 13 then
		    -- posspawnvehi2 = housposSortieGarage5
		end
	end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
local garagehouse = {
	opened = false,
	title = "Garage",
	currentmenu = "main",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.1,
		y = 0.32,
		width = 0.2,
		height = 0.04,
		buttons = 9,
		from = 1,
		to = 9,
		scale = 0.4,
		font = 0,
		["main"] = { 
			title = "", 
			name = "main",
			buttons = {
				{name = "Garage", description = ''},
				-- {name = "Ranger mon vÃ©hicule", description = ''},
			}
		},
		
		["mainranger"] = { 
			title = "", 
			name = "mainranger",
			buttons = {
				-- {name = "Garage", description = ''},
				{name = "Ranger mon vÃ©hicule", description = ''},
			}
		},
		
		["maingarage"] = { 
			title = "", 
			name = "maingarage",
			buttons = { 
			}
		},
		["vehiclemenu"] = { 
			title = "", 
			name = "vehiclemenu",
			buttons = {				
			}
		},
	}
}


RegisterNetEvent('MyGarageClientHouse')
AddEventHandler('MyGarageClientHouse', function(playergarage,vehtype)
	typeveh = vehtype
	local insrt = table.insert
	garagehouse.menu["maingarage"].buttons = {}
	local counttable = tablelength(playergarage)
	local countbutton = 0
	i = 1
	while countbutton ~= counttable do
		veh = playergarage[i]['vehicle_id']
		if veh ~= null then
			local finaltext = playergarage[i]['vehicle_name']
			local refname = playergarage[i]['vehicle_id']
			local plate = playergarage[i]['plate']
			local sellprice = playergarage[i]['sellprice']
			local upgrade = playergarage[i]['custom']
			insrt(garagehouse.menu["maingarage"].buttons, {name = finaltext, description = "", ref = refname, upgrade = upgrade, plate = plate, sellprice = sellprice})
			countbutton = countbutton + 1
		end
		i = i + 1
	end
	garagehouse.currentmenu = "main"
	garagehouse.opened = true
	garagehouse.selectedbutton = 1
end)

local function LocalPed()
return GetPlayerPed(-1)
end

function CloseCreatorgaragehouse()
	Citizen.CreateThread(function()
		garagehouse.opened = false
		garagehouse.menu.from = 1
		garagehouse.menu.to = 10
	end)
end



function drawMenuButton(button,x,y,selected)
	local menu = garagehouse.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuTitleGarageHouse(txt,x,y)
local menu = garagehouse.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,93,166,202,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function Notifygaragehouse(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

local backlock = false
inputvehname = 0
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if garagehouse.opened then
			local ped = LocalPed()
			local menu = garagehouse.menu[garagehouse.currentmenu]
			drawTxt(garagehouse.title,1,1,garagehouse.menu.x,garagehouse.menu.y,1.0, 255,255,255,255)
			drawMenuTitleInv(menu.title, garagehouse.menu.x,garagehouse.menu.y + 0.08)
			drawTxt(garagehouse.selectedbutton.."/"..tablelength(menu.buttons),0,0,garagehouse.menu.x + garagehouse.menu.width/2 - 0.0385,garagehouse.menu.y + 0.067,0.4, 255,255,255,255)
			local y = garagehouse.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= garagehouse.menu.from and i <= garagehouse.menu.to then
					
					if i == garagehouse.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,garagehouse.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedgaragehouse(button)
					end
				end
			end	
		end
		if garagehouse.opened then
			if IsControlJustPressed(1,202) then
				Backgaragehouse()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if garagehouse.selectedbutton > 1 then
					garagehouse.selectedbutton = garagehouse.selectedbutton -1
					if buttoncount > 10 and garagehouse.selectedbutton < garagehouse.menu.from then
						garagehouse.menu.from = garagehouse.menu.from -1
						garagehouse.menu.to = garagehouse.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if garagehouse.selectedbutton < buttoncount then
					garagehouse.selectedbutton = garagehouse.selectedbutton +1
					if buttoncount > 10 and garagehouse.selectedbutton > garagehouse.menu.to then
						garagehouse.menu.to = garagehouse.menu.to + 1
						garagehouse.menu.from = garagehouse.menu.from + 1
					end
				end	
			end
		end
	end
end)

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if inputvehname == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputvehname = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputvehnameclient = GetOnscreenKeyboardResult()
					if string.len(inputvehnameclient) > 0 then
						NewName = inputvehnameclient
						inputvehname = 2
					else
						inputvehname = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputvehname = 0
			end
		end
		if inputvehname == 2 then
		   		TriggerServerEvent('RenameVehicle', NewName,plate)
				inputvehname = 0
		end
	end
end)


				
function ButtonSelectedgaragehouse(button)
	local ped = GetPlayerPed(-1)
	local this = garagehouse.currentmenu
	local btn = button.name
	if this == "main" then
		if btn == "Garage" then
			OpenMenugaragehouse('maingarage')
		elseif btn =="Ranger mon vÃ©hicule" then
			local posplayer = GetEntityCoords(GetPlayerPed(-1))
			local xposplayer = posplayer['x']
			local yposplayer = posplayer['y']
			local zposplayer = posplayer['z']
			targetCar = GetClosestVehicle(posplayer['x'], posplayer['y'], posplayer['z'], 10.0,0,70)
			local plateCar = GetVehicleNumberPlateText(targetCar)
			TriggerServerEvent('StockVehicle',plateCar)
			CloseCreatorgaragehouse()
		end
	elseif this == "mainranger" then
		if btn =="Ranger mon vÃ©hicule" then
			local posplayer = GetEntityCoords(GetPlayerPed(-1))
			local xposplayer = posplayer['x']
			local yposplayer = posplayer['y']
			local zposplayer = posplayer['z']
			targetCar = GetClosestVehicle(posplayer['x'], posplayer['y'], posplayer['z'], 10.0,0,70)
			local plateCar = GetVehicleNumberPlateText(targetCar)
			TriggerServerEvent('StockVehicle',plateCar)
			CloseCreatorgaragehouse()
		end
	elseif this == "maingarage" then
			refname = button.ref
			text = button.name
			plate = button.plate
			sellprice = button.sellprice
			upgrade = button.upgrade
			name = button.name
			garagehouse.menu["vehiclemenu"].title = text
			garagehouse.menu["vehiclemenu"].buttons = {}
			table.insert(garagehouse.menu["vehiclemenu"].buttons, {name = "Sortir", description = ""})
			table.insert(garagehouse.menu["vehiclemenu"].buttons, {name = "Renommer", description = ""})
			textvendre = "Vendre - "..sellprice.."$"
			if textvendre == "Vendre - 0$" then
			else
			table.insert(garagehouse.menu["vehiclemenu"].buttons, {name = textvendre, description = ""})
			end
			OpenMenugaragehouse('vehiclemenu')
	elseif this == "vehiclemenu" then
		if btn == "Sortir" then
		    posspawnvehi = posspawnvehi2
			TriggerServerEvent('SpawnVehGarageHouse',refname,plate,upgrade, posspawnvehi)
			CloseCreatorgaragehouse()
		elseif btn =="Renommer" then
			DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
			inputvehname = 1
			CloseCreatorgaragehouse()
		elseif btn == textvendre then
			TriggerServerEvent('SellVehicle',sellprice,name,plate)
			CloseCreatorgaragehouse()
		end
	end
end

function OpenMenugaragehouse(menu)
	garagehouse.lastmenu = garagehouse.currentmenu
	if menu == "vehiclemenu" then
		garagehouse.lastmenu = "maingarage"
	end
	garagehouse.menu.from = 1
	garagehouse.menu.to = 10
	garagehouse.selectedbutton = 0
	garagehouse.currentmenu = menu	
end

RegisterNetEvent("ClearCar")
AddEventHandler("ClearCar", function()
	deleteCar(targetCar)
    ShowNotificationMain("~h~Vous avez rangÃ© votre vÃ©hicule.")
	CloseCreatorgaragehouse()
end)


function Backgaragehouse()
	if backlock then
		return
	end
	backlock = true
	if garagehouse.currentmenu == "main" then
		CloseCreatorgaragehouse()
	end
	if garagehouse.currentmenu == "vehiclemenu" then
		CloseCreatorgaragehouse()
		TriggerServerEvent('MyGarageHouse',typeveh)	
	else
		OpenMenugaragehouse(garagehouse.lastmenu)
	end
	if garagehouse.currentmenu == "maingarage" then
		CloseCreatorgaragehouse()
	end
end

function stringstartsgaragehouse(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end

RegisterNetEvent("GaragePRIVATEHouse")
AddEventHandler('GaragePRIVATEHouse', function(veh,plate,upgrade, pos)

        local carid = GetHashKey(veh)
        local playerPed = GetPlayerPed(-1)
        if playerPed and playerPed ~= -1 then
            RequestModel(carid)
            while not HasModelLoaded(carid) do
                Citizen.Wait(0)
            end
			DoScreenFadeOut(1000)
			Wait(1000)
            VehicleSpawnHouse = CreateVehicle(carid, pos[1], pos[2], pos[3], 0.0, true, false)
			TaskWarpPedIntoVehicle(playerPed, VehicleSpawnHouse, -1)
			SetVehicleModKit(VehicleSpawnHouse, 0)
			SetVehicleNumberPlateText(VehicleSpawnHouse, plate)

			vehupgradehouse = json.decode(upgrade)
		-- Couleur VEH
		SetVehicleColours(VehicleSpawnHouse, vehupgradehouse["colors1"], vehupgradehouse["colors2"])
		SetVehicleExtraColours(VehicleSpawnHouse, vehupgradehouse["colorsextra1"], vehupgradehouse["colorsextra2"])
		-- Lumiere
		if vehupgradehouse["lightype"] ~= null then
		ToggleVehicleMod(VehicleSpawnHouse, 22, vehupgradehouse["lightype"])
		end

		if vehupgradehouse["neoncoloractif"] ~= null then
		SetVehicleNeonLightEnabled(VehicleSpawnHouse,0,vehupgradehouse["neoncoloractif"])
		SetVehicleNeonLightEnabled(VehicleSpawnHouse,1,vehupgradehouse["neoncoloractif"])
		SetVehicleNeonLightEnabled(VehicleSpawnHouse,2,vehupgradehouse["neoncoloractif"])
		SetVehicleNeonLightEnabled(VehicleSpawnHouse,3,vehupgradehouse["neoncoloractif"])
		end

		if vehupgradehouse["neoncolor1"] ~= null then
		SetVehicleNeonLightsColour(VehicleSpawnHouse,vehupgradehouse["neoncolor1"],vehupgradehouse["neoncolor2"],vehupgradehouse["neoncolor3"])
		end

		-- Chassis
		if vehupgradehouse["chassis"] ~= null then
		SetVehicleMod(VehicleSpawnHouse,5,vehupgradehouse["chassis"])
		end

		-- Blindage
		if vehupgradehouse["blindage"] ~= null then
		SetVehicleMod(VehicleSpawnHouse,16,vehupgradehouse["blindage"])
		end

		-- Freins
		if vehupgradehouse["freins"] ~= null then
		SetVehicleMod(VehicleSpawnHouse,12,vehupgradehouse["freins"])
		end

		-- Parechoc AV
		if vehupgradehouse["parechocav"] ~= null then
		SetVehicleMod(VehicleSpawnHouse,1,vehupgradehouse["parechocav"])
		end

		-- Parechoc AR
		if vehupgradehouse["parechocar"] ~= null then
		SetVehicleMod(VehicleSpawnHouse,2,vehupgradehouse["parechocar"])
		end

		-- Moteur
		if vehupgradehouse["moteur"] ~= null then
		SetVehicleMod(VehicleSpawnHouse,11,vehupgradehouse["moteur"])
		end

		-- Echappement
		if vehupgradehouse["echap"] ~= null then
		SetVehicleMod(VehicleSpawnHouse,4,vehupgradehouse["echap"])
		end

		-- Capot
		if vehupgradehouse["capot"] ~= null then
		SetVehicleMod(VehicleSpawnHouse,7,vehupgradehouse["capot"])
		end

		-- Klaxon
		if vehupgradehouse["klaxon"] ~= null then
		SetVehicleMod(VehicleSpawnHouse,14,vehupgradehouse["klaxon"])
		end

		-- Arceau
		if vehupgradehouse["arceau"] ~= null then
		SetVehicleMod(VehicleSpawnHouse,5,vehupgradehouse["arceau"])
		end

		-- Toit
		if vehupgradehouse["toit"] ~= null then
		SetVehicleMod(VehicleSpawnHouse,10,vehupgradehouse["toit"])
		end

		-- Bas de caisse
		if vehupgradehouse["bascaisse"] ~= null then
		SetVehicleMod(VehicleSpawnHouse,3,vehupgradehouse["bascaisse"])
		end
		-- Aileron
		if vehupgradehouse["aileron"] ~= null then
		SetVehicleMod(VehicleSpawnHouse,14,vehupgradehouse["aileron"])
		end
		-- Suspension
		if vehupgradehouse["suspension"] ~= null then
		SetVehicleMod(VehicleSpawnHouse,15,vehupgradehouse["suspension"])
		end
		-- Transmission
		if vehupgradehouse["transmission"] ~= null then
		SetVehicleMod(VehicleSpawnHouse,13,vehupgradehouse["transmission"])
		end
		-- Calandre
		if vehupgradehouse["calandre"] ~= null then
		SetVehicleMod(VehicleSpawnHouse,6,vehupgradehouse["calandre"])
		end
		-- Ailes
		if vehupgradehouse["ailes1"] ~= null then
		SetVehicleMod(VehicleSpawnHouse,8,vehupgradehouse["ailes1"])
		end
		if vehupgradehouse["ailes2"] ~= null then
		SetVehicleMod(VehicleSpawnHouse,9,vehupgradehouse["ailes2"])
		end

		-- Turbo
		if vehupgradehouse["turbo"] ~= null then
		ToggleVehicleMod(VehicleSpawnHouse, 18, vehupgradehouse["turbo"])
		end

		-- Type de roue
		if vehupgradehouse["typeroue"] ~= null then
		SetVehicleWheelType(VehicleSpawnHouse,vehupgradehouse["typeroue"])
		end

		-- Type de roue MOD
		if vehupgradehouse["typerouemod"] ~= null then
		SetVehicleMod(VehicleSpawnHouse,23,vehupgradehouse["typerouemod"])
		end

		-- Fenetre
		if vehupgradehouse["fenetre"] ~= null then
		SetVehicleWindowTint(VehicleSpawnHouse, vehupgradehouse["fenetre"])
		end
		-- Pneus custom
		if vehupgradehouse["jantecustom"] ~= null then
			if vehupgradehouse["typerouemod"] ~= null then
				SetVehicleMod(VehicleSpawnHouse,23,vehupgradehouse["typerouemod"],vehupgradehouse["jantecustom"])
			else
				SetVehicleMod(VehicleSpawnHouse,23,-1,vehupgradehouse["jantecustom"])
			end
		end

		-- Pneus vÃ©lo
		if vehupgradehouse["jantecustombike"] ~= null then
			if vehupgradehouse["typerouemod"] ~= null then
				SetVehicleMod(VehicleSpawnHouse,24,vehupgradehouse["typerouemod"],vehupgradehouse["jantecustombike"])
			else
				SetVehicleMod(VehicleSpawnHouse,24,-1,vehupgradehouse["jantecustombike"])
			end
		end
		-- Plate
		if vehupgradehouse["plate"] ~= null then
		SetVehicleNumberPlateTextIndex(VehicleSpawnHouse,vehupgradehouse["plate"])
		end
		Wait(1000)
		DoScreenFadeIn(1000)
    end
end)

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               local menuadmin = {
	opened = false,
	title = "Menu Admin",
	currentmenu = "main",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.1,
		y = 0.32,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main"] = { 
			title = "CATEGORIES", 
			name = "main",
			buttons = { 
				{name = "Argent", description = ""},
				{name = "TÃ©lÃ©portation", description = ""},
				{name = "Spawn", description = ""},
				{name = "IntÃ©ractions", description = ""},
			}
		},
		["mainargent"] = { 
			title = "Argent", 
			name = "mainargent",
			buttons = { 
				{name = "1 000 $", description = {}, model = 1000},
				{name = "10 000 $", description = {}, model = 10000},
				{name = "50 000 $", description = {}, model = 50000},
				{name = "500 000 $", description = {}, model = 500000},
			}
		},
		["mainteleportation"] = { 
			title = "Teleportation", 
			name = "mainteleportation",
			buttons = { 
				{name = "Au Marker GPS *non disponible*", description = ''},
				{name = "Lieu prÃ©dÃ©fini", description = ''},
			}
		},
		["mainteleportation2"] = { 
			title = "Lieu predefini", 
			name = "mainteleportation2",
			buttons = { 
				{name = "AÃ©roport", description = {}, model = 1},
				{name = "Comissariat", description = {}, model = 2},
				{name = "HÃ´pital", description = {}, model = 3},
				{name = "Vendeur voiture", description = {}, model = 4},
				{name = "HÃ©liport", description = {}, model = 5},
				{name = "Marina", description = {}, model = 6},
				{name = "Auto-Ecole", description = {}, model = 7},
				{name = "Ville Criminel", description = {}, model = 8},
				{name = "IAA OFFICE", description = {}, model = 9},
				{name = "Appart", description = {}, model = 10},
				{name = "Garage", description = {}, model = 11},
				{name = "Boite de nuit", description = {}, model = 12},
				{name = "Cinema", description = {}, model = 13},
				{name = "Siege CIA", description = {}, model = 14},
			}
		},
		["mainspawn"] = { 
			title = "Spawn", 
			name = "mainspawn",
			buttons = { 
				{name = "Objets", description = ''},
				{name = "VÃ©hicules", description = ''},
				{name = "HÃ©licoptÃ¨res", description = ''},
				{name = "Bateaux", description = ''},
				{name = "Armes", description = ''},
			}
		},
		["mainspawn1"] = { 
			title = "Objets", 
			name = "mainspawn1",
			buttons = { 
				{name = "BarriÃ¨re", description = ''},
				{name = "Weed", description = ''},
				{name = "Drogue", description = ''},
				{name = "Ballon de foot", description = ''},
				{name = "Gold", description = ''},
				{name = "Feu de camp", description = ''},
			}
		},
		["mainspawn2"] = { 
			title = "Vehicules", 
			name = "mainspawn2",
			buttons = { 
				{name = "Objets", description = {}, model = ""},
				{name = "Objets", description = {}, model = ""},
				{name = "Objets", description = {}, model = ""},
				{name = "Objets", description = {}, model = ""},
				{name = "Objets", description = {}, model = ""},
			}
		},
		["mainspawn3"] = { 
			title = "Helicopteres", 
			name = "mainspawn3",
			buttons = { 
				{name = "Objets", description = {}, model = ""},
				{name = "Objets", description = {}, model = ""},
				{name = "Objets", description = {}, model = ""},
				{name = "Objets", description = {}, model = ""},
				{name = "Objets", description = {}, model = ""},
			}
		},
		["mainspawn4"] = { 
			title = "Bateaux", 
			name = "mainspawn4",
			buttons = { 
				{name = "Objets", description = {}, model = ""},
				{name = "Objets", description = {}, model = ""},
				{name = "Objets", description = {}, model = ""},
				{name = "Objets", description = {}, model = ""},
				{name = "Objets", description = {}, model = ""},
			}
		},
		["mainspawn5"] = { 
			title = "Armes",
			name = "mainspawn5",
			buttons = { 
				{name = "Objets", description = {}, model = ""},
				{name = "Objets", description = {}, model = ""},
				{name = "Objets", description = {}, model = ""},
				{name = "Objets", description = {}, model = ""},
				{name = "Objets", description = {}, model = ""},
			}
		},
		["maininteractions"] = { 
			title = "Interactions", 
			name = "maininteractions",
			buttons = { 
				{name = "Sur moi", description = ''},
				{name = "Sur mon vÃ©hicule", description = ''},
			}
		},
		["maininteractions1"] = { 
			title = "Sur moi", 
			name = "maininteractions1",
			buttons = { 
				{name = "Soins", description = ''},
				{name = "Armure", description = ''},
				{name = "God", description = ''},
				{name = "Invisible", description = ''},
				{name = "Skins", description = ''},
			}
		},
		["maininteractions2"] = { 
			title = "Sur mon vehicule", 
			name = "maininteractions2",
			buttons = { 
				{name = "RÃ©parer", description = ''},
				{name = "Custom MAX", description = ''},
			}
		},
	}
}

local boughtweapon = false

local function LocalPed()
return GetPlayerPed(-1)
end

--Creator Weapon
function OpenCreatormenuadmin()		
	boughtweapon = false
	menuadmin.currentmenu = "main"
	menuadmin.opened = true
	menuadmin.selectedbutton = 0
end
function CloseCreatormenuadmin()
	Citizen.CreateThread(function()
		menuadmin.opened = false
		menuadmin.menu.from = 1
		menuadmin.menu.to = 10
	end)
end

--Menu pomenu

function drawMenuButton(button,x,y,selected)
	local menu = menuadmin.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = menuadmin.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = menuadmin.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitleadmin(txt,x,y)
local menu = menuadmin.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,93,166,202,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function NotifyAdmin(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,57) and ((clientAdminlevel == 2) or (clientAdminlevel == 3)) then
			if menuadmin.opened then
				CloseCreatormenuadmin()
			else
				OpenCreatormenuadmin()
			end
		end
		if menuadmin.opened then
			local ped = LocalPed()
			local menu = menuadmin.menu[menuadmin.currentmenu]
			drawTxt(menuadmin.title,1,1,menuadmin.menu.x,menuadmin.menu.y,1.0, 255,255,255,255)
			drawMenuTitleadmin(menu.title, menuadmin.menu.x,menuadmin.menu.y + 0.08)
			drawTxt(menuadmin.selectedbutton.."/"..tablelength(menu.buttons),0,0,menuadmin.menu.x + menuadmin.menu.width/2 - 0.0385,menuadmin.menu.y + 0.067,0.4, 255,255,255,255)
			local y = menuadmin.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= menuadmin.menu.from and i <= menuadmin.menu.to then
					
					if i == menuadmin.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,menuadmin.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedAdmin(button)
					end
				end
			end	
		end
		if menuadmin.opened then
			if IsControlJustPressed(1,202) then
				Back6Admin()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if menuadmin.selectedbutton > 1 then
					menuadmin.selectedbutton = menuadmin.selectedbutton -1
					if buttoncount > 10 and menuadmin.selectedbutton < menuadmin.menu.from then
						menuadmin.menu.from = menuadmin.menu.from -1
						menuadmin.menu.to = menuadmin.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if menuadmin.selectedbutton < buttoncount then
					menuadmin.selectedbutton = menuadmin.selectedbutton +1
					if buttoncount > 10 and menuadmin.selectedbutton > menuadmin.menu.to then
						menuadmin.menu.to = menuadmin.menu.to + 1
						menuadmin.menu.from = menuadmin.menu.from + 1
					end
				end	
			end
		end
	end
end)
				
function ButtonSelectedAdmin(button)
	local ped = GetPlayerPed(-1)
	local this = menuadmin.currentmenu
	local btn = button.name
	if this == "main" then
		if btn == "Argent" then
			OpenMenuAdmin('mainargent')
		elseif btn == "TÃ©lÃ©portation" then
			OpenMenuAdmin('mainteleportation')
		elseif btn == "Spawn" then
		    OpenMenuAdmin('mainspawn')
		elseif btn == "IntÃ©ractions" then
		    OpenMenuAdmin('maininteractions')
		end
		
	elseif this == "mainteleportation" then
		if btn == "Au Marker GPS" then
			TriggerServerEvent('CheckTPMarker')
		elseif btn == "Lieu prÃ©dÃ©fini" then
			OpenMenuAdmin('mainteleportation2')
		end
		
	elseif this == "mainspawn" then
		if btn == "Objets" then
			OpenMenuAdmin('mainspawn1')
		elseif btn == "VÃ©hicules" then
			OpenMenuAdmin('mainspawn2')
		elseif btn == "HÃ©licoptÃ¨res" then
			OpenMenuAdmin('mainspawn3')
		elseif btn == "Bateaux" then
			OpenMenuAdmin('mainspawn4')
		elseif btn == "Armes" then
			OpenMenuAdmin('mainspawn5')
		end
		
	elseif this == "maininteractions" then
		if btn == "Sur moi" then
			OpenMenuAdmin('maininteractions1')
		elseif btn == "Sur mon vÃ©hicule" then
			OpenMenuAdmin('maininteractions2')
		end
		
	elseif this == "mainargent" then
		TriggerServerEvent('CheckAdminMoney',button.model)
	elseif this == "mainteleportation2" then
		TriggerServerEvent('CheckTPAdmin',button.model)
	elseif this == "mainspawn1" then
		if btn == "BarriÃ¨re" then
		    Citizen.CreateThread(function()
			local objectID = GetHashKey("prop_mp_barrier_01")
			
			RequestModel(objectID)
			while not HasModelLoaded(objectID) do
			Citizen.Wait(0)
			end
			
			local ped = LocalPed()			
			local playerCoords = GetEntityCoords(ped)
			local playerCoords = playerCoords + vector3(1, 1, -0.87)
			
			CreateObject(objectID, playerCoords['x'], playerCoords['y'], playerCoords['z'], true, true, true)
			end)
		elseif btn == "Weed" then
		    Citizen.CreateThread(function()
			local objectID = GetHashKey("Prop_weed_01")
			
			RequestModel(objectID)
			while not HasModelLoaded(objectID) do
			Citizen.Wait(0)
			end
			
			local ped = LocalPed()			
			local playerCoords = GetEntityCoords(ped)
			local playerCoords = playerCoords + vector3(1, 1, -0.87)
			
			CreateObject(objectID, playerCoords['x'], playerCoords['y'], playerCoords['z'], true, true, true)
			end)
		elseif btn == "Drogue" then
		    Citizen.CreateThread(function()
			local objectID = GetHashKey("prop_weed_pallet")
			
			RequestModel(objectID)
			while not HasModelLoaded(objectID) do
			Citizen.Wait(0)
			end
			
			local ped = LocalPed()			
			local playerCoords = GetEntityCoords(ped)
			local playerCoords = playerCoords + vector3(1, 1, -0.87)
			
			CreateObject(objectID, playerCoords['x'], playerCoords['y'], playerCoords['z'], true, true, true)
			end)
		elseif btn == "Gold" then
		    Citizen.CreateThread(function()
			local objectID = GetHashKey("prop_large_gold")
			
			RequestModel(objectID)
			while not HasModelLoaded(objectID) do
			Citizen.Wait(0)
			end
			
			local ped = LocalPed()			
			local playerCoords = GetEntityCoords(ped)
			local playerCoords = playerCoords + vector3(1, 1, -0.87)
			
			CreateObject(objectID, playerCoords['x'], playerCoords['y'], playerCoords['z'], true, true, true)
			end)
		elseif btn == "Feu de camp" then
		    Citizen.CreateThread(function()
			local objectID = GetHashKey("prop_beach_fire")
			
			RequestModel(objectID)
			while not HasModelLoaded(objectID) do
			Citizen.Wait(0)
			end
			
			local ped = LocalPed()			
			local playerCoords = GetEntityCoords(ped)
			local playerCoords = playerCoords + vector3(1, 1, -1)
			
			CreateObject(objectID, playerCoords['x'], playerCoords['y'], playerCoords['z'], true, true, true)
			end)
		elseif btn == "Ballon de foot" then
		    Citizen.CreateThread(function()
			local objectID = GetHashKey("p_ld_soc_ball_01")
			
			RequestModel(objectID)
			while not HasModelLoaded(objectID) do
			Citizen.Wait(0)
			end
			
			local ped = LocalPed()			
			local playerCoords = GetEntityCoords(ped)
			local playerCoords = playerCoords + vector3(1, 1, -0.87)
			
			CreateObject(objectID, playerCoords['x'], playerCoords['y'], playerCoords['z'], true, true, true)
			end)
		end
	elseif this == "citoyen1" or this == "citoyen2" or this == "citoyen3" or this == "citoyen4" or this == "citoyen5" or this == "vehicle1" or this == "vehicle2" then
		TriggerServerEvent('CheckMenuPolice444',button.model)
	end
end


RegisterNetEvent('FinishMenuPolice4444')
AddEventHandler('FinishMenuPolice4444', function()
	boughtweapon = true
	CloseCreatormenuadmin()
	menuadmin.opened = false
	menuadmin.menu.from = 1
	menuadmin.menu.to = 10
end)

function OpenMenuAdmin(menu)
	menuadmin.lastmenu = menuadmin.currentmenu
	if menu == "mainargent" then
		menuadmin.lastmenu = "main"
	elseif menu == "mainteleportation"  then
		menuadmin.lastmenu = "main"
	elseif menu == "mainspawn"  then
		menuadmin.lastmenu = "main"
	elseif menu == "maininteractions"  then
		menuadmin.lastmenu = "main"
	elseif menu == 'race_create_objects' then
		menuadmin.lastmenu = "main"
	elseif menu == "race_create_objects_spawn" then
		menuadmin.lastmenu = "race_create_objects"
	end
	menuadmin.menu.from = 1
	menuadmin.menu.to = 10
	menuadmin.selectedbutton = 0
	menuadmin.currentmenu = menu	
end

function Back6Admin()
	if backlock then
		return
	end
	backlock = true
	if menuadmin.currentmenu == "main" then
		CloseCreatormenuadmin()
	elseif menuadmin.currentmenu == "mainteleportation2" or menuadmin.currentmenu == "mainspawn1" or menuadmin.currentmenu == "mainspawn2" or menuadmin.currentmenu == "mainspawn3" or menuadmin.currentmenu == "mainspawn4" or menuadmin.currentmenu == "mainspawn5" or menuadmin.currentmenu == "maininteractions1" or menuadmin.currentmenu == "maininteractions2" then
		OpenMenuAdmin(menuadmin.lastmenu)
	else
		OpenMenuAdmin(menuadmin.lastmenu)
	end
end

function stringstartsadmin(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Citizen.CreateThread(function()
	while true do
        Citizen.Wait(0)
		if iteminuse == 1 then
			fctuse()
		end
	end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     MaxInventory = 70
ItemWeightTable = nil

RegisterNetEvent('sendItemTable')
AddEventHandler('sendItemTable', function(table)
ItemWeightTable = table

end)

function calcInventoryWeight (playerinventory)
    totalInventoryWeight = 0
    local counttable = tablelength(playerinventory)
	local countbutton = 0
	local i = 1
	while countbutton ~= counttable do
		item = playerinventory[ItemWeightTable[i]['item_price_name']]
		if item ~= null then
			local itemweight = ItemWeightTable[i]['weight']
			itemweight = item * itemweight
			totalInventoryWeight = totalInventoryWeight + itemweight
			countbutton = countbutton + 1
		end
		i = i + 1
	end
    return totalInventoryWeight
end

function playerHasEnoughPlace (itemadd)
    local addweight = ItemWeightTable[itemadd]['weight']
    if ((addweight + totalInventoryWeight) <= MaxInventory) then
        return true
    else
        return false
    end
end

function playerTargetHasEnoughPlace (itemadd,number)
    local addweight = (ItemWeightTable[itemadd]['weight']) * number
    if ((addweight + totalInventoryWeight) <= MaxInventory) then
        return true
    else
        return false
    end


end




                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         function Weed()
    TriggerServerEvent('useitem',"cannabis")
	TaskStartScenarioInPlace(GetPlayerPed(-1), "WORLD_HUMAN_DRUG_DEALER", 0, 1)
	PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
	Wait(10000)
	DoScreenFadeOut(1000)
	Wait(1000)
	ClearPedTasksImmediately(GetPlayerPed(-1))
	SetTimecycleModifier("spectator5")
	SetPedMotionBlur(GetPlayerPed(-1), true)
	RequestAnimSet("MOVE_M@DRUNK@SLIGHTLYDRUNK")
	while not HasAnimSetLoaded("MOVE_M@DRUNK@SLIGHTLYDRUNK") do
		Wait(0)
	end
	SetPedMovementClipset(GetPlayerPed(-1), "MOVE_M@DRUNK@SLIGHTLYDRUNK", true)
	SetPedIsDrunk(GetPlayerPed(-1), true)	 
	DoScreenFadeIn(1000)
	Wait(180000)
	DoScreenFadeOut(1000)
	Wait(1000)
	DoScreenFadeIn(1000)
	ClearTimecycleModifier()
	ResetScenarioTypesEnabled()
	ResetPedMovementClipset(GetPlayerPed(-1), 0)
	SetPedIsDrunk(GetPlayerPed(-1), false)
	SetPedMotionBlur(GetPlayerPed(-1), false)
	iteminuse = 0
end                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   function Eau()
    TriggerServerEvent('useitem',"eau")
	-- TaskStartScenarioInPlace(GetPlayerPed(-1), "WORLD_HUMAN_DRINKING", 0, 1)
	-- PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
	-- Wait(5000)
	-- ClearPedTasksImmediately(GetPlayerPed(-1))
	RequestAnimDict('amb@code_human_wander_drinking_fat@male@idle_a')     
      while not HasAnimDictLoaded('amb@code_human_wander_drinking_fat@male@idle_a') do
        Citizen.Wait(0)
      end

      local myPed = PlayerPedId()
      local animation = 'idle_c'
      local flags = 16
      TaskPlayAnim(myPed, 'amb@code_human_wander_drinking_fat@male@idle_a', animation, 8.0, -8, -1, flags, 0, 0, 0, 0)
	
	if waterlvl <= 79 then
	waterlvl = waterlvl + 20
	else
	waterlvl = 100
	end
	
	ShowNotificationMain("~h~Vous avez bu une ~g~bouteille d'eau~w~.")
	iteminuse = 0
end                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               function Sandwich()
    TriggerServerEvent('useitem',"sandwich")
	
	RequestAnimDict('amb@code_human_wander_eating_donut@male@idle_a')     
      while not HasAnimDictLoaded('amb@code_human_wander_eating_donut@male@idle_a') do
        Citizen.Wait(0)
      end

      local myPed = PlayerPedId()
      local animation = 'idle_c'
      local flags = 16
      TaskPlayAnim(myPed, 'amb@code_human_wander_eating_donut@male@idle_a', animation, 8.0, -8, -1, flags, 0, 0, 0, 0)
	
	
	if foodlvl <= 79 then
	foodlvl = foodlvl + 20
	else
	foodlvl = 100
	end
	
	ShowNotificationMain("~h~Vous avez mangÃ© un ~g~sandwich~w~.")
  iteminuse = 0
end                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        function Vodka()
    TriggerServerEvent('useitem',"vodka")
	TaskStartScenarioInPlace(GetPlayerPed(-1), "WORLD_HUMAN_DRINKING", 0, 1)
	PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
	Citizen.Wait(10000)
	DoScreenFadeOut(1000)
	Citizen.Wait(1000)
	ClearPedTasksImmediately(GetPlayerPed(-1))
	SetTimecycleModifier("Drunk")
	SetPedMotionBlur(GetPlayerPed(-1), true)
	RequestAnimSet("MOVE_M@DRUNK@VERYDRUNK")
	while not HasAnimSetLoaded("MOVE_M@DRUNK@VERYDRUNK") do
		Citizen.Wait(0)
	end
	SetPedMovementClipset(GetPlayerPed(-1), "MOVE_M@DRUNK@VERYDRUNK", true)
	SetPedIsDrunk(GetPlayerPed(-1), true)	 
	DoScreenFadeIn(1000)
	Citizen.Wait(600000)
	DoScreenFadeOut(1000)
	Citizen.Wait(1000)
	DoScreenFadeIn(1000)
	ClearTimecycleModifier()
	ResetPedMovementClipset(GetPlayerPed(-1), 0)
	SetPedIsDrunk(GetPlayerPed(-1), false)
	SetPedMotionBlur(GetPlayerPed(-1), false)
	iteminuse = 0
end                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              function Cocaine()
    TriggerServerEvent('useitem',"cocaine")
	RequestAnimDict('switch@trevor@trev_smoking_meth')     
      while not HasAnimDictLoaded('switch@trevor@trev_smoking_meth') do
        Citizen.Wait(0)
      end

      local myPed = PlayerPedId()
      local animation = 'trev_smoking_meth_loop'
      local flags = 16
      TaskPlayAnim(myPed, 'switch@trevor@trev_smoking_meth', animation, 8.0, -8, -1, flags, 0, 0, 0, 0)
	Wait(3000)
	DoScreenFadeOut(1000)
	Citizen.Wait(1000)
	ClearPedTasksImmediately(GetPlayerPed(-1))
	SetTimecycleModifier("stoned")
	SetPedMotionBlur(GetPlayerPed(-1), true)
	RequestAnimSet("MOVE_M@DRUNK@MODERATEDRUNK_HEAD_UP")
	while not HasAnimSetLoaded("MOVE_M@DRUNK@MODERATEDRUNK_HEAD_UP") do
	Citizen.Wait(0)
	end
	SetPedMovementClipset(GetPlayerPed(-1), "MOVE_M@DRUNK@MODERATEDRUNK_HEAD_UP", true)
	SetPedIsDrunk(GetPlayerPed(-1), true)	
	DoScreenFadeIn(1000)					
	Citizen.Wait(300000)
	DoScreenFadeOut(1000)
	Citizen.Wait(1000)
	DoScreenFadeIn(1000)
	ClearTimecycleModifier()
	ResetPedMovementClipset(GetPlayerPed(-1), 0)
	StopAnimTask(PlayerPedId(), 'mp_suicide', 'pill', 1)
	SetPedIsDrunk(GetPlayerPed(-1), false)
	SetPedMotionBlur(GetPlayerPed(-1), false)
	iteminuse = 0
end                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           function Ecstasy()
    TriggerServerEvent('useitem',"ecstasy")
	
	RequestAnimDict('switch@trevor@trev_smoking_meth')     
      while not HasAnimDictLoaded('switch@trevor@trev_smoking_meth') do
        Citizen.Wait(0)
      end

      local myPed = PlayerPedId()
      local animation = 'trev_smoking_meth_loop'
      local flags = 16
      TaskPlayAnim(myPed, 'switch@trevor@trev_smoking_meth', animation, 8.0, -8, -1, flags, 0, 0, 0, 0)
	Wait(3000)
	DoScreenFadeOut(1000)
	Wait(1000)
	ClearPedTasksImmediately(GetPlayerPed(-1))
	SetTimecycleModifier("stoned")
	SetPedMotionBlur(GetPlayerPed(-1), true)
	RequestAnimSet("MOVE_M@DRUNK@MODERATEDRUNK_HEAD_UP")
	while not HasAnimSetLoaded("MOVE_M@DRUNK@MODERATEDRUNK_HEAD_UP") do
	Citizen.Wait(0)
	end
	SetPedMovementClipset(GetPlayerPed(-1), "MOVE_M@DRUNK@MODERATEDRUNK_HEAD_UP", true)
	SetPedIsDrunk(GetPlayerPed(-1), true)	
	DoScreenFadeIn(1000)					
	Citizen.Wait(300000)
	DoScreenFadeOut(1000)
	Citizen.Wait(1000)
	DoScreenFadeIn(1000)
	ClearTimecycleModifier()
	ResetPedMovementClipset(GetPlayerPed(-1), 0)
	StopAnimTask(PlayerPedId(), 'mp_suicide', 'pill', 1)
	SetPedIsDrunk(GetPlayerPed(-1), false)
	SetPedMotionBlur(GetPlayerPed(-1), false)
	iteminuse = 0
end                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 function Biere()
    TriggerServerEvent('useitem',"biere")
	-- TaskStartScenarioInPlace(GetPlayerPed(-1), "WORLD_HUMAN_DRINKING", 0, 1)
	-- PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
	-- Wait(5000)
	-- ClearPedTasksImmediately(GetPlayerPed(-1))
	RequestAnimDict('amb@code_human_wander_drinking_fat@male@idle_a')     
      while not HasAnimDictLoaded('amb@code_human_wander_drinking_fat@male@idle_a') do
        Citizen.Wait(0)
      end

      local myPed = PlayerPedId()
      local animation = 'idle_c'
      local flags = 16
      TaskPlayAnim(myPed, 'amb@code_human_wander_drinking_fat@male@idle_a', animation, 8.0, -8, -1, flags, 0, 0, 0, 0)
	
	if waterlvl <= 60 then
	waterlvl = waterlvl + 40
	else
	waterlvl = 100
	end
	
	ShowNotificationMain("~h~Vous avez bu une ~g~biÃ¨re~w~.")
	iteminuse = 0
end                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    function Pain()
    TriggerServerEvent('useitem',"pain")
	
	RequestAnimDict('amb@code_human_wander_eating_donut@male@idle_a')     
      while not HasAnimDictLoaded('amb@code_human_wander_eating_donut@male@idle_a') do
        Citizen.Wait(0)
      end

      local myPed = PlayerPedId()
      local animation = 'idle_c'
      local flags = 16
      TaskPlayAnim(myPed, 'amb@code_human_wander_eating_donut@male@idle_a', animation, 8.0, -8, -1, flags, 0, 0, 0, 0)
	
	
	if foodlvl <= 50 then
	foodlvl = foodlvl + 50
	else
	foodlvl = 100
	end
	
	ShowNotificationMain("~h~Vous avez mangÃ© un ~g~Pain~w~.")
    iteminuse = 0
end                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  function Cafe()
    TriggerServerEvent('useitem',"cafe")
	-- TaskStartScenarioInPlace(GetPlayerPed(-1), "WORLD_HUMAN_DRINKING", 0, 1)
	-- PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
	-- Wait(5000)
	-- ClearPedTasksImmediately(GetPlayerPed(-1))
	RequestAnimDict('amb@code_human_wander_drinking_fat@male@idle_a')     
      while not HasAnimDictLoaded('amb@code_human_wander_drinking_fat@male@idle_a') do
        Citizen.Wait(0)
      end

      local myPed = PlayerPedId()
      local animation = 'idle_c'
      local flags = 16
      TaskPlayAnim(myPed, 'amb@code_human_wander_drinking_fat@male@idle_a', animation, 8.0, -8, -1, flags, 0, 0, 0, 0)
	
	if waterlvl <= 79 then
	waterlvl = waterlvl + 20
	else
	waterlvl = 100
	end
	
	ShowNotificationMain("~h~Vous avez bu un ~g~cafÃ©~w~.")
	iteminuse = 0
end                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        local Cablerie = {
	opened = false,
	title = "Cablerie",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}

local Cablerie_locations = {
{enteringCablerie = {474.3488,-1951.734,23.63132}, innutile4 = {474.3488,-1951.734,23.63132}, outsideCablerie = {461.1819,-1942.91,24.65741}},
}

local Cablerie_blips ={}
local inrangeofCablerie = false
local inrangeofCablerie3 = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxtCablerie(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfCablerie()
return inrangeofCablerie
end

function IsPlayerInRangeOfCablerie3()
return inrangeofCablerie3
end

function ShowCablerieBlips(bool)
	if bool and #Cablerie_blips == 0 then
		for station,pos in pairs(Cablerie_locations) do
			local loc = pos
			pos = pos.outsideCablerie
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,67)
			SetBlipColour(blip, 16)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('CÃ¢blerie de Cuivre')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Cablerie_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #Cablerie_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				local inrange3 = false
				for i,b in ipairs(Cablerie_blips) do
					if (clientjobID == 34) and Cablerie.opened == false and  GetDistanceBetweenCoords(b.pos.enteringCablerie[1],b.pos.enteringCablerie[2],b.pos.enteringCablerie[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.enteringCablerie[1],b.pos.enteringCablerie[2],b.pos.enteringCablerie[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.enteringCablerie[1],b.pos.enteringCablerie[2],b.pos.enteringCablerie[3],GetEntityCoords(LocalPed()),true) < 3 then
							inrange = true
							ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour vous ~b~Ã©quiper~w~.", 0)
						end
					end
					if (clientjobID == 34) and Cablerie.opened == false and  GetDistanceBetweenCoords(b.pos.enteringCablerie[1],b.pos.enteringCablerie[2],b.pos.enteringCablerie[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,484.5912,-1977.091,24.58546,0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(484.5912,-1977.091,24.58546,GetEntityCoords(LocalPed()),true) < 3 then
							inrange3 = true
							ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour ~b~sortir~w~ votre camion.", 0)
						end
					end
				end
				inrangeofCablerie = inrange
				inrangeofCablerie3 = inrange3
			end
		end)
	elseif bool == false and #Cablerie_blips > 0 then
		for i,b in ipairs(Cablerie_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		Cablerie_blips = {}
	end
end

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofCablerie then
            
			SetPedComponentVariation(GetPlayerPed(-1), 8, 59, 0, 0)
			SetPedPropIndex(GetPlayerPed(-1), 0, 0, 0, 1)
			
			inrangeofCablerie = false
			inrange = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofCablerie3 then
            
			local carid = GetHashKey("rubble")
			local playerPed = GetPlayerPed(-1)
			if playerPed and playerPed ~= -1 then
            RequestModel(carid)
            while not HasModelLoaded(carid) do
                Citizen.Wait(0)
            end
			
			if(lastvehcable ~= nil)then				
				deleteCar(lastvehcable)
			end
			
			local playerCoords = GetEntityCoords(playerPed)
            playerCoords = playerCoords + vector3(0, 2, 0)
			
            lastvehcable = CreateVehicle(carid, 476.7554,-1974.169,24.65711, 0.0, true, false)
			TaskWarpPedIntoVehicle(playerPed, lastvehcable, -1)
			
			end
			
			TriggerServerEvent('SetPlateJob')
			ShowNotificationMain("Vous avez sortie votre ~b~Camion~w~.")
			
			inrangeofCablerie3 = false
			inrange3 = false
        end
    end
end)

onJobCablerie = 0
local MyVeh = nil

function StartJobCablerie(jobid)
	if jobid == 1 then -- Cablerie
		showLoadingPromtCablerie("Chargement des coordonnÃ©es GPS.", 2000, 3)
		MyVeh = GetVehiclePedIsUsing(GetPlayerPed(-1))
		onJobCablerie = 1
	end
end

function DrawMissionTextCablerie(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

function showLoadingPromtCablerie(showText, showTime, showType)
	Citizen.CreateThread(function()
		Citizen.Wait(0)
		N_0xaba17d7ce615adbf("STRING") -- set type
		AddTextComponentString(showText) -- sets the text
		N_0xbd12f8228410d9b4(showType) -- show promt (types = 3)
		Citizen.Wait(showTime) -- show time
		N_0x10d373323e5b9c0d() -- remove promt
	end)
end

function ShowInfoJob(text, state)
	SetTextComponentFormat("STRING")
	AddTextComponentString(text)
	DisplayHelpTextFromStringLabel(0, state, 0, -1)
end

nbcuivrejob = 0
nbFcuivrejob = 0
inrecolt = false
intraitos = false
inrevente = false

function StopJobCablerie(jobid)
	if jobid == 1 then
		if MineurChamps ~= nil and DoesBlipExist(MineurChamps) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(MineurChamps))
			MineurChamps = nil
		end
		if MineurTraitos ~= nil and DoesBlipExist(MineurTraitos) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(MineurTraitos))
			MineurTraitos = nil
		end
		if MineurRevente ~= nil and DoesBlipExist(MineurRevente) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(MineurRevente))
			MineurRevente = nil
		end
		onJobCablerie = 0
		inrecolt = false
		intraitos = false
		inrevente = false
		MyVeh = nil
	end
end


RegisterNetEvent('MyInvJobClient')
AddEventHandler('MyInvJobClient', function(result, result2)
    
    nbcuivrejob = result
	nbFcuivrejob = result2
	
end)

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if onJobCablerie == 0 then
			if (clientjobID == 34) then -- JOB Cablerie
				if IsPedSittingInAnyVehicle(GetPlayerPed(-1)) then
					if IsVehicleModel(GetVehiclePedIsUsing(GetPlayerPed(-1)), GetHashKey("Rubble", _r)) then
						StartJobCablerie(1)
					end
				end
			end
		elseif onJobCablerie == 1 then
					--BLIPS CHAMPS
					MineurChamps = AddBlipForCoord(2683.475,2824.863,40.33266)
					SetBlipSprite(MineurChamps,416)		
			        SetBlipColour(MineurChamps, 1)
					BeginTextCommandSetBlipName("STRING")
					AddTextComponentString('MINE DE CUIVRE')
					EndTextCommandSetBlipName(MineurChamps)
					--BLIPS TRAITEMENT
					MineurTraitos = AddBlipForCoord(1738.04,-1541.06,112.6995)
					SetBlipSprite(MineurTraitos,416)	
			        SetBlipColour(MineurTraitos, 2)
					BeginTextCommandSetBlipName("STRING")
					AddTextComponentString('TRAITEMENT DE CUIVRE')
					EndTextCommandSetBlipName(MineurTraitos)
					--BLIPS REVENTE
					MineurRevente = AddBlipForCoord(112.4534,-399.2408,41.26403)
					SetBlipSprite(MineurRevente,416)	
			        SetBlipColour(MineurRevente, 3)
					BeginTextCommandSetBlipName("STRING")
					AddTextComponentString('REVENTE DE CUIVRE')
					EndTextCommandSetBlipName(MineurRevente)
					
					onJobCablerie = 2
					
		elseif onJobCablerie == 2 then
			if DoesEntityExist(MyVeh) and IsVehicleDriveable(MyVeh, 0) then
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), 2683.475,2824.863,40.33266, true) > 20.0001 then
						DrawMarker(1, 2683.475,2824.863,40.33266-1.1001, 0, 0, 0, 0, 0, 0, 20.0, 20.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
					    inrangeofchamps = false
					else
						inrangeofchamps = true
						if (inrecolt == false) then
						    ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour rÃ©colter.", 0)
						end
					    if (inrecolt == true) then
						    ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de rÃ©colter.", 0)
						end
					end
					
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), 1738.04,-1541.06,112.6995, true) > 20.0001 then
						DrawMarker(1, 1738.04,-1541.06,112.6995-1.1001, 0, 0, 0, 0, 0, 0, 20.0, 20.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
						inrangeoftraitos = false
					else
						inrangeoftraitos = true
						if (intraitos == false) then
					        ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour traiter.", 0)
						end
					    if (intraitos == true) then
						    ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de traiter.", 0)
						end
					end
					
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), 112.4534,-399.2408,41.26403, true) > 20.0001 then
						DrawMarker(1, 112.4534,-399.2408,41.26403-1.1001, 0, 0, 0, 0, 0, 0, 20.0, 20.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
						inrangeofrevente = false
					else
					    inrangeofrevente = true
					    if (inrevente == false) then
						    ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour vendre.", 0)
						end
					    if (inrevente == true) then
						    ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de vendre.", 0)
						end
					end


					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(MyVeh), true) > 50.0001 then
						StopJobCablerie(1)
					else
						
					end

			else
				StopJobCablerie(1)
			end
		end
	end
end)
	
Citizen.CreateThread(function()
	while true do
        Citizen.Wait(0)
			
			
			if (inrecolt == true) then
			    if (inrangeofchamps == true) then
				
           		    if (tonumber(nbcuivrejob) >= 32) then
				    	DrawMissionTextCablerie("~h~~r~Inventaire Complet", 10000)
				    	inrecolt = false
				    else
				        while (tonumber(nbcuivrejob) < 31) and (inrecolt == true) and (inrangeofchamps == true) do
				        DrawMissionTextCablerie("~h~~b~RÃ©colte~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextCablerie("~h~~g~+1~w~ Cuivre...", 1000)
				    	TriggerServerEvent('CheckCuivre', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvJob')
					    Wait(1)
					    end
				    end
					
				else
				    inrecolt = false
				end
			
			end
			
			if (intraitos == true) then
			    if (inrangeoftraitos == true) then
				
           		    if (tonumber(nbcuivrejob) <= 0) then
				    	DrawMissionTextCablerie("~h~~g~Traitement terminÃ©", 10000)
				    	intraitos = false
				    else
				        while (tonumber(nbcuivrejob) > 1) and (intraitos == true) and (inrangeoftraitos == true) do
				        DrawMissionTextCablerie("~h~~b~Traitement~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextCablerie("~h~~g~+1~w~ Fil de Cuivre...", 1000)
				    	TriggerServerEvent('CheckFil', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvJob')
					    Wait(1)
					    end
				    end
					
				else
				    intraitos = false
				end
			
			end
			
			if (inrevente == true) then
			    if (inrangeofrevente == true) then
				
           		    if (tonumber(nbFcuivrejob) <= 0) then
				    	DrawMissionTextCablerie("~h~~g~Revente terminÃ©", 10000)
				    	inrevente = false
				    else
				        while (tonumber(nbFcuivrejob) > 1) and (inrevente == true) and (inrangeofrevente == true) do
				        DrawMissionTextCablerie("~h~~b~Revente~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextCablerie("~h~Vous avez vendu ~g~+1 Cuivre~w~...", 1000)
				    	TriggerServerEvent('CheckFilVendu', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvJob')
					    Wait(1)
					    end
				    end
					
				else
				    inrevente = false
				end
			
			end
	end
end)


Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeofchamps == true) and (clientjobID == 34) and (inrecolt == false) then
           if IsPedInAnyVehicle(LocalPed(), true) == false then
		   TriggerServerEvent('MyInvJob')
		   inrecolt = true
		   else
		       DrawMissionTextBrasseur("~h~~r~Vous devez sortir du vÃ©hicule pour travailler.", 2000)
		   end
        elseif IsControlJustPressed(1, 38) and (inrangeofchamps == true) and (clientjobID == 34) and (inrecolt == true) then
           TriggerServerEvent('MyInvJob')
		   inrecolt = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeoftraitos == true) and (clientjobID == 34) and (intraitos == false) then
           if IsPedInAnyVehicle(LocalPed(), true) == false then
		   TriggerServerEvent('MyInvJob')
		   intraitos = true
		   else
		       DrawMissionTextBrasseur("~h~~r~Vous devez sortir du vÃ©hicule pour travailler.", 2000)
		   end
        elseif IsControlJustPressed(1, 38) and (inrangeoftraitos == true) and (clientjobID == 34) and (intraitos == true) then
           TriggerServerEvent('MyInvJob')
		   intraitos = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeofrevente == true) and (clientjobID == 34) and (inrevente == false) then
           if IsPedInAnyVehicle(LocalPed(), true) == false then
		   TriggerServerEvent('MyInvJob')
		   inrevente = true
		   else
		       DrawMissionTextBrasseur("~h~~r~Vous devez sortir du vÃ©hicule pour travailler.", 2000)
		   end
        elseif IsControlJustPressed(1, 38) and (inrangeofrevente == true) and (clientjobID == 34) and (inrevente == true) then
           TriggerServerEvent('MyInvJob')
		   inrevente = false
        end
    end
end)



local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowCablerieBlips(true)
	firstspawn = 1
end
end)                 local Depanneur = {
	opened = false,
	title = "Depanneur",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}


function ShowInfoJobDep(text, state)
	SetTextComponentFormat("STRING")
	AddTextComponentString(text)
	DisplayHelpTextFromStringLabel(0, state, 0, -1)
end

function ShowNotificationLockVehDep(text)
	SetNotificationTextEntry("STRING")
	AddTextComponentString(text)
	DrawNotification(false, false)
end

local Depanneur_locations = {
{entering2 = {818.4288,-1375.446,25.31147}, outside2 = {819.1117,-1320.532,26.08078}},
}

local Depanneur_blips ={}
local inrangeofDepanneur = false
local inrangeofDepanneur3 = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfDepanneur()
return inrangeofDepanneur
end

function IsPlayerInRangeOfDepanneur3()
return inrangeofDepanneur3
end

function ShowDepanneurBlips(bool)
	if bool and #Depanneur_blips == 0 then
		for station,pos in pairs(Depanneur_locations) do
			local loc = pos
			pos = pos.outside2
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,58)
			SetBlipColour(blip, 3)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('East Coast Street')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Depanneur_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #Depanneur_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				local inrange3 = false
				for i,b in ipairs(Depanneur_blips) do
					if (clientjobID == 35) and GetDistanceBetweenCoords(b.pos.entering2[1],b.pos.entering2[2],b.pos.entering2[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.entering2[1],b.pos.entering2[2],b.pos.entering2[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.entering2[1],b.pos.entering2[2],b.pos.entering2[3],GetEntityCoords(LocalPed()),true) < 3 then
							ShowInfoJobDep("Appuyez sur ~INPUT_CONTEXT~ pour vous ~b~Ã©quiper~w~.", 0)
							GiveWeaponToPed(LocalPed(), 883325847, 500, true)
							inrange = true
						end
					end
					if (clientjobID == 35) and GetDistanceBetweenCoords(b.pos.entering2[1],b.pos.entering2[2],b.pos.entering2[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,834.0008,-1370.594,25.12886,0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(834.0008,-1370.594,25.12886,GetEntityCoords(LocalPed()),true) < 3 then
							ShowInfoJobDep("Appuyez sur ~INPUT_CONTEXT~ pour sortir votre ~b~camion~w~.", 0)
							inrange3 = true
						end
					end
				end
				inrangeofDepanneur = inrange
				inrangeofDepanneur3 = inrange3
			end
		end)
	elseif bool == false and #Depanneur_blips > 0 then
		for i,b in ipairs(Depanneur_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		Depanneur_blips = {}
	end
end

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofDepanneur then
		
            SetPedComponentVariation(GetPlayerPed(-1), 11, 65, 3, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 4, 38, 3, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 6, 12, 6, 0)
			
			GiveWeaponToPed(LocalPed(), 883325847, 500, true)
			inrangeofDepanneur = false
			inrange = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofDepanneur3 then
            TriggerServerEvent('CheckDepanneurVehi')
			
			TriggerServerEvent('SetPlateJob')
			GiveWeaponToPed(LocalPed(), 883325847, 500, true)
			inrangeofDepanneur3 = false
			inrange3 = false
        end
    end
end)


local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowDepanneurBlips(true)
	firstspawn = 1
end
end)



function ShowNotificationCallDep(text)
	SetNotificationTextEntry("STRING")
	AddTextComponentString(text)
	DrawNotification(false, false)
end

callencoursdep = 2
inmissiondep = 0

RegisterNetEvent('HaveCallDep')
AddEventHandler('HaveCallDep', function()
   
    ShowNotificationCallDep('~h~VOUS AVEZ APPELÃ‰ UN ~b~DÃ‰PANNEUR~w~.')
end)

RegisterNetEvent('HaveAcceptCallDep')
AddEventHandler('HaveAcceptCallDep', function()
    ShowNotificationCallDep('~h~UN ~b~DEPANNEUR~w~ EST EN ROUTE...')
end)

RegisterNetEvent('HaveAcceptCallDepForDep')
AddEventHandler('HaveAcceptCallDepForDep', function(namepol, namecaller)
    ShowNotificationCallDep("~h~~b~"..namepol.."~w~ a ~g~acceptÃ©~w~ l'appel de ~b~"..namecaller.."~w~.")
	callencoursdep = 1
end)

RegisterNetEvent('MarkerTelDep')
AddEventHandler('MarkerTelDep', function(namecalldep, coordcallDepx, coordcallDepy, coordcallDepz)
    
	ShowNotificationCallDep("~h~~b~FourriÃ¨re~n~ ~w~ ~n~~h~~b~"..namecalldep.."~w~ vient d'appeler un dÃ©panneur !")
    ShowNotificationCallDep("Pour accepter l'appel appuyez sur ~h~~b~Y")
	callencoursdep = 0
	LastCallerDep = namecalldep
	posCallTelDepxSave = coordcallDepx
	posCallTelDepySave = coordcallDepy
	posCallTelDepzSave = coordcallDepz
end)

function StopInterDEP()
		if blipTelcallDep ~= nil and DoesBlipExist(blipTelcallDep) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(blipTelcallDep))
			blipTelcallDep = nil
			inmissiondep = 0
			depflag = 0
		end
end

Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
	    if IsControlJustPressed(1,246) and (clientjobID == 35) then
			if (inmissiondep == 0) then
				if (callencoursdep == 0) then
					depflag = 3
					ShowNotificationCallDep('CoordonnÃ©e envoyÃ©e sur votre GPS...')
					TriggerServerEvent('CheckAcceptCallDep', LastCallerDep)
					TriggerServerEvent('CheckAcceptCallDepForDep', LastCallerDep)
					posCallTelDepx = posCallTelDepxSave
					posCallTelDepy = posCallTelDepySave
					posCallTelDepz = posCallTelDepzSave
					inmissiondep = 1
				elseif (callencoursdep == 1) then
				    ShowNotificationCallDep("~h~L'appel a dÃ©jÃ  Ã©tÃ© pris.")
				elseif (callencoursdep == 2) then
				    ShowNotificationCallDep("~h~Aucun appel pour le moment.")
				end
			elseif (inmissiondep == 1) then
			    ShowNotificationCallDep("~h~Vous Ãªtes dÃ©jÃ  en mission.")
			end
	    end
	end
end)

Citizen.CreateThread(function()
	while true do
	Wait(0)
		if depflag == 3 then
			    blipTelcallDep = AddBlipForCoord(posCallTelDepx, posCallTelDepy, posCallTelDepz)
				N_0x80ead8e2e1d5d52e(blipTelcallDep)
								
				SetBlipRoute(blipTelcallDep, 1)
				depflag = 4
		end
		if depflag == 4 then
				if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), posCallTelDepx, posCallTelDepy, posCallTelDepz, true) > 4.0001 then
					DrawMarker(1, posCallTelDepx, posCallTelDepy, posCallTelDepz-1.0001, 0, 0, 0, 0, 0, 0, 4.0, 4.0, 2.0, 11, 80, 169, 255, 0, 0, 1, 0, 0, 0, 0)
				else
					if blipTelcallDep ~= nil and DoesBlipExist(blipTelcallDep) then
						Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(blipTelcallDep))
						blipTelcallDep = nil
						inmissiondep = 0
						depflag = 0
					end
				end	
		end
	end
end)                                                                                                                                                                                                                                                                                                                                                                                           local depmenu = {
	opened = false,
	title = "Menu DÃ©panneur",
	currentmenu = "main",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.1,
		y = 0.32,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main"] = { 
			title = "CATEGORIES", 
			name = "main",
			buttons = { 
				{name = "Attacher le vÃ©hicule", description = ""},
				{name = "DÃ©tacher le vÃ©hicule", description = ""},
				
				{name = "Facture", description = ""},
				{name = "RÃ©parer vÃ©hicule CIVIL", description = ""},
				{name = "RÃ©parer vÃ©hicule POLICE", description = ""},
				{name = "Laver le vÃ©hicule", description = ""},
				{name = "Flip vÃ©hicule", description = ""},
				{name = "Carte grise", description = ""},
				{name = "Crocheter le vÃ©hicule", description = ""},
				{name = "Annuler l'appel", description = ""},
			}
		},
	}
}

local boughtweapon = false

local function LocalPed()
return GetPlayerPed(-1)
end

--Creator Weapon
function OpenCreatordepmenu()		
	boughtweapon = false
	depmenu.currentmenu = "main"
	depmenu.opened = true
	depmenu.selectedbutton = 0
end
function CloseCreatordepmenu()
	Citizen.CreateThread(function()
		depmenu.opened = false
		depmenu.menu.from = 1
		depmenu.menu.to = 10
		inmenucivil = 0
		inmenuinv = 0
		inmenujob = 0
	end)
end

--Menu pomenu

function drawMenuButton(button,x,y,selected)
	local menu = depmenu.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = depmenu.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = depmenu.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitleDep(txt,x,y)
local menu = depmenu.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,93,166,202,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function Notifydepmenu(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

function ShowNotificationdepmenu(text)
	SetNotificationTextEntry("STRING")
	AddTextComponentString(text)
	DrawNotification(false, false)
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,170) and (clientjobID == 35) then
			-- if IsPedInAnyVehicle(LocalPed(), true) == false then
			if (inmenuinv == 0) and (inmenucivil == 0) then
				if depmenu.opened then
					CloseCreatordepmenu()
					inmenucivil = 0
				    inmenuinv = 0
				    inmenujob = 0
				else
					OpenCreatordepmenu()
					inmenucivil = 0
				    inmenuinv = 0
				    inmenujob = 3 -- DEPANNEUR
				end
			end
		    -- else
		    -- ShowNotificationMenuCivil2("~r~Vous ne pouvez pas ouvrir le menu dans un vÃ©hicule !")
	        -- end
		end
		if depmenu.opened then
			local ped = LocalPed()
			local menu = depmenu.menu[depmenu.currentmenu]
			drawTxt(depmenu.title,1,1,depmenu.menu.x,depmenu.menu.y,1.0, 255,255,255,255)
			drawMenuTitleDep(menu.title, depmenu.menu.x,depmenu.menu.y + 0.08)
			drawTxt(depmenu.selectedbutton.."/"..tablelength(menu.buttons),0,0,depmenu.menu.x + depmenu.menu.width/2 - 0.0385,depmenu.menu.y + 0.067,0.4, 255,255,255,255)
			local y = depmenu.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= depmenu.menu.from and i <= depmenu.menu.to then
					
					if i == depmenu.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,depmenu.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelecteddepmenu(button)
					end
				end
			end	
		end
		if depmenu.opened then
			if IsControlJustPressed(1,202) then
				Backdepmenu()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if depmenu.selectedbutton > 1 then
					depmenu.selectedbutton = depmenu.selectedbutton -1
					if buttoncount > 10 and depmenu.selectedbutton < depmenu.menu.from then
						depmenu.menu.from = depmenu.menu.from -1
						depmenu.menu.to = depmenu.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if depmenu.selectedbutton < buttoncount then
					depmenu.selectedbutton = depmenu.selectedbutton +1
					if buttoncount > 10 and depmenu.selectedbutton > depmenu.menu.to then
						depmenu.menu.to = depmenu.menu.to + 1
						depmenu.menu.from = depmenu.menu.from + 1
					end
				end	
			end
		end
	end
end)
		    
function DrawMissionTextdepmenu(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

local input = 0
currentlyTowedVehicle = nil

function ButtonSelecteddepmenu(button)
	local ped = GetPlayerPed(-1)
	local this = depmenu.currentmenu
	local btn = button.name
	local vehiclose = GetVehiclePedIsTryingToEnter(ped)
	myvehi2 = GetVehiclePedIsUsing(GetPlayerPed(-1))
	posdepmenu = GetEntityCoords(GetPlayerPed(-1))
	carTargetDep = GetClosestVehicle(posdepmenu['x'], posdepmenu['y'], posdepmenu['z'], 10.0,0,70)
	if carTargetDep ~=nil then
			platecarTargetDep = GetVehicleNumberPlateText(carTargetDep)
		end

	if this == "main" then
		if btn == "RÃ©parer vÃ©hicule CIVIL" then
		    Citizen.CreateThread(function()
                    TaskStartScenarioInPlace(GetPlayerPed(-1), "WORLD_HUMAN_VEHICLE_MECHANIC", 0, 1)
					PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
					ShowNotificationdepmenu("RÃ©paration en cours...")
					Citizen.Wait(20000)
					ClearPedTasksImmediately(GetPlayerPed(-1))

		    SetVehicleFixed(carTargetDep)
		    ShowNotificationdepmenu("~h~Vous avez ~g~rÃ©parÃ© ~w~le vÃ©hicule")
			end)
		elseif btn == "Facture" then
		    DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
			input = 1
		
		elseif btn == "Attacher le vÃ©hicule" then
			-- TriggerEvent('Attachedtow')
			local playerped = GetPlayerPed(-1)
			local vehicle = GetVehiclePedIsIn(playerped, true)
			
			local towmodel = GetHashKey('flatbed')
			local isVehicleTow = IsVehicleModel(vehicle, towmodel)
			
			if isVehicleTow then
			
			    -- if currentlyTowedVehicle == nil then
			        if carTargetDep ~= nil then
			        	-- if not IsPedInAnyVehicle(playerped, true) then
					        if vehicle ~= carTargetDep then
					        	AttachEntityToEntity(carTargetDep, vehicle, 20, -0.5, -5.0, 1.0, 0.0, 0.0, 0.0, false, false, false, false, 20, true)
						        currentlyTowedVehicle = carTargetDep
								ShowNotificationdepmenu("~h~~g~VÃ©hicule AttachÃ©")
					        else
							    ShowNotificationdepmenu("~h~~r~Vous ne pouvez pas vous attacher vous mÃªme...")							
				        	end
				        -- end
			        else
						ShowNotificationdepmenu("~h~~r~Aucun vÃ©hicule")	
			        end
			    -- else
			    -- end
			end
   			
		elseif btn == "DÃ©tacher le vÃ©hicule" then
		
			local playerped = GetPlayerPed(-1)
			local vehicle = GetVehiclePedIsIn(playerped, true)
		    AttachEntityToEntity(currentlyTowedVehicle, vehicle, 20, -0.5, -12.0, 1.0, 0.0, 0.0, 0.0, false, false, false, false, 20, true)
			DetachEntity(currentlyTowedVehicle, true, true)
			currentlyTowedVehicle = nil
			ShowNotificationdepmenu("~h~~r~VÃ©hicule dÃ©tachÃ©")
					
		elseif btn == "RÃ©parer vÃ©hicule POLICE" then
		    local carid = GetHashKey("police")
			local carid2 = GetHashKey("police2")
			local carid3 = GetHashKey("police3")
			local carid4 = GetHashKey("fbi")
			local carid5 = GetHashKey("fbi2")
			local carid6 = GetHashKey("sheriff")
			local carid7 = GetHashKey("sheriff2")
			local carid8 = GetHashKey("policet")
			local carid9 = GetHashKey("police4")
			local carid10 = GetHashKey("policeb")
			
			local playerPed = GetPlayerPed(-1)
			local pos = GetEntityCoords(GetPlayerPed(-1))
		    local carclosest = GetClosestVehicle(pos['x'], pos['y'], pos['z'], 10.0,carid,70)
			local carclosest2 = GetClosestVehicle(pos['x'], pos['y'], pos['z'], 10.0,carid2,70)
			local carclosest3 = GetClosestVehicle(pos['x'], pos['y'], pos['z'], 10.0,carid3,70)
			local carclosest4 = GetClosestVehicle(pos['x'], pos['y'], pos['z'], 10.0,carid4,70)
			local carclosest5 = GetClosestVehicle(pos['x'], pos['y'], pos['z'], 10.0,carid5,70)
			local carclosest6 = GetClosestVehicle(pos['x'], pos['y'], pos['z'], 10.0,carid6,70)
			local carclosest7 = GetClosestVehicle(pos['x'], pos['y'], pos['z'], 10.0,carid7,70)
			local carclosest8 = GetClosestVehicle(pos['x'], pos['y'], pos['z'], 10.0,carid8,70)
			local carclosest9 = GetClosestVehicle(pos['x'], pos['y'], pos['z'], 10.0,carid9,70)
			local carclosest10 = GetClosestVehicle(pos['x'], pos['y'], pos['z'], 10.0,carid10,70)
			
		    Citizen.CreateThread(function()
                    TaskStartScenarioInPlace(GetPlayerPed(-1), "WORLD_HUMAN_VEHICLE_MECHANIC", 0, 1)
					PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
					ShowNotificationdepmenu("RÃ©paration en cours...")
					Citizen.Wait(20000)
					ClearPedTasksImmediately(GetPlayerPed(-1))

		    SetVehicleFixed(carclosest)
			SetVehicleDirtLevel(carclosest, 0.0)
			SetVehicleFixed(carclosest2)
			SetVehicleDirtLevel(carclosest2, 0.0)
			SetVehicleFixed(carclosest3)
			SetVehicleDirtLevel(carclosest3, 0.0)
			SetVehicleFixed(carclosest4)
			SetVehicleDirtLevel(carclosest4, 0.0)
			SetVehicleFixed(carclosest5)
			SetVehicleDirtLevel(carclosest5, 0.0)
			SetVehicleFixed(carclosest6)
			SetVehicleDirtLevel(carclosest6, 0.0)
			SetVehicleFixed(carclosest7)
			SetVehicleDirtLevel(carclosest7, 0.0)
			SetVehicleFixed(carclosest8)
			SetVehicleDirtLevel(carclosest8, 0.0)
			SetVehicleFixed(carclosest9)
			SetVehicleDirtLevel(carclosest9, 0.0)
			SetVehicleFixed(carclosest10)
			SetVehicleDirtLevel(carclosest10, 0.0)
		    ShowNotificationdepmenu("~h~Vous avez ~g~rÃ©parÃ© et lavÃ©~w~ le vÃ©hicule de police")
			end)
		elseif btn == "Laver le vÃ©hicule" then
		    Citizen.CreateThread(function()
                    TaskStartScenarioInPlace(GetPlayerPed(-1), "WORLD_HUMAN_BUM_WASH", 0, 1)
					PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
					ShowNotificationdepmenu("Lavage en cours...")
					Citizen.Wait(20000)
					ClearPedTasksImmediately(GetPlayerPed(-1))
					
			SetVehicleDirtLevel(carTargetDep, 0.0)			
            --Commande Lavage			
		    ShowNotificationdepmenu("~h~Vous avez ~g~LavÃ© ~w~le vÃ©hicule")
			end)
		elseif btn == "Flip vÃ©hicule" then
		    			
            local playerCoords = GetEntityCoords(GetPlayerPed(-1))
            playerCoords = playerCoords + vector3(0, 2, 0)
			
			SetEntityCoords(carTargetDep, playerCoords)
			
		    ShowNotificationdepmenu("~h~Vous avez ~g~Flip ~w~le vÃ©hicule")
		
		elseif btn == "Carte grise" then
		    Citizen.CreateThread(function()
                    TaskStartScenarioInPlace(GetPlayerPed(-1), "CODE_HUMAN_MEDIC_TIME_OF_DEATH", 0, 1)
					PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
					Citizen.Wait(5000)
					ClearPedTasksImmediately(GetPlayerPed(-1))
			
		    
		    TriggerServerEvent('CheckProprio2', platecarTargetDep)
		    end)
			
		elseif btn == "Crocheter le vÃ©hicule" then
		    Citizen.CreateThread(function()
                    TaskStartScenarioInPlace(GetPlayerPed(-1), "WORLD_HUMAN_WELDING", 0, 1)
					PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
					ShowNotificationdepmenu('Crochetage en cours...')
					Citizen.Wait(10000)
					ClearPedTasksImmediately(GetPlayerPed(-1))

		     local pos = GetEntityCoords(GetPlayerPed(-1))
			 local car = GetClosestVehicle(pos['x'], pos['y'], pos['z'], 10.0,0,70)

			 SetVehicleDoorsLocked(car, 1)
			 ShowNotificationdepmenu('La voiture est dÃ©sormais ~g~Ouverte')
			 end)
		
		elseif btn == "Annuler l'appel" then		
			StopInterDEP()
			
		end
    elseif this == "citoyen5" then
		
	elseif this == "citoyen1" or this == "citoyen2" or this == "citoyen3" or this == "vehicle1" or this == "vehicle2" then
		TriggerServerEvent('Checkdepmenu',button.amid)
	
	end
end

---FACTURE DEPANNEUR


Citizen.CreateThread(function()
	while true do
		Wait(0)
		if input == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				input = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				nbtarifdep = GetOnscreenKeyboardResult()
					if string.len(nbtarifdep) > 0 then
						ResultTarifDep = nbtarifdep
						input = 2						
					else
						input = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				input = 0
			end
		end
		if input == 2 then
		TriggerServerEvent('CheckTarifDep', totarget, tonumber(ResultTarifDep))
		input = 0
		end
	end
end)

tarifDeprecu = 0

RegisterNetEvent('PaidDepTarget')
AddEventHandler('PaidDepTarget', function(name, cost)
	ShowNotificationtaximenu("~h~DÃ©panneur : ~b~"..name.."~w~.")
	ShowNotificationtaximenu("~h~Tarif de la rÃ©paration : ~b~"..cost.."~w~ $.")
	ShowNotificationtaximenu("~h~Pour payer ~g~Y~w~, pour refuser ~r~N~w~.")
	tarifDepcost = cost
	tarifDepname = name
	tarifDeprecu = 1
end)

RegisterNetEvent('PaidDepSource')
AddEventHandler('PaidDepSource', function(name, cost)
	ShowNotificationtaximenu("~h~Tarif de la rÃ©paration : ~b~"..cost.."~w~ $.")
	ShowNotificationtaximenu("En attente de paiement du client...")
end)

Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
	    if IsControlJustPressed(1,246) and (tarifDeprecu == 1) then
			
			TriggerServerEvent('PaidDep', tarifDepname, tarifDepcost)
			tarifDeprecu = 0
	    end
		if IsControlJustPressed(1,249) and (tarifDeprecu == 1) then
			
			TriggerServerEvent('RefusePaidDep', tarifDepname, tarifDepcost)
			tarifDeprecu = 0
	    end
	end
end)

RegisterNetEvent('FinishDepPaidTarget')
AddEventHandler('FinishDepPaidTarget', function()
	ShowNotificationtaximenu("~h~Vous avez ~g~payÃ©~w~ la rÃ©paration.")
end)

RegisterNetEvent('FinishDepPaidSource')
AddEventHandler('FinishDepPaidSource', function(name)
	ShowNotificationtaximenu("~h~~b~"..name.."~w~ a ~g~payÃ©~w~ la rÃ©paration.")
end)

RegisterNetEvent('FinishDepPaidTarget2')
AddEventHandler('FinishDepPaidTarget2', function()
	ShowNotificationtaximenu("~h~Vous avez ~r~refusÃ©~w~ de payer la rÃ©paration.")
end)

RegisterNetEvent('FinishDepPaidSource2')
AddEventHandler('FinishDepPaidSource2', function(name)
	ShowNotificationtaximenu("~h~~b~"..name.."~w~ a ~r~refusÃ©~w~ de payer la rÃ©paration.")
end)

--------------------

RegisterNetEvent('CheckProprioPlate2')
AddEventHandler('CheckProprioPlate2', function(proprio)
    ShowNotificationPolMenu("~h~~b~Plaque d'immatriculation : ~w~")
	ShowNotificationPolMenu(platecarTargetDep)
	ShowNotificationPolMenu("~h~~b~PropriÃ©taire : ~w~")
	ShowNotificationPolMenu(proprio)
end)

RegisterNetEvent('Finishdepmenu')
AddEventHandler('Finishdepmenu', function()
	boughtweapon = true
	CloseCreatordepmenu()
	depmenu.opened = false
	depmenu.menu.from = 1
	depmenu.menu.to = 10
	inmenucivil = 0
	inmenuinv = 0
	inmenujob = 0
end)

function OpenMenudepmenu(menu)
	depmenu.lastmenu = depmenu.currentmenu
	if menu == "maininteraction" then
		depmenu.lastmenu = "main"
	elseif menu == "mainvehicle"  then
		depmenu.lastmenu = "main"
	elseif menu == 'race_create_objects' then
		depmenu.lastmenu = "main"
	elseif menu == "race_create_objects_spawn" then
		depmenu.lastmenu = "race_create_objects"
	end
	depmenu.menu.from = 1
	depmenu.menu.to = 10
	depmenu.selectedbutton = 0
	depmenu.currentmenu = menu	
end

function Backdepmenu()
	if backlock then
		return
	end
	backlock = true
	if depmenu.currentmenu == "main" then
		CloseCreatordepmenu()
		inmenucivil = 0
		inmenuinv = 0
		inmenujob = 0
	elseif depmenu.currentmenu == "citoyen1" or depmenu.currentmenu == "citoyen2" or depmenu.currentmenu == "citoyen3" or depmenu.currentmenu == "citoyen4" or depmenu.currentmenu == "citoyen5" or depmenu.currentmenu == "vehicle1" or depmenu.currentmenu == "vehicle2" then
		OpenMenudepmenu(depmenu.lastmenu)
	else
		OpenMenudepmenu(depmenu.lastmenu)
	end
end

function stringstartsdepmenu(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        local Eboueur = {
	opened = false,
	title = "Eboueur",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}

local Eboueur_locations = {
{enteringEboueur = {-322.247,-1545.958,30.01993}, innutile = {-322.247,-1545.958,30.01993}, outsideEboueur = {-326.9868,-1521.877,27.53701}},
}

local Eboueur_blips ={}
local inrangeofEboueur = false
local inrangeofEboueur3 = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxtEboueur(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfEboueur()
return inrangeofEboueur
end

function IsPlayerInRangeOfEboueur3()
return inrangeofEboueur3
end

function ShowEboueurBlips(bool)
	if bool and #Eboueur_blips == 0 then
		for station,pos in pairs(Eboueur_locations) do
			local loc = pos
			pos = pos.outsideEboueur
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,318)
			SetBlipColour(blip, 62)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('DÃ©charge')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Eboueur_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #Eboueur_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				local inrange3 = false
				for i,b in ipairs(Eboueur_blips) do
					if (clientjobID == 31) and IsPedInAnyVehicle(LocalPed(), true) == false and  GetDistanceBetweenCoords(b.pos.enteringEboueur[1],b.pos.enteringEboueur[2],b.pos.enteringEboueur[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.enteringEboueur[1],b.pos.enteringEboueur[2],b.pos.enteringEboueur[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.enteringEboueur[1],b.pos.enteringEboueur[2],b.pos.enteringEboueur[3],GetEntityCoords(LocalPed()),true) < 3 then
							inrange = true
							ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour vous ~b~Ã©quiper~w~.", 0)
						end
					end
					if (clientjobID == 31) and IsPedInAnyVehicle(LocalPed(), true) == false and  GetDistanceBetweenCoords(b.pos.enteringEboueur[1],b.pos.enteringEboueur[2],b.pos.enteringEboueur[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,-315.74,-1531.069,27.09734,0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(-315.74,-1531.069,27.09734,GetEntityCoords(LocalPed()),true) < 3 then
							inrange3 = true
							ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour sortir un ~b~Camion~w~.", 0)
						end
					end
				end
				inrangeofEboueur = inrange
				inrangeofEboueur3 = inrange3
			end
		end)
	elseif bool == false and #Eboueur_blips > 0 then
		for i,b in ipairs(Eboueur_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		Eboueur_blips = {}
	end
end

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofEboueur then
            
            SetPedComponentVariation(GetPlayerPed(-1), 11, 56, 0, 0)
			SetPedComponentVariation(GetPlayerPed(-1), 8, 59, 0, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 3, 99, 0, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 4, 36, 0, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 6, 12, 6, 0)
			
			inrangeofEboueur = false
			inrange = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofEboueur3 then
            TriggerServerEvent('CheckEboueurVehi')	

			TriggerServerEvent('SetPlateJob')			
			inrangeofEboueur3 = false
			inrange3 = false
        end
    end
end)

onJob2 = 0

bin = {flag = {}, blip = {}, veh = {}, coords = {cx={}, cy={}, cz={}}}

function StartJob2(jobid)
	if jobid == 1 then -- Eboueur
		showLoadingPromtEboueur("Chargement du mÃ©tier.", 2000, 3)
		bin.coords.cx[1],bin.coords.cy[1],bin.coords.cz[1] = -337.6367,-2786.992,4.000239
		bin.coords.cx[2],bin.coords.cy[2],bin.coords.cz[2] = 1050.857,-2391.396,29.28452
		bin.coords.cx[3],bin.coords.cy[3],bin.coords.cz[3] = 1005.835,-2067.349,30.13629
		bin.coords.cx[4],bin.coords.cy[4],bin.coords.cz[4] = 957.2108,-1912.296,30.14571
		bin.coords.cx[5],bin.coords.cy[5],bin.coords.cz[5] = 770.9854,-1902.144,28.26986
		bin.coords.cx[6],bin.coords.cy[6],bin.coords.cz[6] = 969.3815,-945.3486,41.29815
		bin.coords.cx[7],bin.coords.cy[7],bin.coords.cz[7] = 776.6561,-1054.236,26.05088
		bin.coords.cx[8],bin.coords.cy[8],bin.coords.cz[8] = 787.1,-1323.691,25.06788
		bin.coords.cx[9],bin.coords.cy[9],bin.coords.cz[9] = 1089.071,-449.5304,64.72475
		bin.coords.cx[10],bin.coords.cy[10],bin.coords.cz[10] = 617.2553,70.19471,89.7544
		bin.coords.cx[11],bin.coords.cy[11],bin.coords.cz[11] = 560.3558,171.2989,99.2312
		bin.coords.cx[12],bin.coords.cy[12],bin.coords.cz[12] = 384.0609,238.476,102.0361
		bin.coords.cx[13],bin.coords.cy[13],bin.coords.cz[13] = 10.20545,4.926725,69.6499
		bin.coords.cx[14],bin.coords.cy[14],bin.coords.cz[14] = 197.3791,-1092.112,28.2783
		bin.coords.cx[15],bin.coords.cy[15],bin.coords.cz[15] = 199.9383,-1296.267,28.32153
		bin.coords.cx[16],bin.coords.cy[16],bin.coords.cz[16] = 272.633,-1499.289,28.2916
		bin.coords.cx[17],bin.coords.cy[17],bin.coords.cz[17] = 263.7913,-1677.058,28.30527
		bin.coords.cx[18],bin.coords.cy[18],bin.coords.cz[18] = 224.064,-1836.624,25.95535
		bin.coords.cx[19],bin.coords.cy[19],bin.coords.cz[19] = 161.0778,-1876.63,22.9732
		bin.coords.cx[20],bin.coords.cy[20],bin.coords.cz[20] = 41.75639,-1879.637,21.21154
		bin.coords.cx[21],bin.coords.cy[21],bin.coords.cz[21] = -28.13282,-1640.856,28.29198
		bin.coords.cx[22],bin.coords.cy[22],bin.coords.cz[22] = -171.739,-1459.672,30.68687
		bin.coords.cx[23],bin.coords.cy[23],bin.coords.cz[23] = -717.054,-1171.374,9.46338
		bin.coords.cx[24],bin.coords.cy[24],bin.coords.cz[24] = -1075.155,-1273.394,4.829365
		bin.coords.cx[25],bin.coords.cy[25],bin.coords.cz[25] = -1076.804,-1498.936,4.104791
		bin.coords.cx[26],bin.coords.cy[26],bin.coords.cz[26] = -1054.713,-1610.139,3.399037
		bin.coords.cx[27],bin.coords.cy[27],bin.coords.cz[27] = -1264.468,-1374.695,3.17067
		bin.coords.cx[28],bin.coords.cy[28],bin.coords.cz[28] = -1277.544,-1210.355,3.724486
		bin.coords.cx[29],bin.coords.cy[29],bin.coords.cz[29] = -1071.163,-1029.759,1.091357
		bin.coords.cx[30],bin.coords.cy[30],bin.coords.cz[30] = -1018.297,-1119.402,1.120266
		bin.coords.cx[31],bin.coords.cy[31],bin.coords.cz[31] = -1622.477,-1081.264,12.01845
		bin.coords.cx[32],bin.coords.cy[32],bin.coords.cz[32] = -1801.939,-410.1487,43.5813
		bin.coords.cx[33],bin.coords.cy[33],bin.coords.cz[33] = -1753.204,-377.5302,44.74607
		bin.coords.cx[34],bin.coords.cy[34],bin.coords.cz[34] = -964.1352,-185.0301,36.80095
		bin.coords.cx[35],bin.coords.cy[35],bin.coords.cz[35] = -1481.334,59.09226,52.53588
		bin.coords.cx[36],bin.coords.cy[36],bin.coords.cz[36] = -1629.261,77.69003,60.94693
		bin.coords.cx[37],bin.coords.cy[37],bin.coords.cz[37] = -1892.951,185.2168,81.59013
		bin.coords.cx[38],bin.coords.cy[38],bin.coords.cz[38] = -1466.232,518.6081,116.9691
		bin.coords.cx[39],bin.coords.cy[39],bin.coords.cz[39] = -1298.72,627.9941,136.7925
		bin.coords.cx[40],bin.coords.cy[40],bin.coords.cz[40] = -1256.728,653.576,139.9319
		bin.coords.cx[41],bin.coords.cy[41],bin.coords.cz[41] = -1177.898,722.7534,150.6435
		bin.coords.cx[42],bin.coords.cy[42],bin.coords.cz[42] = -1111.839,775.9818,161.6958
		bin.coords.cx[43],bin.coords.cy[43],bin.coords.cz[43] = -979.8621,694.6163,155.8505
		bin.coords.cx[44],bin.coords.cy[44],bin.coords.cz[44] = -680.5673,605.562,142.9354
		bin.coords.cx[45],bin.coords.cy[45],bin.coords.cz[45] = -619.3099,682.4254,148.8345
		bin.coords.cx[46],bin.coords.cy[46],bin.coords.cz[46] = -509.0829,575.6403,118.847
		bin.coords.cx[47],bin.coords.cy[47],bin.coords.cz[47] = -345.6455,429.374,109.4156
		bin.coords.cx[48],bin.coords.cy[48],bin.coords.cz[48] = -194.7099,419.3295,108.9558
		bin.coords.cx[49],bin.coords.cy[49],bin.coords.cz[49] = -215.4222,276.3777,91.04716
		bin.coords.cx[50],bin.coords.cy[50],bin.coords.cz[50] = -468.5767,272.7403,82.26152
		bin.coords.cx[51],bin.coords.cy[51],bin.coords.cz[51] = -343.4309,103.5678,65.67259
		bin.coords.cx[52],bin.coords.cy[52],bin.coords.cz[52] = -287.9857,-95.30598,46.21479
		bin.coords.cx[53],bin.coords.cy[53],bin.coords.cz[53] = -359.5632,-145.9291,37.24692
		bin.coords.cx[54],bin.coords.cy[54],bin.coords.cz[54] = -147.5077,-747.1575,32.89324
		bin.coords.cx[55],bin.coords.cy[55],bin.coords.cz[55] = -246.4445,-1128.171,22.06822
		bin.coords.cx[56],bin.coords.cy[56],bin.coords.cz[56] = -294.119,-1357.757,30.31021
		bin.coords.cx[57],bin.coords.cy[57],bin.coords.cz[57] = -894.062,-2750.131,12.94431
		bin.coords.cx[58],bin.coords.cy[58],bin.coords.cz[58] = -1052.065,-2086.243,12.34221
		bin.coords.cx[59],bin.coords.cy[59],bin.coords.cz[59] = -1148.458,-1987.686,12.16035
		bin.coords.cx[60],bin.coords.cy[60],bin.coords.cz[60] = -589.994,-1737.421,21.75804
		bin.coords.cx[61],bin.coords.cy[61],bin.coords.cz[61] = -240.9282,-1473.415,30.4771
		bin.coords.cx[62],bin.coords.cy[62],bin.coords.cz[62] = -171.5853,-1461.888,30.79383
		bin.veh[1] = GetVehiclePedIsUsing(GetPlayerPed(-1))
		bin.flag[1] = 1
		bin.flag[2] = 1
		Wait(2000)
		DrawMissionTextEboueur("~h~Conduisez et cherchez des ~y~poubelles~w~.", 10000)
		onJob2 = 1
	end
end

function DrawMissionTextEboueur(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

function showLoadingPromtEboueur(showText, showTime, showType)
	Citizen.CreateThread(function()
		Citizen.Wait(0)
		N_0xaba17d7ce615adbf("STRING") -- set type
		AddTextComponentString(showText) -- sets the text
		N_0xbd12f8228410d9b4(showType) -- show promt (types = 3)
		Citizen.Wait(showTime) -- show time
		N_0x10d373323e5b9c0d() -- remove promt
	end)
end


function StopJob2(jobid)
	if jobid == 1 then
		if bin.blip[1] ~= nil and DoesBlipExist(bin.blip[1]) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(bin.blip[1]))
			bin.blip[1] = nil
		end
		onJob2 = 0
		inveh = 0
		bin.veh[1] = nil
		bin.flag[1] = nil
		bin.flag[2] = nil
	end
end

haveben = false

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if onJob2 == 0 then
			if (clientjobID == 31) then -- JOB EBOUEUR
				if IsPedSittingInAnyVehicle(GetPlayerPed(-1)) then
					if IsVehicleModel(GetVehiclePedIsUsing(GetPlayerPed(-1)), GetHashKey("trash", _r)) then
						StartJob2(1)
					end
				end
			end
		elseif onJob2 == 1 then
			if DoesEntityExist(bin.veh[1]) and IsVehicleDriveable(bin.veh[1], 0) then

					if bin.flag[1] == 1 then
						bin.blip[1] = AddBlipForCoord(bin.coords.cx[bin.flag[2]],bin.coords.cy[bin.flag[2]],bin.coords.cz[bin.flag[2]])
						N_0x80ead8e2e1d5d52e(bin.blip[1])
						SetBlipRoute(bin.blip[1], 1)
						bin.flag[1] = 2						
					end
					if bin.flag[1] == 2 then
						if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), bin.coords.cx[bin.flag[2]],bin.coords.cy[bin.flag[2]],bin.coords.cz[bin.flag[2]], true) > 4.0001 then
									DrawMarker(1, bin.coords.cx[bin.flag[2]],bin.coords.cy[bin.flag[2]],bin.coords.cz[bin.flag[2]]-1.0001, 0, 0, 0, 0, 0, 0, 4.0, 4.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
						else
							if bin.blip[1] ~= nil and DoesBlipExist(bin.blip[1]) then
										Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(bin.blip[1]))
										bin.blip[1] = nil
							end
						if IsPedInAnyVehicle(LocalPed(), true) == false then
						ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour rÃ©cupÃ©rÃ© la ~b~Poubelle~w~.", 0)
							if IsControlJustPressed(1,38) then
								TaskStartScenarioInPlace(GetPlayerPed(-1), "PROP_HUMAN_BUM_BIN", 0, 1)
								PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
								Citizen.Wait(5000)
								ClearPedTasksImmediately(GetPlayerPed(-1))
								
								DrawMissionTextEboueur("~h~Emmenez la poubelle au ~b~camion~w~!", 5000)
								haveben = true
								Wait(1000)
								bin.flag[2] = bin.flag[2] + 1
							end
						end
						end
					end

					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(bin.veh[1]), true) > 30.0001 then
						StopJob2(1)
						DrawMissionTextEboueur("~h~Fin du ramassage, vous Ãªtes partie ~r~trop loin~h~ du camion !", 5000)
						
					elseif (haveben == true) and GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(bin.veh[1]), true) < 7.0001 then
					    
						ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour jeter la ~b~Poubelle~w~ dans la benne.", 0)
						if IsControlJustPressed(1,38) then								
					     	TriggerServerEvent('CheckPoubelle')
							DrawMissionTextEboueur("~h~Vous avez rÃ©cupÃ©rÃ© une ~b~poubelle~w~!", 5000)
							bin.flag[1] = 1
							haveben = false
						end
					end
					
					if bin.flag[2] == 62 then
					
					StopJob2(1)
					DrawMissionTextEboueur("Fin de votre tournÃ©e !", 5000)
					
					end

			else
				StopJob2(1)
				DrawMissionTextEboueur("Votre Camion est ~h~~r~hors-service~w~.", 5000)
			end
		end
	end
end)



local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowEboueurBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                    local Electricien = {
	opened = false,
	title = "Electricien",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}

local Electricien_locations = {
{enteringElectricien = {721.9683,-2016.486,28.43125}, innutile2 = {721.9683,-2016.486,28.43125}, outsideElectricien = {736.5181,-2015.46,29.28777}},
}

local Electricien_blips ={}
local inrangeofElectricien = false
local inrangeofElectricien3 = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxtElectricien(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfElectricien()
return inrangeofElectricien
end

function IsPlayerInRangeOfElectricien3()
return inrangeofElectricien3
end

function ShowElectricienBlips(bool)
	if bool and #Electricien_blips == 0 then
		for station,pos in pairs(Electricien_locations) do
			local loc = pos
			pos = pos.outsideElectricien
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,354)
			SetBlipColour(blip, 5)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Centrale Ã©lectrique')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Electricien_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #Electricien_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				local inrange3 = false
				for i,b in ipairs(Electricien_blips) do
					if (clientjobID == 32) and GetDistanceBetweenCoords(b.pos.enteringElectricien[1],b.pos.enteringElectricien[2],b.pos.enteringElectricien[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.enteringElectricien[1],b.pos.enteringElectricien[2],b.pos.enteringElectricien[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.enteringElectricien[1],b.pos.enteringElectricien[2],b.pos.enteringElectricien[3],GetEntityCoords(LocalPed()),true) < 3 then
							ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour vous ~b~Ã©quiper~w~.", 0)
						    inrange = true
						end
					end
					if (clientjobID == 32) and IsPedInAnyVehicle(LocalPed(), true) == false and GetDistanceBetweenCoords(b.pos.enteringElectricien[1],b.pos.enteringElectricien[2],b.pos.enteringElectricien[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,729.0442,-2033.359,28.77972,0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(729.0442,-2033.359,28.77972,GetEntityCoords(LocalPed()),true) < 3 then
							ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour sortir le ~b~VÃ©hicule~w~.", 0)
						    inrange3 = true
						end
					end
				end
				inrangeofElectricien = inrange
				inrangeofElectricien3 = inrange3
			end
		end)
	elseif bool == false and #Electricien_blips > 0 then
		for i,b in ipairs(Electricien_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		Electricien_blips = {}
	end
end

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofElectricien then
            
			SetPedComponentVariation(GetPlayerPed(-1), 11, 65, 1, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 4, 38, 1, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 5, 40, 0, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 6, 12, 6, 0)
			
			inrangeofElectricien = false
			inrange = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofElectricien3 then
            TriggerServerEvent('CheckElectricienVehi')
			TriggerServerEvent('SetPlateJob')
			inrangeofElectricien3 = false
			inrange3 = false
        end
    end
end)

onJob3 = 0

elec = {flag = {}, blip = {}, veh = {}, coords = {cx={}, cy={}, cz={}}}

function StartJob3(jobid)
	if jobid == 1 then -- Electricien
		showLoadingPromtElectricien("Chargement du mÃ©tier.", 2000, 3)
		elec.coords.cx[1],elec.coords.cy[1],elec.coords.cz[1] = -988.2432,-2638.933,12.98094
		elec.coords.cx[2],elec.coords.cy[2],elec.coords.cz[2] = -916.0739,-2551.839,13.54924
		elec.coords.cx[3],elec.coords.cy[3],elec.coords.cz[3] = -1253.295,-2653.595,12.98458
		elec.coords.cx[4],elec.coords.cy[4],elec.coords.cz[4] = -1295.023,-3347.991,12.94016
		elec.coords.cx[5],elec.coords.cy[5],elec.coords.cz[5] = -655.7383,-2364.513,12.94452
		elec.coords.cx[6],elec.coords.cy[6],elec.coords.cz[6] = -1104.94,-2036.454,12.28216
		elec.coords.cx[7],elec.coords.cy[7],elec.coords.cz[7] = -916.1941,-1788.924,18.79308
		elec.coords.cx[8],elec.coords.cy[8],elec.coords.cz[8] = -775.1548,-1443.166,4.000525
		elec.coords.cx[9],elec.coords.cy[9],elec.coords.cz[9] = -717.0099,-1147.815,9.81265
		elec.coords.cx[10],elec.coords.cy[10],elec.coords.cz[10] = -993.1577,-1247.813,5.059824
		elec.coords.cx[11],elec.coords.cy[11],elec.coords.cz[11] = -1202.826,-1792.087,2.908467
		elec.coords.cx[12],elec.coords.cy[12],elec.coords.cz[12] = -1292.194,-1123.512,5.410449
		elec.coords.cx[13],elec.coords.cy[13],elec.coords.cz[13] = -1810.037,-1203.421,12.01751
		elec.coords.cx[14],elec.coords.cy[14],elec.coords.cz[14] = -1021.498,-1122.272,1.158599
		elec.coords.cx[15],elec.coords.cy[15],elec.coords.cz[15] = -1423.536,-573.03,29.50386
		elec.coords.cx[16],elec.coords.cy[16],elec.coords.cz[16] = -1927.026,522.7007,109.4924
		elec.coords.cx[17],elec.coords.cy[17],elec.coords.cz[17] = -1028.875,795.1998,168.1757
		elec.coords.cx[18],elec.coords.cy[18],elec.coords.cz[18] = -143.2132,-271.4967,40.89712
		elec.coords.cx[19],elec.coords.cy[19],elec.coords.cz[19] = -445.4005,-1181.384,52.37332
		elec.coords.cx[20],elec.coords.cy[20],elec.coords.cz[20] = -495.2769,-976.5776,22.54942
		elec.coords.cx[21],elec.coords.cy[21],elec.coords.cz[21] = -500.5674,-1021.725,39.81404
		elec.coords.cx[22],elec.coords.cy[22],elec.coords.cz[22] = -19.20454,-1150.214,26.23718
		elec.coords.cx[23],elec.coords.cy[23],elec.coords.cz[23] = 367.2198,-756.8261,28.27366
		elec.coords.cx[24],elec.coords.cy[24],elec.coords.cz[24] = 462.7208,-574.5928,27.49982
		elec.coords.cx[25],elec.coords.cy[25],elec.coords.cz[25] = 821.7435,-3026.286,4.947115
		elec.coords.cx[26],elec.coords.cy[26],elec.coords.cz[26] = 1089.037,-3342.026,5.186143
		elec.coords.cx[27],elec.coords.cy[27],elec.coords.cz[27] = 1287.215,-3208.419,4.904411
		elec.coords.cx[28],elec.coords.cy[28],elec.coords.cz[28] = 1095.12,-3076.232,4.892414
		elec.coords.cx[29],elec.coords.cy[29],elec.coords.cz[29] = 704.1706,-2194.967,28.17798
		elec.coords.cx[30],elec.coords.cy[30],elec.coords.cz[30] = 117.7845,-3115.384,5.018191
		elec.coords.cx[31],elec.coords.cy[31],elec.coords.cz[31] = -486.9374,-2801.837,5.000384
		elec.coords.cx[32],elec.coords.cy[32],elec.coords.cz[32] = 224.905,-2507.81,5.388529
		elec.coords.cx[33],elec.coords.cy[33],elec.coords.cz[33] = -70.00132,-707.9708,33.07381
		elec.coords.cx[34],elec.coords.cy[34],elec.coords.cz[34] = 2137.942,1949.627,92.78683
		elec.coords.cx[35],elec.coords.cy[35],elec.coords.cz[35] = 2107.315,2337.972,93.28516
		elec.coords.cx[36],elec.coords.cy[36],elec.coords.cz[36] = 2812.601,1509.674,23.72876
		elec.coords.cx[37],elec.coords.cy[37],elec.coords.cz[37] = 2861.203,1558.901,23.57154
		elec.coords.cx[38],elec.coords.cy[38],elec.coords.cz[38] = 2473.269,1458.264,35.20338
		elec.coords.cx[39],elec.coords.cy[39],elec.coords.cz[39] = 723.4008,1273.218,359.2961
		elec.coords.cx[40],elec.coords.cy[40],elec.coords.cz[40] = 1917.305,585.7374,175.3675
		elec.coords.cx[41],elec.coords.cy[41],elec.coords.cz[41] = 700.3723,573.6829,129.4613
		elec.coords.cx[42],elec.coords.cy[42],elec.coords.cz[42] = 1111.445,255.4939,80.02789
		elec.coords.cx[43],elec.coords.cy[43],elec.coords.cz[43] = 903.0446,-167.3761,73.08152
		elec.coords.cx[44],elec.coords.cy[44],elec.coords.cz[44] = 1252.908,-349.5102,68.08421
		elec.coords.cx[45],elec.coords.cy[45],elec.coords.cz[45] = 1254.271,-530.137,68.01262
		elec.coords.cx[46],elec.coords.cy[46],elec.coords.cz[46] = 1373.07,-568.7421,73.32986
		elec.coords.cx[47],elec.coords.cy[47],elec.coords.cz[47] = 846.0955,-1043.293,26.96051
		elec.coords.cx[48],elec.coords.cy[48],elec.coords.cz[48] = 807.9136,-1133.39,27.91213
		elec.coords.cx[49],elec.coords.cy[49],elec.coords.cz[49] = 704.5625,-994.7255,22.74914
		elec.coords.cx[50],elec.coords.cy[50],elec.coords.cz[50] = 703.9025,-1539.422,8.708629
		elec.coords.cx[51],elec.coords.cy[51],elec.coords.cz[51] = 881.3282,-1927.103,29.65808
		elec.coords.cx[52],elec.coords.cy[52],elec.coords.cz[52] = 915.5521,-2142.105,29.49621
		elec.coords.cx[53],elec.coords.cy[53],elec.coords.cz[53] = 967.8928,-2374.969,29.50955
		elec.coords.cx[54],elec.coords.cy[54],elec.coords.cz[54] = 387.5738,-1441.552,28.43811
		elec.coords.cx[55],elec.coords.cy[55],elec.coords.cz[55] = 193.8358,-1475.504,28.30937
		elec.coords.cx[56],elec.coords.cy[56],elec.coords.cz[56] = -120.106,-1306.217,28.32144
		elec.coords.cx[57],elec.coords.cy[57],elec.coords.cz[57] = -253.7414,-1358.149,30.29964
		elec.coords.cx[58],elec.coords.cy[58],elec.coords.cz[58] = -300.681,-931.9831,30.08059
		elec.coords.cx[59],elec.coords.cy[59],elec.coords.cz[59] = -122.6776,-640.0307,35.11435
		elec.coords.cx[60],elec.coords.cy[60],elec.coords.cz[60] = 93.17477,-604.1211,30.61574
		elec.coords.cx[61],elec.coords.cy[61],elec.coords.cz[61] = 144.0824,-688.9863,32.12813
		elec.coords.cx[62],elec.coords.cy[62],elec.coords.cz[62] = 210.7886,-169.1684,55.3194
		elec.veh[1] = GetVehiclePedIsUsing(GetPlayerPed(-1))
		elec.flag[1] = 1
		elec.flag[2] = 59+GetRandomIntInRange(1, 61)
		Wait(2000)
		DrawMissionTextElectricien("Conduisez et allez rÃ©parer des ~h~~y~disjoncteurs~w~.", 10000)
		onJob3 = 1
	end
end

function DrawMissionTextElectricien(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

function showLoadingPromtElectricien(showText, showTime, showType)
	Citizen.CreateThread(function()
		Citizen.Wait(0)
		N_0xaba17d7ce615adbf("STRING") -- set type
		AddTextComponentString(showText) -- sets the text
		N_0xbd12f8228410d9b4(showType) -- show promt (types = 3)
		Citizen.Wait(showTime) -- show time
		N_0x10d373323e5b9c0d() -- remove promt
	end)
end


function StopJob3(jobid)
	if jobid == 1 then
		if elec.blip[1] ~= nil and DoesBlipExist(elec.blip[1]) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(elec.blip[1]))
			elec.blip[1] = nil
		end
		onJob3 = 0
		elec.veh[1] = nil
		elec.flag[1] = nil
		elec.flag[2] = nil
	end
end

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if onJob3 == 0 then
			if (clientjobID == 32) then -- JOB Electricien
				if IsPedSittingInAnyVehicle(GetPlayerPed(-1)) then
					if IsVehicleModel(GetVehiclePedIsUsing(GetPlayerPed(-1)), GetHashKey("utillitruck", _r)) then
						StartJob3(1)
					end
				end
			end
		elseif onJob3 == 1 then
			if DoesEntityExist(elec.veh[1]) and IsVehicleDriveable(elec.veh[1], 0) then

					if elec.flag[1] == 1 then
						elec.flag[2] = GetRandomIntInRange(1, 62)
						elec.blip[1] = AddBlipForCoord(elec.coords.cx[elec.flag[2]],elec.coords.cy[elec.flag[2]],elec.coords.cz[elec.flag[2]])
						N_0x80ead8e2e1d5d52e(elec.blip[1])
						SetBlipRoute(elec.blip[1], 1)
						elec.flag[1] = 2						
					end
					if elec.flag[1] == 2 then
						if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), elec.coords.cx[elec.flag[2]],elec.coords.cy[elec.flag[2]],elec.coords.cz[elec.flag[2]], true) > 2.0001 then
									DrawMarker(1, elec.coords.cx[elec.flag[2]],elec.coords.cy[elec.flag[2]],elec.coords.cz[elec.flag[2]]-1.0001, 0, 0, 0, 0, 0, 0, 2.0, 2.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
						else
							if elec.blip[1] ~= nil and DoesBlipExist(elec.blip[1]) then
										Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(elec.blip[1]))
										elec.blip[1] = nil
							end
							if IsPedInAnyVehicle(LocalPed(), true) == false then
							ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour ~b~RÃ©parer~w~.", 0)
							if IsControlJustPressed(1,38) then
							
							    TaskStartScenarioInPlace(GetPlayerPed(-1), "WORLD_HUMAN_HAMMERING", 0, 1)
								PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
								DrawMissionTextElectricien("~h~~b~RÃ©paration~w~ en cours....", 10000)
								Citizen.Wait(10000)
								ClearPedTasksImmediately(GetPlayerPed(-1))
															
								DrawMissionTextElectricien("~h~Vous avez ~g~rÃ©parÃ©~w~ un disjoncteur !", 5000)
								TriggerServerEvent('CheckDisjoncteur')
								Wait(2000)
								elec.flag[1] = 1
								elec.flag[2] = 59+GetRandomIntInRange(1, 61)
							end
							end
						end
					end

					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(elec.veh[1]), true) > 50.0001 then
						StopJob3(1)
					else
						
					end

			else
				StopJob3(1)
				DrawMissionTextElectricien("Votre Camion est ~h~~r~hors-service~w~.", 5000)
			end
		end
	end
end)



local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowElectricienBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          RegisterNetEvent("setWantedHeist")
AddEventHandler("setWantedHeist", function(level)
	SetPlayerWantedLevel(PlayerId(), level, false)
	SetPlayerWantedLevelNow(PlayerId(), false)
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           local Journaliste = {
	opened = false,
	title = "Journaliste",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}
local Journaliste_locations = {
{Vestiaire = {-1054.612,-232.5939,43.02104}, armurerie = {-1086.237,-255.3694,37.76331}, outside = {-1086.237,-255.3694,37.76331}},
}

local Journaliste_blips ={}
local inrangeofJournaliste = false
local inrangeofJournaliste2 = false
local inrangeofJournaliste3 = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfJournaliste()
return inrangeofJournaliste
end

function IsPlayerInRangeOfJournaliste2()
return inrangeofJournaliste2
end

function IsPlayerInRangeOfJournaliste3()
return inrangeofJournaliste3
end

function ShowJournalisteBlips(bool)
	if bool and #Journaliste_blips == 0 then
		for station,pos in pairs(Journaliste_locations) do
			local loc = pos
			pos = pos.outside
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,135)
			SetBlipColour(blip, 7)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('CNN')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Journaliste_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #Journaliste_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				local inrange2 = false
				local inrange3 = false
				for i,b in ipairs(Journaliste_blips) do
					-- if (clientjobID == 37) and Journaliste.opened == false and  GetDistanceBetweenCoords(b.pos.Vestiaire[1],b.pos.Vestiaire[2],b.pos.Vestiaire[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.Vestiaire[1],b.pos.Vestiaire[2],b.pos.Vestiaire[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						-- currentlocation = b
						-- if GetDistanceBetweenCoords(b.pos.Vestiaire[1],b.pos.Vestiaire[2],b.pos.Vestiaire[3],GetEntityCoords(LocalPed()),true) < 4 then
							-- ShowInfoJobDep("Appuyez sur ~INPUT_CONTEXT~ pour vous ~b~Ã©quiper~w~.", 0)
							-- inrange = true
						-- end
					-- end
					if (clientjobID == 37) and Journaliste.opened == false and  GetDistanceBetweenCoords(b.pos.Vestiaire[1],b.pos.Vestiaire[2],b.pos.Vestiaire[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,-1100.107,-262.9528,36.67577,0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(-1100.107,-262.9528,36.67577,GetEntityCoords(LocalPed()),true) < 4 then
							ShowInfoJobDep("Appuyez sur ~INPUT_CONTEXT~ pour sortir le ~b~Van~w~.", 0)
							inrange2 = true
						end
					end
				end
				inrangeofJournaliste = inrange
				inrangeofJournaliste2 = inrange2
				inrangeofJournaliste3 = inrange3
			end
		end)
	elseif bool == false and #Journaliste_blips > 0 then
		for i,b in ipairs(Journaliste_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		Journaliste_blips = {}
	end
end

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofJournaliste then
            TriggerServerEvent('CheckTenueForJournalist')
			inrangeofJournaliste = false
			inrange = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofJournaliste2 then
            local carid = GetHashKey("rumpo")
			local playerPed = GetPlayerPed(-1)
			if playerPed and playerPed ~= -1 then
            RequestModel(carid)
            while not HasModelLoaded(carid) do
                Citizen.Wait(0)
            end
            local playerCoords = GetEntityCoords(playerPed)
            playerCoords = playerCoords + vector3(0, 2, 0)
			
			if(lastSpawnedVehicle ~= nil)then				
				deleteCar(lastSpawnedVehicle)
			end
			
            lastSpawnedVehicle = CreateVehicle(carid, playerCoords, 0.0, true, false)
			TaskWarpPedIntoVehicle(playerPed, lastSpawnedVehicle, -1)
			
			TriggerServerEvent('SetPlateJob')
			inrangeofJournaliste2 = false
			inrange2 = false
            end
        end
	end
end)

function DrawMissionTextCNN(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

affichenews = false

RegisterNetEvent('CNNannonce')
AddEventHandler('CNNannonce', function(msg, id)
    messagedelanews = msg
	if id == 1 then
	    affichenews = true
	elseif id == 2 then
	    affichenews2 = true
	elseif id == 3 then
	    affichenews3 = true
	elseif id == 4 then
	    affichenews4 = true
	elseif id == 5 then
	    affichenews5 = true
	elseif id == 6 then
	    affichenews6 = true
	end
end)


Citizen.CreateThread(function()
	while true do
        Citizen.Wait(0)
		if (affichenews == true) then
	    	Wait(20000)
			affichenews = false
		elseif (affichenews2 == true) then
	    	Wait(20000)
			affichenews2 = false
		elseif (affichenews3 == true) then
	    	Wait(20000)
			affichenews3 = false
		elseif (affichenews4 == true) then
	    	Wait(20000)
			affichenews4 = false
		elseif (affichenews5 == true) then
	    	Wait(20000)
			affichenews5 = false
		elseif (affichenews6 == true) then
	    	Wait(20000)
			affichenews6 = false
		end
	end
end)


function DrawAdvancedTextJournalist(x,y ,w,h,sc, text, r,g,b,a,font,jus)
    SetTextFont(font)
    SetTextProportional(0)
    SetTextScale(sc, sc)
	N_0x4e096588b13ffeca(jus)
    SetTextColour(r, g, b, a)
    SetTextDropShadow(0, 0, 0, 0,255)
    SetTextEdge(1, 0, 0, 0, 255)
    SetTextDropShadow()
    SetTextOutline()
    SetTextEntry("STRING")
    AddTextComponentString(text)
	DrawText(x - 0.1+w, y - 0.02+h)
end

Citizen.CreateThread(function()
	while true do
        Citizen.Wait(0)	
		    			
			if (affichenews == true) then
			
		    DrawRect(0.494, 0.227, 5.185, 0.118, 0, 0, 0, 150)
			DrawAdvancedTextJournalist(0.588, 0.14, 0.005, 0.0028, 0.8, "CNN", 255, 255, 255, 255, 1, 0)
			DrawAdvancedTextJournalist(0.586, 0.199, 0.005, 0.0028, 0.6, "~r~Breaking News", 255, 255, 255, 255, 7, 0)
			DrawAdvancedTextJournalist(0.588, 0.246, 0.005, 0.0028, 0.4, messagedelanews, 255, 255, 255, 255, 0, 0)

			end
			
			if (affichenews2 == true) then
			
		    DrawRect(0.494, 0.227, 5.185, 0.118, 0, 0, 0, 150)
			DrawAdvancedTextJournalist(0.588, 0.14, 0.005, 0.0028, 0.8, "CNN", 255, 255, 255, 255, 1, 0)
			DrawAdvancedTextJournalist(0.586, 0.199, 0.005, 0.0028, 0.6, "~y~Info traffic", 255, 255, 255, 255, 7, 0)
			DrawAdvancedTextJournalist(0.588, 0.246, 0.005, 0.0028, 0.4, messagedelanews, 255, 255, 255, 255, 0, 0)

			end
			
			if (affichenews3 == true) then
			
		    DrawRect(0.494, 0.227, 5.185, 0.118, 0, 0, 0, 150)
			DrawAdvancedTextJournalist(0.588, 0.14, 0.005, 0.0028, 0.8, "CNN", 255, 255, 255, 255, 1, 0)
			DrawAdvancedTextJournalist(0.586, 0.199, 0.005, 0.0028, 0.6, "~p~Fait divers", 255, 255, 255, 255, 7, 0)
			DrawAdvancedTextJournalist(0.588, 0.246, 0.005, 0.0028, 0.4, messagedelanews, 255, 255, 255, 255, 0, 0)

			end
			
			if (affichenews4 == true) then
			
		    DrawRect(0.494, 0.227, 5.185, 0.118, 0, 0, 0, 150)
			DrawAdvancedTextJournalist(0.588, 0.14, 0.005, 0.0028, 0.8, "CNN", 255, 255, 255, 255, 1, 0)
			DrawAdvancedTextJournalist(0.586, 0.199, 0.005, 0.0028, 0.6, "~g~Annonce", 255, 255, 255, 255, 7, 0)
			DrawAdvancedTextJournalist(0.588, 0.246, 0.005, 0.0028, 0.4, messagedelanews, 255, 255, 255, 255, 0, 0)

			end
			
			if (affichenews5 == true) then
			
		    DrawRect(0.494, 0.227, 5.185, 0.118, 0, 0, 0, 150)
			DrawAdvancedTextJournalist(0.588, 0.14, 0.005, 0.0028, 0.8, "CNN", 255, 255, 255, 255, 1, 0)
			DrawAdvancedTextJournalist(0.586, 0.199, 0.005, 0.0028, 0.6, "~o~PublicitÃ©", 255, 255, 255, 255, 7, 0)
			DrawAdvancedTextJournalist(0.588, 0.246, 0.005, 0.0028, 0.4, messagedelanews, 255, 255, 255, 255, 0, 0)

			end
			
			if (affichenews6 == true) then
			
		    DrawRect(0.494, 0.227, 5.185, 0.118, 0, 0, 0, 150)
			DrawAdvancedTextJournalist(0.588, 0.14, 0.005, 0.0028, 0.8, "CNN", 255, 255, 255, 255, 1, 0)
			DrawAdvancedTextJournalist(0.586, 0.199, 0.005, 0.0028, 0.6, "~b~DÃ©claration officiel", 255, 255, 255, 255, 7, 0)
			DrawAdvancedTextJournalist(0.588, 0.246, 0.005, 0.0028, 0.4, messagedelanews, 255, 255, 255, 255, 0, 0)

			end
	end
end)



local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowJournalisteBlips(true)
	firstspawn = 1
end




--CALL CNN

callencourscnn = 2
inmissioncnn = 0

RegisterNetEvent('HaveCallCnn')
AddEventHandler('HaveCallCnn', function()
    
    ShowNotificationCallTaxi('~h~VOUS AVEZ APPELÃ‰ UN ~g~JOURNALISTE~w~.')
end)

RegisterNetEvent('HaveAcceptCallCnn')
AddEventHandler('HaveAcceptCallCnn', function()
    ShowNotificationCallTaxi('~h~UN ~g~JOURNALISTE~w~ EST EN ROUTE...')
end)

RegisterNetEvent('HaveAcceptCallCnnForCnn')
AddEventHandler('HaveAcceptCallCnnForCnn', function(namepol, namecaller)
    ShowNotificationCallTaxi("~h~~g~"..namepol.."~w~ a ~g~acceptÃ©~w~ l'appel de ~g~"..namecaller.."~w~.")
	callencourscnn = 1
end)

RegisterNetEvent('MarkerTelCnn')
AddEventHandler('MarkerTelCnn', function(namecallcnn, coordcallCnnx, coordcallCnny, coordcallCnnz)
    
	ShowNotificationCallTaxi("~h~~g~CNN~n~ ~w~ ~n~~h~~g~"..namecallcnn.."~w~ vient d'appeler un journaliste !")
    ShowNotificationCallTaxi("Pour accepter l'appel appuyez sur ~h~~g~Y")
	callencourscnn = 0
	posCallTelCnnxSave = coordcallCnnx
	posCallTelCnnySave = coordcallCnny
	posCallTelCnnzSave = coordcallCnnz
	LastCallerCnn = namecallcnn
end)

Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
	    if IsControlJustPressed(1,246) and (clientjobID == 37) then
			if (inmissioncnn == 0) then
				if (callencourscnn == 0) then
					cnnflag = 3
					ShowNotificationCallTaxi('CoordonnÃ©e envoyÃ©e sur votre GPS...')
					TriggerServerEvent('CheckAcceptCallCnn', LastCallerCnn)
					TriggerServerEvent('CheckAcceptCallTaxiForCnn', LastCallerCnn)
					posCallTelCnnx = posCallTelCnnxSave
					posCallTelCnny = posCallTelCnnySave
					posCallTelCnnz = posCallTelCnnzSave
					inmissioncnn = 1
				elseif (callencourscnn == 1) then
				    ShowNotificationCallTaxi("~h~L'appel a dÃ©jÃ  Ã©tÃ© pris.")
				elseif (callencourscnn == 2) then
				    ShowNotificationCallTaxi("~h~Aucun appel pour le moment.")
				end
			elseif (inmissioncnn == 1) then
			    ShowNotificationCallTaxi("~h~Vous Ãªtes dÃ©jÃ  en intervention.")
			end
	    end
	end
end)

Citizen.CreateThread(function()
	while true do
	Wait(0)
		if cnnflag == 3 then
			    blipTelcallCnn = AddBlipForCoord(posCallTelCnnx, posCallTelCnny, posCallTelCnnz)
				N_0x80ead8e2e1d5d52e(blipTelcallCnn)
								
				SetBlipRoute(blipTelcallCnn, 1)
				cnnflag = 4
		end
		if cnnflag == 4 then
				if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), posCallTelCnnx, posCallTelCnny, posCallTelCnnz, true) > 4.0001 then
					DrawMarker(1, posCallTelCnnx, posCallTelCnny, posCallTelCnnz-1.0001, 0, 0, 0, 0, 0, 0, 4.0, 4.0, 2.0, 11, 80, 169, 255, 0, 0, 1, 0, 0, 0, 0)
				else
					if blipTelcallCnn ~= nil and DoesBlipExist(blipTelcallCnn) then
						Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(blipTelcallCnn))
						blipTelcallCnn = nil
						inmissioncnn = 0
						cnnflag = 0
					end
				end	
		end
	end
end)
end)                                                                                                                                                                                                                                                                                                                                                                                                                        local journamenu = {
	opened = false,
	title = "CNN",
	currentmenu = "main",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.1,
		y = 0.32,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main"] = { 
			title = "CATEGORIES", 
			name = "main",
			buttons = { 
				{name = "RÃ©diger la news", description = ""},
				{name = "Envoyer la news", description = ""},
			}
		},
		["sendnews"] = { 
			title = "CATEGORIES", 
			name = "sendnews",
			buttons = { 
				{name = "Breaking News", id = 1},
				{name = "Info Traffic", id = 2},
				{name = "Fait Divers", id = 3},
				{name = "Annonce", id = 4},
				{name = "PublicitÃ©", id = 5},
				{name = "DÃ©claration officiel", id = 6},
			}
		},
	}
}

local boughtweapon = false

local function LocalPed()
return GetPlayerPed(-1)
end

--Creator Weapon
function OpenCreatorjournamenu()		
	boughtweapon = false
	journamenu.currentmenu = "main"
	journamenu.opened = true
	journamenu.selectedbutton = 0
end
function CloseCreatorjournamenu()
	Citizen.CreateThread(function()
		journamenu.opened = false
		journamenu.menu.from = 1
		journamenu.menu.to = 10
		inmenucivil = 0
		inmenuinv = 0
		inmenujob = 0
	end)
end

--Menu pomenu

function drawMenuButton(button,x,y,selected)
	local menu = journamenu.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = journamenu.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = journamenu.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitleDep(txt,x,y)
local menu = journamenu.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,93,166,202,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function Notifyjournamenu(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

function ShowNotificationjournamenu(text)
	SetNotificationTextEntry("STRING")
	AddTextComponentString(text)
	DrawNotification(false, false)
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,170) and (clientjobID == 37) then
			if IsPedInAnyVehicle(LocalPed(), true) == false then
			if (inmenuinv == 0) and (inmenucivil == 0) then
				if journamenu.opened then
					CloseCreatorjournamenu()
					inmenucivil = 0
				    inmenuinv = 0
				    inmenujob = 0
				else
					OpenCreatorjournamenu()
					inmenucivil = 0
				    inmenuinv = 0
				    inmenujob = 3 -- Journalist
				end
			end
		    else
		    ShowNotificationMenuCivil2("~r~Vous ne pouvez pas ouvrir le menu dans un vÃ©hicule !")
	        end
		end
		if journamenu.opened then
			local ped = LocalPed()
			local menu = journamenu.menu[journamenu.currentmenu]
			drawTxt(journamenu.title,1,1,journamenu.menu.x,journamenu.menu.y,1.0, 255,255,255,255)
			drawMenuTitleDep(menu.title, journamenu.menu.x,journamenu.menu.y + 0.08)
			drawTxt(journamenu.selectedbutton.."/"..tablelength(menu.buttons),0,0,journamenu.menu.x + journamenu.menu.width/2 - 0.0385,journamenu.menu.y + 0.067,0.4, 255,255,255,255)
			local y = journamenu.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= journamenu.menu.from and i <= journamenu.menu.to then
					
					if i == journamenu.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,journamenu.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedjournamenu(button)
					end
				end
			end	
		end
		if journamenu.opened then
			if IsControlJustPressed(1,202) then
				Backjournamenu()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if journamenu.selectedbutton > 1 then
					journamenu.selectedbutton = journamenu.selectedbutton -1
					if buttoncount > 10 and journamenu.selectedbutton < journamenu.menu.from then
						journamenu.menu.from = journamenu.menu.from -1
						journamenu.menu.to = journamenu.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if journamenu.selectedbutton < buttoncount then
					journamenu.selectedbutton = journamenu.selectedbutton +1
					if buttoncount > 10 and journamenu.selectedbutton > journamenu.menu.to then
						journamenu.menu.to = journamenu.menu.to + 1
						journamenu.menu.from = journamenu.menu.from + 1
					end
				end	
			end
		end
	end
end)
		    
function DrawMissionTextjournamenu(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

function showLoadingJourna(showText, showTime, showType)
	Citizen.CreateThread(function()
		Citizen.Wait(0)
		N_0xaba17d7ce615adbf("STRING")
		AddTextComponentString(showText)
		N_0xbd12f8228410d9b4(showType)
		Citizen.Wait(showTime)
		N_0x10d373323e5b9c0d()
	end)
end

local input = 0

function ButtonSelectedjournamenu(button)
	local ped = GetPlayerPed(-1)
	local this = journamenu.currentmenu
	local btn = button.name
	
	if this == "main" then
		if btn == "RÃ©diger la news" then
		    DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
			input = 1

		elseif btn == "Envoyer la news" then
		    OpenMenujournamenu('sendnews')
			
		end
    elseif this == "sendnews" then
	    if btn == "Breaking News" then
		    if inputtxtjourna ~= nil then
		        TriggerServerEvent('CheckBreakingNews', txtnewsjournalist, button.id)
				input = 0
				inputtxtjourna = nil
				CloseCreatorjournamenu()
			else
			ShowNotificationMain("~r~Aucune news n'a Ã©tÃ© rÃ©digÃ©.")
			end
		elseif btn == "Info Traffic" then
		    if inputtxtjourna ~= nil then
		        TriggerServerEvent('CheckBreakingNews', txtnewsjournalist, button.id)
				input = 0
				inputtxtjourna = nil
				CloseCreatorjournamenu()
			else
			ShowNotificationMain("~r~Aucune news n'a Ã©tÃ© rÃ©digÃ©.")
			end
		elseif btn == "Fait Divers" then
		    if inputtxtjourna ~= nil then
		        TriggerServerEvent('CheckBreakingNews', txtnewsjournalist, button.id)
				input = 0
				inputtxtjourna = nil
				CloseCreatorjournamenu()
			else
			ShowNotificationMain("~r~Aucune news n'a Ã©tÃ© rÃ©digÃ©.")
			end
		elseif btn == "Annonce" then
		    if inputtxtjourna ~= nil then
		        TriggerServerEvent('CheckBreakingNews', txtnewsjournalist, button.id)
				input = 0
				inputtxtjourna = nil
				CloseCreatorjournamenu()
			else
			ShowNotificationMain("~r~Aucune news n'a Ã©tÃ© rÃ©digÃ©.")
			end
		elseif btn == "PublicitÃ©" then
		    if inputtxtjourna ~= nil then
		        TriggerServerEvent('CheckBreakingNews', txtnewsjournalist, button.id)
				input = 0
				inputtxtjourna = nil
				CloseCreatorjournamenu()
			else
			ShowNotificationMain("~r~Aucune news n'a Ã©tÃ© rÃ©digÃ©.")
			end
		elseif btn == "DÃ©claration officiel" then
		    if inputtxtjourna ~= nil then
		        TriggerServerEvent('CheckBreakingNews', txtnewsjournalist, button.id)
				input = 0
				inputtxtjourna = nil
				CloseCreatorjournamenu()
			else
			ShowNotificationMain("~r~Aucune news n'a Ã©tÃ© rÃ©digÃ©.")
			end
		end
	end
end


Citizen.CreateThread(function()
	while true do
		Wait(0)
		if input == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				input = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputtxtjourna = GetOnscreenKeyboardResult()
					if string.len(inputtxtjourna) > 0 then
						txtnewsjournalist = inputtxtjourna
					else
						input = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				input = 0
			end
		end
	end
end)

RegisterNetEvent('Finishjournamenu')
AddEventHandler('Finishjournamenu', function()
	boughtweapon = true
	CloseCreatorjournamenu()
	journamenu.opened = false
	journamenu.menu.from = 1
	journamenu.menu.to = 10
	inmenucivil = 0
	inmenuinv = 0
	inmenujob = 0
end)

function OpenMenujournamenu(menu)
	journamenu.lastmenu = journamenu.currentmenu
	if menu == "sendnews" then
		journamenu.lastmenu = "main"
	elseif menu == "mainvehicle"  then
		journamenu.lastmenu = "main"
	elseif menu == 'race_create_objects' then
		journamenu.lastmenu = "main"
	elseif menu == "race_create_objects_spawn" then
		journamenu.lastmenu = "race_create_objects"
	end
	journamenu.menu.from = 1
	journamenu.menu.to = 10
	journamenu.selectedbutton = 0
	journamenu.currentmenu = menu	
end

function Backjournamenu()
	if backlock then
		return
	end
	backlock = true
	if journamenu.currentmenu == "main" then
		CloseCreatorjournamenu()
		inmenucivil = 0
		inmenuinv = 0
		inmenujob = 0
	elseif journamenu.currentmenu == "sendnews" then
		OpenMenujournamenu(journamenu.lastmenu)
	else
		OpenMenujournamenu(journamenu.lastmenu)
	end
end

function stringstartsjournamenu(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end                                                                                                                        local Livreur = {
	opened = false,
	title = "Livreur",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}

local Livreur_locations = {
{enteringLivreur = {78.68817,112.5279,80.1681}, innutile = {78.68817,112.5279,80.1681}, outsideLivreur = {65.11276,121.3,79.12325}},
}

local Livreur_blips ={}
local inrangeofLivreur = false
local inrangeofLivreur3 = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxtLivreur(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfLivreur()
return inrangeofLivreur
end

function IsPlayerInRangeOfLivreur3()
return inrangeofLivreur3
end

function ShowLivreurBlips(bool)
	if bool and #Livreur_blips == 0 then
		for station,pos in pairs(Livreur_locations) do
			local loc = pos
			pos = pos.outsideLivreur
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,85)
			SetBlipColour(blip, 5)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Los Santos Deliveries')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Livreur_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #Livreur_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				local inrange3 = false
				for i,b in ipairs(Livreur_blips) do
					if (clientjobID == 33) and GetDistanceBetweenCoords(b.pos.enteringLivreur[1],b.pos.enteringLivreur[2],b.pos.enteringLivreur[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.enteringLivreur[1],b.pos.enteringLivreur[2],b.pos.enteringLivreur[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.enteringLivreur[1],b.pos.enteringLivreur[2],b.pos.enteringLivreur[3],GetEntityCoords(LocalPed()),true) < 3 then
							ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour vous ~b~Ã©quiper~w~.", 0)
						    inrange = true
						end
					end
					if (clientjobID == 33) and IsPedInAnyVehicle(LocalPed(), true) == false and GetDistanceBetweenCoords(b.pos.enteringLivreur[1],b.pos.enteringLivreur[2],b.pos.enteringLivreur[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,64.55118,116.613,78.69622,0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(64.55118,116.613,78.69622,GetEntityCoords(LocalPed()),true) < 3 then
							ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour rÃ©cuperer un ~b~VÃ©hicule~w~.", 0)
						    inrange3 = true
						end
					end
				end
				inrangeofLivreur = inrange
				inrangeofLivreur3 = inrange3
			end
		end)
	elseif bool == false and #Livreur_blips > 0 then
		for i,b in ipairs(Livreur_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		Livreur_blips = {}
	end
end

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofLivreur then
            
			SetPedComponentVariation(GetPlayerPed(-1), 11, 123, 2, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 4, 15, 3, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 6, 8, 0, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 3, 0, 0, 0)
			
			inrangeofLivreur = false
			inrange = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofLivreur3 then
            TriggerServerEvent('CheckLivreurVehi')
			TriggerServerEvent('SetPlateJob')
			inrangeofLivreur3 = false
			inrange3 = false
        end
    end
end)

onJobLivreur = 0

livr = {flag = {}, blip = {}, veh = {}, coords = {cx={}, cy={}, cz={}}}

function StartJob4(jobid)
	if jobid == 1 then -- Livreur
		showLoadingPromtLivreur("Chargement du mÃ©tier.", 2000, 3)
		livr.coords.cx[1],livr.coords.cy[1],livr.coords.cz[1] = -46.25032,1946.767,189.3555
		livr.coords.cx[2],livr.coords.cy[2],livr.coords.cz[2] = 793.9333,2162.484,52.09291
		livr.coords.cx[3],livr.coords.cy[3],livr.coords.cz[3] = 849.4677,2383.931,53.15421
		livr.coords.cx[4],livr.coords.cy[4],livr.coords.cz[4] = 1176.451,2706.726,37.0977
		livr.coords.cx[5],livr.coords.cy[5],livr.coords.cz[5] = 1166.02,2709.359,37.15771
		livr.coords.cx[6],livr.coords.cy[6],livr.coords.cz[6] = 1200.211,2709.516,37.22371
		livr.coords.cx[7],livr.coords.cy[7],livr.coords.cz[7] = -440.7608,-1693.409,18.22727
		livr.coords.cx[8],livr.coords.cy[8],livr.coords.cz[8] = 1716.236,3295.075,40.30061
		livr.coords.cx[9],livr.coords.cy[9],livr.coords.cz[9] = -1014.477,-1514.372,5.517522
		livr.coords.cx[10],livr.coords.cy[10],livr.coords.cz[10] = -861.6439,-2708.263,12.94431
		livr.coords.cx[11],livr.coords.cy[11],livr.coords.cz[11] = 167.5345,-2222.058,6.236105
		livr.coords.cx[12],livr.coords.cy[12],livr.coords.cz[12] = -297.5031,-2599.487,5.196095
		livr.coords.cx[13],livr.coords.cy[13],livr.coords.cz[13] = 393.1354,-712.2562,28.285
		livr.coords.cx[14],livr.coords.cy[14],livr.coords.cz[14] = 930.4204,41.42923,80.09806
		livr.coords.cx[15],livr.coords.cy[15],livr.coords.cz[15] = 969.9932,-502.1407,61.1409
		livr.coords.cx[16],livr.coords.cy[16],livr.coords.cz[16] = 899.369,-474.0781,58.43621
		livr.coords.cx[17],livr.coords.cy[17],livr.coords.cz[17] = 1341.378,-597.3695,73.70087
		livr.coords.cx[18],livr.coords.cy[18],livr.coords.cz[18] = 96.57635,-1291.999,28.26874
		livr.coords.cx[19],livr.coords.cy[19],livr.coords.cz[19] = -616.4643,-1621.065,32.01054
		livr.coords.cx[20],livr.coords.cy[20],livr.coords.cz[20] = -1178.836,-1781.336,3.360405
		livr.coords.cx[21],livr.coords.cy[21],livr.coords.cz[21] = -947.8458,-2068.461,8.593185
		livr.coords.cx[22],livr.coords.cy[22],livr.coords.cz[22] = -879.8458,-2166.647,7.936899
		livr.coords.cx[23],livr.coords.cy[23],livr.coords.cz[23] = 741.8988,1312.227,359.144
		livr.coords.cx[24],livr.coords.cy[24],livr.coords.cz[24] = 727.0671,562.1555,124.9198
		livr.coords.cx[25],livr.coords.cy[25],livr.coords.cz[25] = 519.3286,241.2648,103.9096
		livr.coords.cx[26],livr.coords.cy[26],livr.coords.cz[26] = 141.6636,-379.4801,42.25701
		livr.coords.cx[27],livr.coords.cy[27],livr.coords.cz[27] = 124.9429,-725.027,46.0766
		livr.coords.cx[28],livr.coords.cy[28],livr.coords.cz[28] = -1113.987,-1259.305,5.657697
		livr.coords.cx[29],livr.coords.cy[29],livr.coords.cz[29] = -830.1259,-1255.321,5.583957
		livr.coords.cx[30],livr.coords.cy[30],livr.coords.cz[30] = -819.8251,-1070.859,10.3342
		livr.coords.cx[31],livr.coords.cy[31],livr.coords.cz[31] = -1366.06,56.39786,53.09844
		livr.coords.cx[32],livr.coords.cy[32],livr.coords.cz[32] = -1053.257,-247.1174,36.86098
		livr.coords.cx[33],livr.coords.cy[33],livr.coords.cz[33] = -695.3744,-307.8054,35.35397
		livr.coords.cx[34],livr.coords.cy[34],livr.coords.cz[34] = -740.5596,-279.0861,35.94907
		livr.coords.cx[35],livr.coords.cy[35],livr.coords.cz[35] = -561.7031,-130.9766,37.43189
		livr.coords.cx[36],livr.coords.cy[36],livr.coords.cz[36] = -812.7177,179.0717,71.15916
		livr.coords.cx[37],livr.coords.cy[37],livr.coords.cz[37] = -825.2233,809.4124,201.0367
		livr.coords.cx[38],livr.coords.cy[38],livr.coords.cz[38] = -533.5296,709.5696,152.1523
		livr.coords.cx[39],livr.coords.cy[39],livr.coords.cz[39] = -1032.739,685.9717,160.3028
		livr.coords.cx[40],livr.coords.cy[40],livr.coords.cz[40] = -1804.932,436.425,127.8347
		livr.coords.cx[41],livr.coords.cy[41],livr.coords.cz[41] = 6.799637,537.6144,175.0282
		livr.coords.cx[42],livr.coords.cy[42],livr.coords.cz[42] = -2253.634,233.6385,173.6069
		livr.coords.cx[43],livr.coords.cy[43],livr.coords.cz[43] = 1845.683,2585.855,44.67201
		livr.coords.cx[44],livr.coords.cy[44],livr.coords.cz[44] = 2744.242,1487.352,29.7918
		livr.coords.cx[45],livr.coords.cy[45],livr.coords.cz[45] = 2589.672,483.3581,107.6751
		livr.coords.cx[46],livr.coords.cy[46],livr.coords.cz[46] = 2578.832,-294.8357,92.40716
		livr.coords.cx[47],livr.coords.cy[47],livr.coords.cz[47] = 1744.093,-1623.031,111.6281
		livr.coords.cx[48],livr.coords.cy[48],livr.coords.cz[48] = -440.7608,-1693.409,18.22727
		livr.coords.cx[49],livr.coords.cy[49],livr.coords.cz[49] = 55.68702,-1586.046,28.59777
		livr.coords.cx[50],livr.coords.cy[50],livr.coords.cz[50] = 406.4087,-1348.305,40.05356
		livr.coords.cx[51],livr.coords.cy[51],livr.coords.cz[51] = 88.56092,-2582.136,5.004593
		livr.coords.cx[52],livr.coords.cy[52],livr.coords.cz[52] = -349.9562,-1570.035,24.22204
		livr.veh[1] = GetVehiclePedIsUsing(GetPlayerPed(-1))
		livr.flag[1] = 1
		livr.flag[2] = 49+GetRandomIntInRange(1, 51)
		Wait(2000)
		DrawMissionTextLivreur("Conduisez et livrez les ~h~~y~colis~w~.", 10000)
		onJobLivreur = 1
	end
end

function DrawMissionTextLivreur(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

function showLoadingPromtLivreur(showText, showTime, showType)
	Citizen.CreateThread(function()
		Citizen.Wait(0)
		N_0xaba17d7ce615adbf("STRING") -- set type
		AddTextComponentString(showText) -- sets the text
		N_0xbd12f8228410d9b4(showType) -- show promt (types = 3)
		Citizen.Wait(showTime) -- show time
		N_0x10d373323e5b9c0d() -- remove promt
	end)
end


function StopJobLivreur(jobid)
	if jobid == 1 then
		if livr.blip[1] ~= nil and DoesBlipExist(livr.blip[1]) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(livr.blip[1]))
			livr.blip[1] = nil
		end
		onJobLivreur = 0
		livr.veh[1] = nil
		livr.flag[1] = nil
		livr.flag[2] = nil
	end
end

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if onJobLivreur == 0 then
			if (clientjobID == 33) then -- JOB Livreur
				if IsPedSittingInAnyVehicle(GetPlayerPed(-1)) then
					if IsVehicleModel(GetVehiclePedIsUsing(GetPlayerPed(-1)), GetHashKey("pony", _r)) then
						StartJob4(1)
					end
				end
			end
		elseif onJobLivreur == 1 then
			if DoesEntityExist(livr.veh[1]) and IsVehicleDriveable(livr.veh[1], 0) then

					if livr.flag[1] == 1 then
						livr.flag[2] = GetRandomIntInRange(1, 52)
						livr.blip[1] = AddBlipForCoord(livr.coords.cx[livr.flag[2]],livr.coords.cy[livr.flag[2]],livr.coords.cz[livr.flag[2]])
						N_0x80ead8e2e1d5d52e(livr.blip[1])
						SetBlipRoute(livr.blip[1], 1)
						livr.flag[1] = 2						
					end
					if livr.flag[1] == 2 then
						if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), livr.coords.cx[livr.flag[2]],livr.coords.cy[livr.flag[2]],livr.coords.cz[livr.flag[2]], true) > 4.0001 then
									DrawMarker(1, livr.coords.cx[livr.flag[2]],livr.coords.cy[livr.flag[2]],livr.coords.cz[livr.flag[2]]-1.0001, 0, 0, 0, 0, 0, 0, 4.0, 4.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
						else
							if livr.blip[1] ~= nil and DoesBlipExist(livr.blip[1]) then
										Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(livr.blip[1]))
										livr.blip[1] = nil
							end
						if IsPedInAnyVehicle(LocalPed(), true) == false then
							ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour ~b~Livrer~w~ le colis.", 0)
							if IsControlJustPressed(1,38) then
							    Citizen.Wait(500)
										
								DrawMissionTextLivreur("~h~Vous avez ~b~LivrÃ©~w~ un colis!", 5000)
								TriggerServerEvent('CheckColis')
								livr.flag[1] = 1
								livr.flag[2] = 49+GetRandomIntInRange(1, 51)
							end
						end
						end
					end

					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(livr.veh[1]), true) > 60.0001 then
						StopJobLivreur(1)
						DrawMissionTextLivreur("Fin de la livraison, vous Ãªtes sortie trop loin du vÃ©hicule!", 5000)
					else

					end

			else
				StopJobLivreur(1)
				DrawMissionTextLivreur("Votre Camion est ~h~~r~hors-service~w~.", 5000)
			end
		end
	end
end)



local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowLivreurBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       local Pecheur = {
	opened = false,
	title = "Pecheur",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}

local Pecheur_locations = {
{enteringPecheur = {1242.636,-3196.755,5.028263}, innutile4 = {474.3488,-1951.734,23.63132}, outsidePecheur = {1244.903,-3205.636,6.028232}},
}

local Pecheur_blips ={}
local inrangeofPecheur = false
local inrangeofPecheur3 = false
local inrangeofPecheur4 = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxtPecheur(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfPecheur()
return inrangeofPecheur
end

function IsPlayerInRangeOfPecheur3()
return inrangeofPecheur3
end

function IsPlayerInRangeOfPecheur4()
return inrangeofPecheur4
end


function ShowPecheurBlips(bool)
	if bool and #Pecheur_blips == 0 then
		for station,pos in pairs(Pecheur_locations) do
			local loc = pos
			pos = pos.outsidePecheur
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,68)
			SetBlipColour(blip, 42)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Port de PÃªche')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Pecheur_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #Pecheur_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				local inrange3 = false
				local inrange4 = false
				for i,b in ipairs(Pecheur_blips) do
					if (clientjobID == 38) and Pecheur.opened == false and  GetDistanceBetweenCoords(b.pos.enteringPecheur[1],b.pos.enteringPecheur[2],b.pos.enteringPecheur[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.enteringPecheur[1],b.pos.enteringPecheur[2],b.pos.enteringPecheur[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.enteringPecheur[1],b.pos.enteringPecheur[2],b.pos.enteringPecheur[3],GetEntityCoords(LocalPed()),true) < 3 then
							inrange = true
							ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour vous ~b~Ã©quiper~w~.", 0)
						end
					end
					if (clientjobID == 38) and Pecheur.opened == false and  GetDistanceBetweenCoords(b.pos.enteringPecheur[1],b.pos.enteringPecheur[2],b.pos.enteringPecheur[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,1269.754,-3203.254,5.902247,0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(1269.754,-3203.254,5.902247,GetEntityCoords(LocalPed()),true) < 5 then
							inrange3 = true
							ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour sortir votre ~b~Camion frigorifique~w~.", 0)
						end
					end
					if (clientjobID == 38) and Pecheur.opened == false and  GetDistanceBetweenCoords(b.pos.enteringPecheur[1],b.pos.enteringPecheur[2],b.pos.enteringPecheur[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,1297.58,-3176.309,5.90641,0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(1297.58,-3176.309,5.90641,GetEntityCoords(LocalPed()),true) < 4 then
							inrange4 = true
							ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour sortir votre ~b~Bateau de pÃªche~w~.", 0)
						end
					end
				end
				inrangeofPecheur = inrange
				inrangeofPecheur3 = inrange3
				inrangeofPecheur4 = inrange4
			end
		end)
	elseif bool == false and #Pecheur_blips > 0 then
		for i,b in ipairs(Pecheur_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		Pecheur_blips = {}
	end
end

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofPecheur then
            
			SetPedComponentVariation(GetPlayerPed(-1), 11, 124, 0, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 4, 36, 0, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 8, 48, 3, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 6, 7, 3, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 3, 64, 0, 0)
			
			inrangeofPecheur = false
			inrange = false
        end
    end
end)

lastvehpeche = nil

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofPecheur3 then
            
			local carid = GetHashKey("benson")
			local playerPed = GetPlayerPed(-1)
			if playerPed and playerPed ~= -1 then
            RequestModel(carid)
            while not HasModelLoaded(carid) do
                Citizen.Wait(0)
            end
			
			if(lastvehpeche ~= nil)then				
				deleteCar(lastvehpeche)
			end
			if(lastvehpeche2 ~= nil)then				
				deleteCar(lastvehpeche2)
			end
			
			local playerCoords = GetEntityCoords(playerPed)
            playerCoords = playerCoords + vector3(0, 2, 0)
			
            lastvehpeche2 = CreateVehicle(carid, 1259.74,-3188.639,5.800988, 0.0, true, false)
			-- TaskWarpPedIntoVehicle(playerPed, lastvehpeche, -1)
			
			end
			ShowNotificationMain("Vous avez sortie votre ~b~Camion frigorifique~w~.")
			
			inrangeofPecheur3 = false
			inrange3 = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofPecheur4 then
            
			local carid = GetHashKey("tug")
			local playerPed = GetPlayerPed(-1)
			if playerPed and playerPed ~= -1 then
            RequestModel(carid)
            while not HasModelLoaded(carid) do
                Citizen.Wait(0)
            end
			
			if(lastvehpeche ~= nil)then				
				deleteCar(lastvehpeche)
			end
			if(lastvehpeche2 ~= nil)then				
				deleteCar(lastvehpeche2)
			end
			
			local playerCoords = GetEntityCoords(playerPed)
            playerCoords = playerCoords + vector3(0, 2, 0)
			
            lastvehpeche = CreateVehicle(carid, 1314.891,-3155.039,0.759658, 0.0, true, false)
			-- TaskWarpPedIntoVehicle(playerPed, lastvehpeche, -1)
			
			end
			
			ShowNotificationMain("Vous avez sortie votre ~b~Bateau de pÃªche~w~.")
			
			inrangeofPecheur4 = false
			inrange4 = false
        end
    end
end)

onJobPecheur = 0
local MyVeh = nil

function StartJobPecheur(jobid)
	if jobid == 1 then -- Pecheur Camion
		showLoadingPromtPecheur("Chargement des coordonnÃ©es GPS.", 2000, 3)
		TriggerServerEvent('SetPlateJob')
		MyVeh = GetVehiclePedIsUsing(GetPlayerPed(-1))
		onJobPecheur = 1
	end
	if jobid == 2 then -- Pecheur Boat
		showLoadingPromtPecheur("Chargement des coordonnÃ©es GPS.", 2000, 3)
		TriggerServerEvent('SetPlateJob')
		MyVeh = GetVehiclePedIsUsing(GetPlayerPed(-1))
		onJobPecheur = 3
	end
end

function DrawMissionTextPecheur(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

function showLoadingPromtPecheur(showText, showTime, showType)
	Citizen.CreateThread(function()
		Citizen.Wait(0)
		N_0xaba17d7ce615adbf("STRING") -- set type
		AddTextComponentString(showText) -- sets the text
		N_0xbd12f8228410d9b4(showType) -- show promt (types = 3)
		Citizen.Wait(showTime) -- show time
		N_0x10d373323e5b9c0d() -- remove promt
	end)
end

function ShowInfoJobPecheur(text, state)
	SetTextComponentFormat("STRING")
	AddTextComponentString(text)
	DisplayHelpTextFromStringLabel(0, state, 0, -1)
end

nbpoissonjob = 0
nbSpoissonjob = 0
inrecoltpeche = false
intraitospeche = false
inreventepeche = false

function StopJobPecheur(jobid)
	if jobid == 1 then
		if PecheurTraitos ~= nil and DoesBlipExist(PecheurTraitos) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(PecheurTraitos))
			PecheurTraitos = nil
		end
		if PecheurRevente ~= nil and DoesBlipExist(PecheurRevente) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(PecheurRevente))
			PecheurRevente = nil
		end
		onJobPecheur = 0
		intraitospeche = false
		inreventepeche = false
		MyVeh = nil
	end
	if jobid == 2 then
		if PecheurChamps ~= nil and DoesBlipExist(PecheurChamps) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(PecheurChamps))
			PecheurChamps = nil
		end
		onJobPecheur = 0
		inrecoltpeche = false
		MyVeh = nil
	end
end


RegisterNetEvent('MyInvJobClientPecheur')
AddEventHandler('MyInvJobClientPecheur', function(result, result2)
    
    nbpoissonjob = result
	nbSpoissonjob = result2
	
end)

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if onJobPecheur == 0 then
			if (clientjobID == 38) then -- JOB Pecheur
				if IsPedSittingInAnyVehicle(GetPlayerPed(-1)) then
					if IsVehicleModel(GetVehiclePedIsUsing(GetPlayerPed(-1)), GetHashKey("benson", _r)) then
						StartJobPecheur(1)
					elseif IsVehicleModel(GetVehiclePedIsUsing(GetPlayerPed(-1)), GetHashKey("Tug", _r)) then
						StartJobPecheur(2)
					end
				end
			end
		elseif onJobPecheur == 1 then
		            -- BLIPS CHAMPS
					-- PecheurChamps = AddBlipForCoord(2683.475,2824.863,40.33266)
					-- SetBlipSprite(PecheurChamps,416)		
			        -- SetBlipColour(PecheurChamps, 1)
					-- BeginTextCommandSetBlipName("STRING")
					-- AddTextComponentString('MINE DE CUIVRE')
					-- EndTextCommandSetBlipName(PecheurChamps)
					--BLIPS TRAITEMENT
					PecheurTraitos = AddBlipForCoord(955.2039,-2108.345,30.55155)
					SetBlipSprite(PecheurTraitos,416)	
			        SetBlipColour(PecheurTraitos, 2)
					BeginTextCommandSetBlipName("STRING")
					AddTextComponentString('TRAITEMENT DE POISSONS')
					EndTextCommandSetBlipName(PecheurTraitos)
					--BLIPS REVENTE
					PecheurRevente = AddBlipForCoord(-1045.955,-1395.121,4.423808)
					SetBlipSprite(PecheurRevente,416)	
			        SetBlipColour(PecheurRevente, 3)
					BeginTextCommandSetBlipName("STRING")
					AddTextComponentString('REVENTE DE POISSONS')
					EndTextCommandSetBlipName(PecheurRevente)
					
					onJobPecheur = 2
					
		elseif onJobPecheur == 2 then
			if DoesEntityExist(MyVeh) and IsVehicleDriveable(MyVeh, 0) then
					-- if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), 2683.475,2824.863,40.33266, true) > 20.0001 then
						-- DrawMarker(1, 2683.475,2824.863,40.33266-1.1001, 0, 0, 0, 0, 0, 0, 20.0, 20.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
					    -- inrangeofchamps = false
					-- else
						-- inrangeofchamps = true
						-- if (inrecoltpeche == false) then
						    -- ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour rÃ©colter.", 0)
						-- end
					    -- if (inrecoltpeche == true) then
						    -- ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de rÃ©colter.", 0)
						-- end
					-- end
					
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), 955.2039,-2108.345,30.55155, true) > 20.0001 then
						DrawMarker(1, 955.2039,-2108.345,30.55155-1.1001, 0, 0, 0, 0, 0, 0, 20.0, 20.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
						inrangeoftraitos = false
					else
						inrangeoftraitos = true
						if (intraitospeche == false) then
					        ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour traiter.", 0)
						end
					    if (intraitospeche == true) then
						    ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de traiter.", 0)
						end
					end
					
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), -1045.955,-1395.121,4.423808, true) > 20.0001 then
						DrawMarker(1, -1045.955,-1395.121,4.423808-1.1001, 0, 0, 0, 0, 0, 0, 20.0, 20.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
						inrangeofrevente = false
					else
					    inrangeofrevente = true
					    if (inreventepeche == false) then
						    ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour vendre.", 0)
						end
					    if (inreventepeche == true) then
						    ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de vendre.", 0)
						end
					end


					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(MyVeh), true) > 50.0001 then
						StopJobPecheur(1)
					else
						
					end
			else
				StopJobPecheur(1)
			end
        elseif onJobPecheur == 3 then
		            -- BLIPS CHAMPS
					PecheurChamps = AddBlipForCoord(2435.074,-3413.254,0.6428443)
					SetBlipSprite(PecheurChamps,416)		
			        SetBlipColour(PecheurChamps, 1)
					BeginTextCommandSetBlipName("STRING")
					AddTextComponentString('ZONE DE PÃŠCHE')
					EndTextCommandSetBlipName(PecheurChamps)
					
					onJobPecheur = 4
					
		elseif onJobPecheur == 4 then
			if DoesEntityExist(MyVeh) and IsVehicleDriveable(MyVeh, 0) then
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), 2435.074,-3413.254,0.6428443, true) > 20.0001 then
						DrawMarker(1, 2435.074,-3413.254,0.6428443-1.1001, 0, 0, 0, 0, 0, 0, 20.0, 20.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
					    inrangeofchamps = false
					else
						inrangeofchamps = true
						if (inrecoltpeche == false) then
						    ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour pÃ©cher.", 0)
						end
					    if (inrecoltpeche == true) then
						    ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de pÃ©cher.", 0)
						end
					end

					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(MyVeh), true) > 50.0001 then
						StopJobPecheur(2)
					else
						
					end
			else
				StopJobPecheur(2)
			end
		end
	end
end)
	
Citizen.CreateThread(function()
	while true do
        Citizen.Wait(0)
			
			
			if (inrecoltpeche == true) then
			    if (inrangeofchamps == true) then
				
           		    if (tonumber(nbpoissonjob) >= 32) then
				    	DrawMissionTextPecheur("~h~~r~Inventaire Complet", 10000)
				    	inrecoltpeche = false
				    else
				        while (tonumber(nbpoissonjob) < 31) and (inrecoltpeche == true) and (inrangeofchamps == true) do
				        DrawMissionTextPecheur("~h~~b~PÃªche~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextPecheur("~h~~g~+1~w~ Poisson...", 1000)
				    	TriggerServerEvent('CheckPoisson', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvJobPeche')
					    Wait(1)
					    end
				    end
					
				else
				    inrecoltpeche = false
				end
			
			end
			
			if (intraitospeche == true) then
			    if (inrangeoftraitos == true) then
				
           		    if (tonumber(nbpoissonjob) <= 0) then
				    	DrawMissionTextPecheur("~h~~g~Traitement terminÃ©", 10000)
				    	intraitospeche = false
				    else
				        while (tonumber(nbpoissonjob) > 1) and (intraitospeche == true) and (inrangeoftraitos == true) do
				        DrawMissionTextPecheur("~h~~b~Traitement~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextPecheur("~h~~g~+1~w~ Poisson surgelÃ©...", 1000)
				    	TriggerServerEvent('CheckPoissonS', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvJobPeche')
					    Wait(1)
					    end
				    end
					
				else
				    intraitospeche = false
				end
			
			end
			
			if (inreventepeche == true) then
			    if (inrangeofrevente == true) then
				
           		    if (tonumber(nbSpoissonjob) <= 0) then
				    	DrawMissionTextPecheur("~h~~g~Revente terminÃ©", 10000)
				    	inreventepeche = false
				    else
				        while (tonumber(nbSpoissonjob) > 1) and (inreventepeche == true) and (inrangeofrevente == true) do
				        DrawMissionTextPecheur("~h~~b~Revente~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextPecheur("~h~Vous avez vendu ~g~1 Poisson surgelÃ©~w~...", 1000)
				    	TriggerServerEvent('CheckPoissonSVendu', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvJobPeche')
					    Wait(1)
					    end
				    end
					
				else
				    inreventepeche = false
				end
			
			end
	end
end)


Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeofchamps == true) and (clientjobID == 38) and (inrecoltpeche == false) then
           TriggerServerEvent('MyInvJobPeche')
		   inrecoltpeche = true
        elseif IsControlJustPressed(1, 38) and (inrangeofchamps == true) and (clientjobID == 38) and (inrecoltpeche == true) then
           TriggerServerEvent('MyInvJobPeche')
		   inrecoltpeche = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeoftraitos == true) and (clientjobID == 38) and (intraitospeche == false) then
           TriggerServerEvent('MyInvJobPeche')
		   intraitospeche = true
        elseif IsControlJustPressed(1, 38) and (inrangeoftraitos == true) and (clientjobID == 38) and (intraitospeche == true) then
           TriggerServerEvent('MyInvJobPeche')
		   intraitospeche = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeofrevente == true) and (clientjobID == 38) and (inreventepeche == false) then
           TriggerServerEvent('MyInvJobPeche')
		   inreventepeche = true
        elseif IsControlJustPressed(1, 38) and (inrangeofrevente == true) and (clientjobID == 38) and (inreventepeche == true) then
           TriggerServerEvent('MyInvJobPeche')
		   inreventepeche = false
        end
    end
end)



local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowPecheurBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             local Plombier = {
	opened = false,
	title = "Plombier",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}

local Plombier_locations = {
{enteringPlombier = {1916.938,581.9857,175.3675}, innutile2 = {1916.938,581.9857,175.3675}, outsidePlombier = {1937.222,594.6324,175.8658}},
}

local Plombier_blips ={}
local inrangeofPlombier = false
local inrangeofPlombier3 = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxtPlombier(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfPlombier()
return inrangeofPlombier
end

function IsPlayerInRangeOfPlombier3()
return inrangeofPlombier3
end

function ShowPlombierBlips(bool)
	if bool and #Plombier_blips == 0 then
		for station,pos in pairs(Plombier_locations) do
			local loc = pos
			pos = pos.outsidePlombier
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,446)
			SetBlipColour(blip, 3)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString("Station d'Ã©puration")
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Plombier_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #Plombier_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				local inrange3 = false
				for i,b in ipairs(Plombier_blips) do
					if (clientjobID == 36) and  GetDistanceBetweenCoords(b.pos.enteringPlombier[1],b.pos.enteringPlombier[2],b.pos.enteringPlombier[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.enteringPlombier[1],b.pos.enteringPlombier[2],b.pos.enteringPlombier[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.enteringPlombier[1],b.pos.enteringPlombier[2],b.pos.enteringPlombier[3],GetEntityCoords(LocalPed()),true) < 3 then
							ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour vous ~b~Ã©quiper~w~.", 0)
						    inrange = true
						end
					end
					if (clientjobID == 36) and IsPedInAnyVehicle(LocalPed(), true) == false and  GetDistanceBetweenCoords(b.pos.enteringPlombier[1],b.pos.enteringPlombier[2],b.pos.enteringPlombier[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,1907.223,560.1049,175.3521,0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(1907.223,560.1049,175.3521,GetEntityCoords(LocalPed()),true) < 3 then
							ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour sortir le ~b~VÃ©hicule~w~.", 0)
						    inrange3 = true
						end
					end
				end
				inrangeofPlombier = inrange
				inrangeofPlombier3 = inrange3
			end
		end)
	elseif bool == false and #Plombier_blips > 0 then
		for i,b in ipairs(Plombier_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		Plombier_blips = {}
	end
end

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofPlombier then
             
			SetPedComponentVariation(GetPlayerPed(-1), 11, 43, 0, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 4, 9, 3, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 6, 12, 6, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 5, 45, 0, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 3, 11, 0, 0)
			 
			inrangeofPlombier = false
			inrange = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofPlombier3 then
            TriggerServerEvent('CheckPlombierVehi')
			TriggerServerEvent('SetPlateJob')
			inrangeofPlombier3 = false
			inrange3 = false
        end
    end
end)

onJobPlombier = 0

plomb = {flag = {}, blip = {}, veh = {}, coords = {cx={}, cy={}, cz={}}}

function StartJobPlombier(jobid)
	if jobid == 1 then -- Plombier
		showLoadingPromtPlombier("Chargement du mÃ©tier.", 2000, 3)
		plomb.coords.cx[1],plomb.coords.cy[1],plomb.coords.cz[1] = 1069.585,-1834.079,37.46903
		plomb.coords.cx[2],plomb.coords.cy[2],plomb.coords.cz[2] = 1007.699,-1983.94,50.08153
		plomb.coords.cx[3],plomb.coords.cy[3],plomb.coords.cz[3] = -474.4988,-1686.441,28.73497
		plomb.coords.cx[4],plomb.coords.cy[4],plomb.coords.cz[4] = -1180.213,-590.9894,27.21591
		plomb.coords.cx[5],plomb.coords.cy[5],plomb.coords.cz[5] = -1163.738,-6035757,27.50574
		plomb.coords.cx[6],plomb.coords.cy[6],plomb.coords.cz[6] = 1005.728,-105.5346,73.88892
		plomb.coords.cx[7],plomb.coords.cy[7],plomb.coords.cz[7] = -428.7112,1215.418,325.7586
		plomb.coords.cx[8],plomb.coords.cy[8],plomb.coords.cz[8] = 87.05693,-344.3201,47.14479
		plomb.coords.cx[9],plomb.coords.cy[9],plomb.coords.cz[9] = 1518.739,-950.2919,65.96861
		plomb.coords.cx[10],plomb.coords.cy[10],plomb.coords.cz[10] = 112.5998,-1296.756,29.26881
		plomb.coords.cx[11],plomb.coords.cy[11],plomb.coords.cz[11] = -1386.627,-1322.041,4.150164
		plomb.coords.cx[12],plomb.coords.cy[12],plomb.coords.cz[12] = -911.796,325.1236,73.58959
		plomb.coords.cx[13],plomb.coords.cy[13],plomb.coords.cz[13] = 493.9296,-2251.64,5.917334
		plomb.coords.cx[14],plomb.coords.cy[14],plomb.coords.cz[14] = 499.4369,-2264.408,5.0928114
		plomb.coords.cx[15],plomb.coords.cy[15],plomb.coords.cz[15] = 1254.62,1570.995,78.96455
		plomb.coords.cx[16],plomb.coords.cy[16],plomb.coords.cz[16] = 1375.817,-1850.679,61.97618
		plomb.coords.cx[17],plomb.coords.cy[17],plomb.coords.cz[17] = 970.0955,-2375.045,30.50954
		plomb.coords.cx[18],plomb.coords.cy[18],plomb.coords.cz[18] = 679.6856,-2726.483,6.072203
		plomb.coords.cx[19],plomb.coords.cy[19],plomb.coords.cz[19] = 597.4569,-3277.703,6.069562
		plomb.coords.cx[20],plomb.coords.cy[20],plomb.coords.cz[20] = 443.4468,-3116.243,6.070058
		plomb.coords.cx[21],plomb.coords.cy[21],plomb.coords.cz[21] = 256.4734,-2405.924,5.819531
		plomb.coords.cx[22],plomb.coords.cy[22],plomb.coords.cz[22] = 185.2285,-2382.975,5,478405
		plomb.coords.cx[23],plomb.coords.cy[23],plomb.coords.cz[23] = -291.4597,-2396.477,5.474196
		plomb.coords.cx[24],plomb.coords.cy[24],plomb.coords.cz[24] = -127.5475,-2378.225,8.796697
		plomb.coords.cx[25],plomb.coords.cy[25],plomb.coords.cz[25] = 1020.32,-2266.561,29.98319
		plomb.coords.cx[26],plomb.coords.cy[26],plomb.coords.cz[26] = 1004.393,-1977.203,50.08153
		plomb.coords.cx[27],plomb.coords.cy[27],plomb.coords.cz[27] = 1235.095,-1090.505,30.6243
		plomb.coords.cx[28],plomb.coords.cy[28],plomb.coords.cz[28] = 827.34,-2246.511,29.39125
		plomb.coords.cx[29],plomb.coords.cy[29],plomb.coords.cz[29] = -233.6576,404.1956,110.1914
		plomb.coords.cx[30],plomb.coords.cy[30],plomb.coords.cz[30] = -91.54897,392.5086,111.9421
		plomb.coords.cx[31],plomb.coords.cy[31],plomb.coords.cz[31] = -25.17667,343.7642,112.6746
		plomb.coords.cx[32],plomb.coords.cy[32],plomb.coords.cz[32] = 391.0218,244.4531,102.3924
		plomb.coords.cx[33],plomb.coords.cy[33],plomb.coords.cz[33] = 1283.433,331.1735,81.50502
		plomb.coords.cx[34],plomb.coords.cy[34],plomb.coords.cz[34] = 86.38828,811.7228,211.1208
		plomb.coords.cx[35],plomb.coords.cy[35],plomb.coords.cz[35] = -186.3086,1555.087,322.2436
		plomb.coords.cx[36],plomb.coords.cy[36],plomb.coords.cz[36] = 868.5156,2425.665,61.94598
		plomb.coords.cx[37],plomb.coords.cy[37],plomb.coords.cz[37] = 1582.513,2592.489,56.15945
		plomb.coords.cx[38],plomb.coords.cy[38],plomb.coords.cz[38] = 1577.263,3363.819,42.12655
		plomb.coords.cx[39],plomb.coords.cy[39],plomb.coords.cz[39] = 2484.769,2601.952,50.84436
		plomb.coords.cx[40],plomb.coords.cy[40],plomb.coords.cz[40] = 2513.946,2574.787,38.29372
		plomb.coords.cx[41],plomb.coords.cy[41],plomb.coords.cz[41] = 2530.619,2569.13,38.93805
		plomb.coords.cx[42],plomb.coords.cy[42],plomb.coords.cz[42] = 2830.459,1596.466,24.66506
		plomb.coords.cx[43],plomb.coords.cy[43],plomb.coords.cz[43] = 2659.404,1374.546,23.5219
		plomb.coords.cx[44],plomb.coords.cy[44],plomb.coords.cz[44] = 2666.905,1447.678,20.82229
		plomb.coords.cx[45],plomb.coords.cy[45],plomb.coords.cz[45] = 2675.428,1558.771,23.97288
		plomb.coords.cx[46],plomb.coords.cy[46],plomb.coords.cz[46] = 1489.618,1144.503,114.4487
		plomb.coords.cx[47],plomb.coords.cy[47],plomb.coords.cz[47] = 820.1467,2157.311,52.30332
		plomb.coords.cx[48],plomb.coords.cy[48],plomb.coords.cz[48] = 374.3919,-327.8013,46.15176
		plomb.coords.cx[49],plomb.coords.cy[49],plomb.coords.cz[49] = 151.0724,-1053.078,28.68748
		plomb.coords.cx[50],plomb.coords.cy[50],plomb.coords.cz[50] = 67.4942,-1410.958,28.69158
		plomb.coords.cx[51],plomb.coords.cy[51],plomb.coords.cz[51] = -2.374301,-2081.522,9.665778
		plomb.coords.cx[52],plomb.coords.cy[52],plomb.coords.cz[52] = -14.0223,-2167.448,12.04589
		plomb.coords.cx[53],plomb.coords.cy[53],plomb.coords.cz[53] = -36.83502,-2171.412,7.338432
		plomb.coords.cx[54],plomb.coords.cy[54],plomb.coords.cz[54] = 41.32465,-2198.576,1.029796
		plomb.coords.cx[55],plomb.coords.cy[55],plomb.coords.cz[55] = -800.2848,-2125.438,8.433522
		plomb.coords.cx[56],plomb.coords.cy[56],plomb.coords.cz[56] = -607.436,-1664.823,20.00957
		plomb.coords.cx[57],plomb.coords.cy[57],plomb.coords.cz[57] = -619.0884,-1677.896,19.9955
		plomb.veh[1] = GetVehiclePedIsUsing(GetPlayerPed(-1))
		plomb.flag[1] = 1
		plomb.flag[2] = 54+GetRandomIntInRange(1, 56)
		Wait(2000)
		DrawMissionTextPlombier("Conduisez et allez rÃ©parer des ~h~~y~dÃ©gats des eaux~w~.", 10000)
		onJobPlombier = 1
	end
end

function DrawMissionTextPlombier(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

function showLoadingPromtPlombier(showText, showTime, showType)
	Citizen.CreateThread(function()
		Citizen.Wait(0)
		N_0xaba17d7ce615adbf("STRING") -- set type
		AddTextComponentString(showText) -- sets the text
		N_0xbd12f8228410d9b4(showType) -- show promt (types = 3)
		Citizen.Wait(showTime) -- show time
		N_0x10d373323e5b9c0d() -- remove promt
	end)
end


function StopJobPlombier(jobid)
	if jobid == 1 then
		if plomb.blip[1] ~= nil and DoesBlipExist(plomb.blip[1]) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(plomb.blip[1]))
			plomb.blip[1] = nil
		end
		onJobPlombier = 0
		plomb.veh[1] = nil
		plomb.flag[1] = nil
		plomb.flag[2] = nil
	end
end

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if onJobPlombier == 0 then
			if (clientjobID == 36) then -- JOB Plombier
				if IsPedSittingInAnyVehicle(GetPlayerPed(-1)) then
					if IsVehicleModel(GetVehiclePedIsUsing(GetPlayerPed(-1)), GetHashKey("burrito", _r)) then
						StartJobPlombier(1)
					end
				end
			end
		elseif onJobPlombier == 1 then
			if DoesEntityExist(plomb.veh[1]) and IsVehicleDriveable(plomb.veh[1], 0) then

					if plomb.flag[1] == 1 then
						plomb.flag[2] = GetRandomIntInRange(1, 57)
						plomb.blip[1] = AddBlipForCoord(plomb.coords.cx[plomb.flag[2]],plomb.coords.cy[plomb.flag[2]],plomb.coords.cz[plomb.flag[2]])
						N_0x80ead8e2e1d5d52e(plomb.blip[1])
						SetBlipRoute(plomb.blip[1], 1)
						plomb.flag[1] = 2						
					end
					if plomb.flag[1] == 2 then
						if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), plomb.coords.cx[plomb.flag[2]],plomb.coords.cy[plomb.flag[2]],plomb.coords.cz[plomb.flag[2]], true) > 2.0001 then
									DrawMarker(1, plomb.coords.cx[plomb.flag[2]],plomb.coords.cy[plomb.flag[2]],plomb.coords.cz[plomb.flag[2]]-1.0001, 0, 0, 0, 0, 0, 0, 2.0, 2.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
						else
							if plomb.blip[1] ~= nil and DoesBlipExist(plomb.blip[1]) then
										Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(plomb.blip[1]))
										plomb.blip[1] = nil
							end
						if IsPedInAnyVehicle(LocalPed(), true) == false then
							ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour ~b~RÃ©parer~w~.", 0)
							if IsControlJustPressed(1,38) then
							
							    TaskStartScenarioInPlace(GetPlayerPed(-1), "WORLD_HUMAN_HAMMERING", 0, 1)
								PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
								DrawMissionTextPlombier("~h~~b~RÃ©paration~w~ en cours....", 10000)
								Citizen.Wait(10000)
								ClearPedTasksImmediately(GetPlayerPed(-1))
						
								DrawMissionTextPlombier("~h~Vous avez ~g~rÃ©parÃ©~w~ avec succÃ¨s!", 5000)
								TriggerServerEvent('CheckTuyaux')
								plomb.flag[1] = 1
								plomb.flag[2] = 54+GetRandomIntInRange(1, 56)
							end
						end
						end
					end

					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(plomb.veh[1]), true) > 50.0001 then
						StopJobPlombier(1)
					else
						
					end

			else
				StopJobPlombier(1)
				DrawMissionTextPlombier("Votre Camion est ~h~~r~hors-service~w~.", 5000)
			end
		end
	end
end)



local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowPlombierBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              local poleemploi = {
	opened = false,
	title = "PÃ´le emploi",
	currentmenu = "main2",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.9,
		y = 0.20,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main2"] = { 
			title = "CATEGORIES", 
			name = "main2",
			buttons = { 
				{name = "Sans Ã©tudes", description = ""},
				{name = "Avec DiplÃ´mes(SOON)", description = ""},
			}
		},
		["sansetude"] = { 
			title = "Sans etudes", 
			name = "sansetude",
			buttons = {
			}
		},
		["avecetude"] = { 
			title = "Avec Diplomes", 
			name = "avecetude",
			buttons = { 
				{name = "Vigneron (SOON)", costs = 0, description = {}, model = "Vigneron"},
				{name = "Joaillier (SOON)", costs = 0, description = {}, model = "Joaillier"},
				{name = "Pompiste (SOON)", costs = 0, description = {}, model = "Pompiste"},
			}
		},
	}
}


RegisterNetEvent('PoleEmploiAddButton')
AddEventHandler('PoleEmploiAddButton', function(tablejob)
	
    local a = tablejob
	
	poleemploi.menu["sansetude"].buttons = {}

	local i = 1
	while a[i] do
		
	namejobclient = a[i]['name_job']
	jobidjobclient = a[i]['job_id']
	posxclient = a[i]['x']
	posyclient = a[i]['y']
	poszclient = a[i]['z']

    table.insert(poleemploi.menu["sansetude"].buttons, {name = namejobclient, description = "", jobid = jobidjobclient, posx = posxclient, posy = posyclient, posz = poszclient})

	i = i + 1
	end

end)


RegisterNetEvent('PoleEmploiAddButton2')
AddEventHandler('PoleEmploiAddButton2', function()

	poleemploi.currentmenu = "sansetude"
	poleemploi.opened = true
	poleemploi.selectedbutton = 0
	
end)


local fakecar = {model = '', car = nil}
local poleemploi_locations = {
{insidejob = {-266.5083,-960.6709,30.22313}},
}

local poleemploi_blips ={}
local inrangeofpoleemploi = false
local currentlocation = nil
local boughtcloth = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfpoleemploi()
return inrangeofpoleemploi
end

function ShowpoleemploiBlips(bool)
	if bool and #poleemploi_blips == 0 then
		for station,pos in pairs(poleemploi_locations) do
			local loc = pos
			pos = pos.insidejob
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,407)		
			SetBlipColour(blip, 15)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('PÃ´le Emploi')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(poleemploi_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #poleemploi_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(poleemploi_blips) do
					if poleemploi.opened == false and  GetDistanceBetweenCoords(b.pos.insidejob[1],b.pos.insidejob[2],b.pos.insidejob[3],GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(1,b.pos.insidejob[1],b.pos.insidejob[2],b.pos.insidejob[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.insidejob[1],b.pos.insidejob[2],b.pos.insidejob[3],GetEntityCoords(LocalPed()),true) < 5 then
						Show("Appuyez sur ~INPUT_CONTEXT~ pour choisir un ~b~mÃ©tier.")
						-- drawTxt('Appuyez sur ~g~ENTRER~s~ pour choisir un ~b~Job',0,1,0.5,0.8,0.6,255,255,255,255)
						inrange = true
						end
					end
					if GetDistanceBetweenCoords(b.pos.insidejob[1],b.pos.insidejob[2],b.pos.insidejob[3],GetEntityCoords(LocalPed()),true) > 5 then
						poleemploi.opened = false
						inrange = false
					end
				end
				inrangeofpoleemploi = inrange
			end
		end)
	elseif bool == false and #poleemploi_blips > 0 then
		for i,b in ipairs(poleemploi_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		poleemploi_blips = {}
	end
end

function fi(n)
return n + 0.0001
end

function LocalPed()
return GetPlayerPed(-1)
end

function trycloth(fi, catch_f)
local status, exception = pcall(fi)
if not status then
catch_f(exception)
end
end
function firstToUpperCloth(str)
    return (str:gsub("^%l", string.upper))
end
--local veh = nil
function OpenCreatorPoleEmploi()		
	boughtcloth = false
	local ped = LocalPed()
	local pos = currentlocation.pos.insidejob
	local g = Citizen.InvokeNative(0xC906A7DAB05C8D2B,pos[1],pos[2],pos[3],Citizen.PointerValueFloat(),0)
	poleemploi.currentmenu = "main2"
	poleemploi.opened = true
	poleemploi.selectedbutton = 0
end
local cloth_price = 0
function CloseCreatorPoleEmploi()
	Citizen.CreateThread(function()
		local ped = LocalPed()
		if not boughtcloth then
			local pos = currentlocation.pos.insidejob
			FreezeEntityPosition(ped,false)
			SetEntityVisible(ped,true)
		else
			local model = GetEntityModel(cloth)

			Citizen.InvokeNative(0xEA386986E786A54F, Citizen.PointerValueIntInitialized(cloth))
			local pos = currentlocation.pos.insidejob

			FreezeEntityPosition(ped,false)
			RequestModel(model)
			while not HasModelLoaded(model) do
				Citizen.Wait(0)
			end
			SetModelAsNoLongerNeeded(model)
			SetClothHasBeenOwnedByPlayer(skin,true)
			local id = NetworkGetNetworkIdFromEntity(skin)
			SetNetworkIdCanMigrate(id, true)
			Citizen.InvokeNative(0x629BFA74418D6239,Citizen.PointerValueIntInitialized(skin))
			SetEntityVisible(ped,true)
			FreezeEntityPosition(ped,false)
			TriggerEvent('BoughtPv',skin)			
		end
		poleemploi.opened = false
		poleemploi.menu.from = 1
		poleemploi.menu.to = 10
	end)
end
	
function drawMenuButton(button,x,y,selected)
	local menu = poleemploi.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = poleemploi.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = poleemploi.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitlePole(txt,x,y)
local menu = poleemploi.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end
function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function NotifyPoleEmploi(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

function DoesPlayerHaveJob(model,button,y,selected)
		local t = false
		--TODO:check if player own car
		if t then
			drawMenuRight("OWNED",poleemploi.menu.x,y,selected)
		else
			drawMenuRight(button.costs.."$",poleemploi.menu.x,y,selected)
		end
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfpoleemploi() then
			if poleemploi.opened then
				CloseCreatorPoleEmploi()
			else
				OpenCreatorPoleEmploi()
				clearPed()
			end
		end
		if poleemploi.opened then
			local ped = LocalPed()
			local menu = poleemploi.menu[poleemploi.currentmenu]
			drawTxt(poleemploi.title,1,1,poleemploi.menu.x,poleemploi.menu.y,1.0, 255,255,255,255)
			drawMenuTitlePole(menu.title, poleemploi.menu.x,poleemploi.menu.y + 0.08)
			drawTxt(poleemploi.selectedbutton.."/"..tablelength(menu.buttons),0,0,poleemploi.menu.x + poleemploi.menu.width/2 - 0.0385,poleemploi.menu.y + 0.067,0.4, 255,255,255,255)
			local y = poleemploi.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= poleemploi.menu.from and i <= poleemploi.menu.to then
					
					if i == poleemploi.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,poleemploi.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedPoleEmploi(button)
					end
				end
			end	
		end
		if poleemploi.opened then
			if IsControlJustPressed(1,202) then
				BackJob()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if poleemploi.selectedbutton > 1 then
					poleemploi.selectedbutton = poleemploi.selectedbutton -1
					if buttoncount > 10 and poleemploi.selectedbutton < poleemploi.menu.from then
						poleemploi.menu.from = poleemploi.menu.from -1
						poleemploi.menu.to = poleemploi.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if poleemploi.selectedbutton < buttoncount then
					poleemploi.selectedbutton = poleemploi.selectedbutton +1
					if buttoncount > 10 and poleemploi.selectedbutton > poleemploi.menu.to then
						poleemploi.menu.to = poleemploi.menu.to + 1
						poleemploi.menu.from = poleemploi.menu.from + 1
					end
				end	
			end
		end
		
	end
end)


function roundPoleEmploi(num1, idp2)
  if idp2 and idp2>0 then
    local mult = 10^idp2
    return math.floor(num1 * mult + 0.5) / mult
  end
  return math.floor(num1 + 0.5)
end
function ButtonSelectedPoleEmploi(button)
	local ped = GetPlayerPed(-1)
	local this = poleemploi.currentmenu
	local btn = button.name
	if this == "main2" then
		if btn == "Sans Ã©tudes" then
			TriggerServerEvent('PoleEmploi')
		elseif btn == "Avec DiplÃ´mes" then
			OpenMenuJob('avecetude')
		end
	elseif this == "sansetude" or this == "avecetude" then
		TriggerServerEvent('CheckJobForPlayer',button.name,button.jobid,button.posx,button.posy,button.posz)
		poleemploi.opened = false
		poleemploi.menu.from = 1
		poleemploi.menu.to = 10
	end
end

local polegoto = 0

RegisterNetEvent('GiveCoord')
AddEventHandler('GiveCoord', function(posx, posy, posz)
    polegoto = 1
	coordpolex = tonumber(posx)
	coordpoley = tonumber(posy)
	coordpolez = tonumber(posz)
    ShowNotificationMenuCivil2("~h~CoordonnÃ©es de votre nouvelle ~b~Entreprise~w~ envoyÃ©es sur votre GPS.")
end)


Citizen.CreateThread(function()
	while true do
	Wait(0)
		if (polegoto == 1) then
			    blipentreprise = AddBlipForCoord(coordpolex, coordpoley, coordpolez)
				N_0x80ead8e2e1d5d52e(blipentreprise)			
				SetBlipRoute(blipentreprise, 1)
				polegoto = 2
		end
		if polegoto == 2 then
				if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), coordpolex, coordpoley, coordpolez, true) > 4.0001 then
					DrawMarker(1, coordpolex, coordpoley, coordpolez-1.0001, 0, 0, 0, 0, 0, 0, 4.0, 4.0, 2.0, 11, 80, 169, 255, 0, 0, 1, 0, 0, 0, 0)
				else
					if blipentreprise ~= nil and DoesBlipExist(blipentreprise) then
						Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(blipentreprise))
						blipentreprise = nil
						polegoto = 0
					end
				end	
		end
	end
end)

RegisterNetEvent('FinishCheckJobForPlayer')
AddEventHandler('FinishCheckJobForPlayer', function(button)
	boughtcloth = true
	CloseCreatorPoleEmploi()
	poleemploi.opened = false
	poleemploi.menu.from = 1
	poleemploi.menu.to = 10
	
end)

function OpenMenuJob(menu)
	poleemploi.lastmenu = poleemploi.currentmenu
	if menu == "sansetude" then
		poleemploi.lastmenu = "main2"
	elseif menu == "avecetude"  then
		poleemploi.lastmenu = "main2"
	elseif menu == 'race_create_objects' then
		poleemploi.lastmenu = "main2"
	elseif menu == "race_create_objects_spawn" then
		poleemploi.lastmenu = "race_create_objects"
	end
	poleemploi.menu.from = 1
	poleemploi.menu.to = 10
	poleemploi.selectedbutton = 0
	poleemploi.currentmenu = menu	
end


function BackJob()
	if backlock then
		return
	end
	backlock = true
	if poleemploi.currentmenu == "main2" then
		CloseCreatorPoleEmploi()
		poleemploi.opened = false
		poleemploi.menu.from = 1
		poleemploi.menu.to = 10
	elseif poleemploi.currentmenu == "sansetude" or poleemploi.currentmenu == "avecetude" then
		OpenMenuJob('main2')
	else
		OpenMenuJob(poleemploi.lastmenu)
	end
	
end

function stringstartsJob(String1,Start2)
   return string.sub(String1,1,string.len(Start2))==Start2
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowpoleemploiBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             onJob = 0

jobs = {peds = {}, flag = {}, blip = {}, cars = {}, coords = {cx={}, cy={}, cz={}}}

function StartJob(jobid)
	if jobid == 1 then -- taxi
		showLoadingPromt("Chargement du mÃ©tier.", 2000, 3)
		jobs.coords.cx[1],jobs.coords.cy[1],jobs.coords.cz[1] = 293.476,-590.163,42.7371
		jobs.coords.cx[2],jobs.coords.cy[2],jobs.coords.cz[2] = 253.404,-375.86,44.0819
		jobs.coords.cx[3],jobs.coords.cy[3],jobs.coords.cz[3] = 120.808,-300.416,45.1399
		jobs.coords.cx[4],jobs.coords.cy[4],jobs.coords.cz[4] = -38.4132,-381.576,38.3456
		jobs.coords.cx[5],jobs.coords.cy[5],jobs.coords.cz[5] = -107.442,-614.377,35.6703
		jobs.coords.cx[6],jobs.coords.cy[6],jobs.coords.cz[6] = -252.292,-856.474,30.5626
		jobs.coords.cx[7],jobs.coords.cy[7],jobs.coords.cz[7] = -236.138,-988.382,28.7749
		jobs.coords.cx[8],jobs.coords.cy[8],jobs.coords.cz[8] = -276.989,-1061.18,25.6853
		jobs.coords.cx[9],jobs.coords.cy[9],jobs.coords.cz[9] = -576.451,-998.989,21.785
		jobs.coords.cx[10],jobs.coords.cy[10],jobs.coords.cz[10] = -602.798,-952.63,21.6353
		jobs.coords.cx[11],jobs.coords.cy[11],jobs.coords.cz[11] = -790.653,-961.855,14.8932
		jobs.coords.cx[12],jobs.coords.cy[12],jobs.coords.cz[12] = -912.588,-864.756,15.0057
		jobs.coords.cx[13],jobs.coords.cy[13],jobs.coords.cz[13] = -1069.77,-792.513,18.8075
		jobs.coords.cx[14],jobs.coords.cy[14],jobs.coords.cz[14] = -1306.94,-854.085,15.0959
		jobs.coords.cx[15],jobs.coords.cy[15],jobs.coords.cz[15] = -1468.51,-681.363,26.178
		jobs.coords.cx[16],jobs.coords.cy[16],jobs.coords.cz[16] = -1380.89,-452.7,34.0843
		jobs.coords.cx[17],jobs.coords.cy[17],jobs.coords.cz[17] = -1326.35,-394.81,36.0632
		jobs.coords.cx[18],jobs.coords.cy[18],jobs.coords.cz[18] = -1383.68,-269.985,42.4878
		jobs.coords.cx[19],jobs.coords.cy[19],jobs.coords.cz[19] = -1679.61,-457.339,39.4048
		jobs.coords.cx[20],jobs.coords.cy[20],jobs.coords.cz[20] = -1812.45,-416.917,43.6734
		jobs.coords.cx[21],jobs.coords.cy[21],jobs.coords.cz[21] = -2043.64,-268.291,22.9927
		jobs.coords.cx[22],jobs.coords.cy[22],jobs.coords.cz[22] = -2186.45,-421.595,12.6776
		jobs.coords.cx[23],jobs.coords.cy[23],jobs.coords.cz[23] = -1862.08,-586.528,11.1747
		jobs.coords.cx[24],jobs.coords.cy[24],jobs.coords.cz[24] = -1859.5,-617.563,10.8788
		jobs.coords.cx[25],jobs.coords.cy[25],jobs.coords.cz[25] = -1634.95,-988.302,12.6241
		jobs.coords.cx[26],jobs.coords.cy[26],jobs.coords.cz[26] = -1283.99,-1154.16,5.30998
		jobs.coords.cx[27],jobs.coords.cy[27],jobs.coords.cz[27] = -1126.47,-1338.08,4.63434
		jobs.coords.cx[28],jobs.coords.cy[28],jobs.coords.cz[28] = -867.907,-1159.67,5.00795
		jobs.coords.cx[29],jobs.coords.cy[29],jobs.coords.cz[29] = -847.55,-1141.38,6.27591
		jobs.coords.cx[30],jobs.coords.cy[30],jobs.coords.cz[30] = -722.625,-1144.6,10.2176
		jobs.coords.cx[31],jobs.coords.cy[31],jobs.coords.cz[31] = -575.503,-318.446,34.5273
		jobs.coords.cx[32],jobs.coords.cy[32],jobs.coords.cz[32] = -592.309,-224.853,36.1209
		jobs.coords.cx[33],jobs.coords.cy[33],jobs.coords.cz[33] = -559.594,-162.873,37.7547
		jobs.coords.cx[34],jobs.coords.cy[34],jobs.coords.cz[34] = -534.992,-65.6695,40.634
		jobs.coords.cx[35],jobs.coords.cy[35],jobs.coords.cz[35] = -758.234,-36.6906,37.2911
		jobs.coords.cx[36],jobs.coords.cy[36],jobs.coords.cz[36] = -1375.88,20.9516,53.2255
		jobs.coords.cx[37],jobs.coords.cy[37],jobs.coords.cz[37] = -1320.25,-128.018,48.097
		jobs.coords.cx[38],jobs.coords.cy[38],jobs.coords.cz[38] = -1285.71,294.287,64.4619
		jobs.coords.cx[39],jobs.coords.cy[39],jobs.coords.cz[39] = -1245.67,386.533,75.0908
		jobs.coords.cx[40],jobs.coords.cy[40],jobs.coords.cz[40] = -760.355,285.015,85.0667
		jobs.coords.cx[41],jobs.coords.cy[41],jobs.coords.cz[41] = -626.786,254.146,81.0964
		jobs.coords.cx[42],jobs.coords.cy[42],jobs.coords.cz[42] = -563.609,267.962,82.5116
		jobs.coords.cx[43],jobs.coords.cy[43],jobs.coords.cz[43] = -486.806,271.977,82.8187
		jobs.coords.cx[44],jobs.coords.cy[44],jobs.coords.cz[44] = 88.295,250.867,108.188
		jobs.coords.cx[45],jobs.coords.cy[45],jobs.coords.cz[45] = 234.087,344.678,105.018
		jobs.coords.cx[46],jobs.coords.cy[46],jobs.coords.cz[46] = 434.963,96.707,99.1713
		jobs.coords.cx[47],jobs.coords.cy[47],jobs.coords.cz[47] = 482.617,-142.533,58.1936
		jobs.coords.cx[48],jobs.coords.cy[48],jobs.coords.cz[48] = 762.651,-786.55,25.8915
		jobs.coords.cx[49],jobs.coords.cy[49],jobs.coords.cz[49] = 809.06,-1290.8,25.7946
		jobs.coords.cx[50],jobs.coords.cy[50],jobs.coords.cz[50] = 490.819,-1751.37,28.0987
		jobs.coords.cx[51],jobs.coords.cy[51],jobs.coords.cz[51] = 432.351,-1856.11,27.0352
		jobs.coords.cx[52],jobs.coords.cy[52],jobs.coords.cz[52] = 164.348,-1734.54,28.8982
		jobs.coords.cx[53],jobs.coords.cy[53],jobs.coords.cz[53] = -57.6909,-1501.4,31.1084
		jobs.coords.cx[54],jobs.coords.cy[54],jobs.coords.cz[54] = 52.2241,-1566.65,29.006
		jobs.coords.cx[55],jobs.coords.cy[55],jobs.coords.cz[55] = 310.222,-1376.76,31.4442
		jobs.coords.cx[56],jobs.coords.cy[56],jobs.coords.cz[56] = 181.967,-1332.79,28.8773
		jobs.coords.cx[57],jobs.coords.cy[57],jobs.coords.cz[57] = -74.6091,-1100.64,25.738
		jobs.coords.cx[58],jobs.coords.cy[58],jobs.coords.cz[58] = -887.045,-2187.46,8.13248
		jobs.coords.cx[59],jobs.coords.cy[59],jobs.coords.cz[59] = -749.584,-2296.59,12.4627
		jobs.coords.cx[60],jobs.coords.cy[60],jobs.coords.cz[60] = -1064.83,-2560.66,19.6811
		jobs.coords.cx[61],jobs.coords.cy[61],jobs.coords.cz[61] = -1033.44,-2730.24,19.6868
		jobs.coords.cx[62],jobs.coords.cy[62],jobs.coords.cz[62] = -1018.67,-2732,13.2687
		jobs.cars[1] = GetVehiclePedIsUsing(GetPlayerPed(-1))
		jobs.flag[1] = 0
		jobs.flag[2] = 59+GetRandomIntInRange(1, 61)
		Wait(2000)
		DrawMissionTextTaxi("Conduisez et cherchez des ~h~~y~clients~w~.", 10000)
		onJob = jobid
	end
end

function drawTxtTaxi(x,y ,width,height,scale, text, r,g,b,a)
    SetTextFont(0)
    SetTextProportional(0)
    SetTextScale(scale, scale)
    SetTextColour(r, g, b, a)
    SetTextDropShadow(0, 0, 0, 0,255)
    SetTextEdge(1, 0, 0, 0, 255)
    SetTextDropShadow()
    SetTextOutline()
    SetTextEntry("STRING")
    AddTextComponentString(text)
    DrawText(x - width/2, y - height/2 + 0.005)
end

function DrawMissionTextTaxi(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

function showLoadingPromt(showText, showTime, showType)
	Citizen.CreateThread(function()
		Citizen.Wait(0)
		N_0xaba17d7ce615adbf("STRING") -- set type
		AddTextComponentString(showText) -- sets the text
		N_0xbd12f8228410d9b4(showType) -- show promt (types = 3)
		Citizen.Wait(showTime) -- show time
		N_0x10d373323e5b9c0d() -- remove promt
	end)
end

function StopJob(jobid)
	if jobid == 1 then
		if DoesEntityExist(jobs.peds[1]) then
			local pedb = GetBlipFromEntity(jobs.peds[1])
			if pedb ~= nil and DoesBlipExist(pedb) then
				SetBlipSprite(pedb, 2)
				SetBlipDisplay(pedb, 3)
			end
			ClearPedTasksImmediately(jobs.peds[1])
			if DoesEntityExist(jobs.cars[1]) and IsVehicleDriveable(jobs.cars[1], 0) then
				if IsPedSittingInVehicle(jobs.peds[1], jobs.cars[1]) then
					TaskLeaveVehicle(jobs.peds[1], jobs.cars[1], 0)
				end
			end
			Citizen.InvokeNative(0xB736A491E64A32CF,Citizen.PointerValueIntInitialized(jobs.peds[1]))
		end
		if jobs.blip[1] ~= nil and DoesBlipExist(jobs.blip[1]) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(jobs.blip[1]))
			jobs.blip[1] = nil
		end
		onJob = 0
		jobs.cars[1] = nil
		jobs.peds[1] = nil
		jobs.flag[1] = nil
		jobs.flag[2] = nil
	end
end

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if onJob == 0 then
			if (clientjobID == 30) then -- JOB TAXI
				if IsPedSittingInAnyVehicle(GetPlayerPed(-1)) then
					if IsVehicleModel(GetVehiclePedIsUsing(GetPlayerPed(-1)), GetHashKey("taxi", _r)) then
						StartJob(1)
					end
				end
			end
		elseif onJob == 1 then
			if DoesEntityExist(jobs.cars[1]) and IsVehicleDriveable(jobs.cars[1], 0) then
				if IsPedSittingInVehicle(GetPlayerPed(-1), jobs.cars[1]) then
					if DoesEntityExist(jobs.peds[1]) then
						if IsPedFatallyInjured(jobs.peds[1]) then
							Citizen.InvokeNative(0xB736A491E64A32CF,Citizen.PointerValueIntInitialized(jobs.peds[1]))
							local pedb = GetBlipFromEntity(jobs.peds[1])
							if pedb ~= nil and DoesBlipExist(pedb) then
								SetBlipSprite(pedb, 2)
								SetBlipDisplay(pedb, 3)
							end
							jobs.peds[1] = nil
							jobs.flag[1] = 0
							jobs.flag[2] = 59+GetRandomIntInRange(1, 61)
							if jobs.blip[1] ~= nil and DoesBlipExist(jobs.blip[1]) then
								Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(jobs.blip[1]))
								jobs.blip[1] = nil
							end
							DrawMissionTextTaxi("Votre client est ~r~mort~w~. Trouvez-en un autre.", 5000)
						else
							if jobs.flag[1] == 1 and jobs.flag[2] > 0 then
								Wait(1000)
								jobs.flag[2] = jobs.flag[2]-1
								if jobs.flag[2] == 0 then
									local pedb = GetBlipFromEntity(jobs.peds[1])
									if pedb ~= nil and DoesBlipExist(pedb) then
										SetBlipSprite(pedb, 2)
										SetBlipDisplay(pedb, 3)
									end
									ClearPedTasksImmediately(jobs.peds[1])
									Citizen.InvokeNative(0xB736A491E64A32CF,Citizen.PointerValueIntInitialized(jobs.peds[1]))
									jobs.peds[1] = nil
									DrawMissionTextTaxi("Le client a ~r~attendu trop longtemps~w~. Trouvez-en un autre.", 5000)
									jobs.flag[1] = 0
									jobs.flag[2] = 59+GetRandomIntInRange(1, 61)
								else
									if IsPedSittingInVehicle(GetPlayerPed(-1), jobs.cars[1]) then
										if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(jobs.peds[1]), true) < 8.0001 then
											local offs = GetOffsetFromEntityInWorldCoords(GetVehiclePedIsUsing(GetPlayerPed(-1)), 1.5, 0.0, 0.0)
											local offs2 = GetOffsetFromEntityInWorldCoords(GetVehiclePedIsUsing(GetPlayerPed(-1)), -1.5, 0.0, 0.0)
											if GetDistanceBetweenCoords(offs['x'], offs['y'], offs['z'], GetEntityCoords(jobs.peds[1]), true) < GetDistanceBetweenCoords(offs2['x'], offs2['y'], offs2['z'], GetEntityCoords(jobs.peds[1]), true) then
												TaskEnterVehicle(jobs.peds[1], jobs.cars[1], -1, 2, 2.0001, 1)
											else
												TaskEnterVehicle(jobs.peds[1], jobs.cars[1], -1, 1, 2.0001, 1)
											end
											jobs.flag[1] = 2
											jobs.flag[2] = 30
										end
									end
								end
							end
							if jobs.flag[1] == 2 and jobs.flag[2] > 0 then
								Wait(1000)
								jobs.flag[2] = jobs.flag[2]-1
								if jobs.flag[2] == 0 then
									local pedb = GetBlipFromEntity(jobs.peds[1])
									if pedb ~= nil and DoesBlipExist(pedb) then
										SetBlipSprite(pedb, 2)
										SetBlipDisplay(pedb, 3)
									end
									ClearPedTasksImmediately(jobs.peds[1])
									Citizen.InvokeNative(0xB736A491E64A32CF,Citizen.PointerValueIntInitialized(jobs.peds[1]))
									jobs.peds[1] = nil
									DrawMissionTextTaxi("~r~Le client est partit~w~.  Trouvez-en un autre.", 5000)
									jobs.flag[1] = 0
									jobs.flag[2] = 59+GetRandomIntInRange(1, 61)
								else
									if IsPedSittingInVehicle(jobs.peds[1], jobs.cars[1]) then
										local pedb = GetBlipFromEntity(jobs.peds[1])
										if pedb ~= nil and DoesBlipExist(pedb) then
											SetBlipSprite(pedb, 2)
											SetBlipDisplay(pedb, 3)
										end
										jobs.flag[1] = 3
										jobs.flag[2] = GetRandomIntInRange(1, 62)
										local street = table.pack(GetStreetNameAtCoord(jobs.coords.cx[jobs.flag[2]],jobs.coords.cy[jobs.flag[2]],jobs.coords.cz[jobs.flag[2]]))
										if street[2] ~= 0 and street[2] ~= nil then
											local streetname = string.format("~c~Emmenez moi rue %s, dans le quartier %s", GetStreetNameFromHashKey(street[1]),GetStreetNameFromHashKey(street[2]))
											DrawMissionTextTaxi(streetname, 5000)
										else
											local streetname = string.format("~c~Emmenez moi rue %s", GetStreetNameFromHashKey(street[1]))
											DrawMissionTextTaxi(streetname, 5000)
										end
										jobs.blip[1] = AddBlipForCoord(jobs.coords.cx[jobs.flag[2]],jobs.coords.cy[jobs.flag[2]],jobs.coords.cz[jobs.flag[2]])
										AddTextComponentString(GetStreetNameFromHashKey(street[1]))
										N_0x80ead8e2e1d5d52e(jobs.blip[1])
										SetBlipRoute(jobs.blip[1], 1)
									end
								end
							end
							if jobs.flag[1] == 3 then
								if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), jobs.coords.cx[jobs.flag[2]],jobs.coords.cy[jobs.flag[2]],jobs.coords.cz[jobs.flag[2]], true) > 4.0001 then
									DrawMarker(1, jobs.coords.cx[jobs.flag[2]],jobs.coords.cy[jobs.flag[2]],jobs.coords.cz[jobs.flag[2]]-1.0001, 0, 0, 0, 0, 0, 0, 4.0, 4.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
								else
									if jobs.blip[1] ~= nil and DoesBlipExist(jobs.blip[1]) then
										Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(jobs.blip[1]))
										jobs.blip[1] = nil
									end
									ClearPedTasksImmediately(jobs.peds[1])
									TaskLeaveVehicle(jobs.peds[1], jobs.cars[1], 0)
									Citizen.InvokeNative(0xB736A491E64A32CF,Citizen.PointerValueIntInitialized(jobs.peds[1]))
									jobs.peds[1] = nil
									Wait(3000)
									DrawMissionTextTaxi("~g~Vous avez bien dÃ©posÃ© le client!", 5000)
									taxivalue = GetRandomIntInRange(200, 800)
									TriggerServerEvent('CheckTaxiIA', taxivalue)
									Wait(6000)
									DrawMissionTextTaxi("Conduisez et cherchez des ~h~~y~clients~w~.", 10000)
									jobs.flag[1] = 0
									jobs.flag[2] = 59+GetRandomIntInRange(1, 61)
								end
							end
						end
					else
						if jobs.flag[1] > 0 then
							jobs.flag[1] = 0
							jobs.flag[2] = 59+GetRandomIntInRange(1, 61)
							DrawMissionTextTaxi("Conduisez et cherchez des ~h~~y~clients~w~.", 10000)
							if jobs.blip[1] ~= nil and DoesBlipExist(jobs.blip[1]) then
								Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(jobs.blip[1]))
								jobs.blip[1] = nil
							end
						end
						if jobs.flag[1] == 0 and jobs.flag[2] > 0 then
							Wait(500)
							jobs.flag[2] = jobs.flag[2]-1
							-- jobs.flag[2] = 0
							if jobs.flag[2] == 0 then
								local pos = GetEntityCoords(GetPlayerPed(-1))
								local rped = GetRandomPedAtCoord(pos['x'], pos['y'], pos['z'], 35.001, 35.001, 35.001, 6, _r)
								if DoesEntityExist(rped) then
									jobs.peds[1] = rped
									jobs.flag[1] = 1
									jobs.flag[2] = 19+GetRandomIntInRange(1, 21)
									ClearPedTasksImmediately(jobs.peds[1])
									SetBlockingOfNonTemporaryEvents(jobs.peds[1], 1)
									TaskStandStill(jobs.peds[1], 1000*jobs.flag[2])
									DrawMissionTextTaxi("Un ~g~client~w~ vous attends. Garez-vous prÃ¨s de lui.", 5000)
									local lblip = AddBlipForEntity(jobs.peds[1])
									SetBlipAsFriendly(lblip, 1)
									SetBlipColour(lblip, 2)
									SetBlipCategory(lblip, 3)
								else
									jobs.flag[1] = 0
									jobs.flag[2] = 59+GetRandomIntInRange(1, 61)
									DrawMissionTextTaxi("Conduisez et cherchez des ~h~~y~clients~w~.", 10000)
								end
							end
						end
					end
				else
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(jobs.cars[1]), true) > 30.0001 then
						StopJob(1)
					else
						
					end
				end
			else
				StopJob(1)
				DrawMissionTextTaxi("Votre Taxi est ~h~~r~hors-service~w~.", 5000)
			end
		end
	end
end)



function ShowNotificationCallTaxi(text)
	SetNotificationTextEntry("STRING")
	AddTextComponentString(text)
	DrawNotification(false, false)
end

callencourstaxi = 2
inmissiontaxi = 0

RegisterNetEvent('HaveCallTaxi')
AddEventHandler('HaveCallTaxi', function()
    
    ShowNotificationCallTaxi('~h~VOUS AVEZ APPELÃ‰ UN ~y~TAXI~w~.')
end)

RegisterNetEvent('HaveAcceptCallTaxi')
AddEventHandler('HaveAcceptCallTaxi', function()
    ShowNotificationCallTaxi('~h~UN ~y~TAXI~w~ EST EN ROUTE...')
end)

RegisterNetEvent('HaveAcceptCallTaxiForTaxi')
AddEventHandler('HaveAcceptCallTaxiForTaxi', function(namepol, namecaller)
    ShowNotificationCallTaxi("~h~~y~"..namepol.."~w~ a ~g~acceptÃ©~w~ l'appel de ~y~"..namecaller.."~w~.")
	callencourstaxi = 1
end)

RegisterNetEvent('MarkerTelTaxi')
AddEventHandler('MarkerTelTaxi', function(namecalltaxi, coordcallTaxix, coordcallTaxiy, coordcallTaxiz)
    
	ShowNotificationCallTaxi("~h~~y~TAXI~n~ ~w~ ~n~~h~~y~"..namecalltaxi.."~w~ vient d'appeler un Taxi !")
    ShowNotificationCallTaxi("Pour accepter l'appel appuyez sur ~h~~y~Y")
	callencourstaxi = 0
	posCallTelTaxixSave = coordcallTaxix
	posCallTelTaxiySave = coordcallTaxiy
	posCallTelTaxizSave = coordcallTaxiz
	LastCallerTaxi = namecalltaxi
end)

Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
	    if IsControlJustPressed(1,246) and (clientjobID == 30) then
			if (inmissiontaxi == 0) then
				if (callencourstaxi == 0) then
					taxiflag = 3
					ShowNotificationCallTaxi('CoordonnÃ©e envoyÃ©e sur votre GPS...')
					TriggerServerEvent('CheckAcceptCallTaxi', LastCallerTaxi)
					TriggerServerEvent('CheckAcceptCallTaxiForTaxi', LastCallerTaxi)
					posCallTelTaxix = posCallTelTaxixSave
					posCallTelTaxiy = posCallTelTaxiySave
					posCallTelTaxiz = posCallTelTaxizSave
					inmissiontaxi = 1
				elseif (callencourstaxi == 1) then
				    ShowNotificationCallTaxi("~h~L'appel a dÃ©jÃ  Ã©tÃ© pris.")
				elseif (callencourstaxi == 2) then
				    ShowNotificationCallTaxi("~h~Aucun appel pour le moment.")
				end
			elseif (inmissiontaxi == 1) then
			    ShowNotificationCallTaxi("~h~Vous Ãªtes dÃ©jÃ  en mission.")
			end
	    end
	end
end)

Citizen.CreateThread(function()
	while true do
	Wait(0)
		if taxiflag == 3 then
			    blipTelcallTaxi = AddBlipForCoord(posCallTelTaxix, posCallTelTaxiy, posCallTelTaxiz)
				N_0x80ead8e2e1d5d52e(blipTelcallTaxi)
								
				SetBlipRoute(blipTelcallTaxi, 1)
				taxiflag = 4
		end
		if taxiflag == 4 then
				if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), posCallTelTaxix, posCallTelTaxiy, posCallTelTaxiz, true) > 4.0001 then
					DrawMarker(1, posCallTelTaxix, posCallTelTaxiy, posCallTelTaxiz-1.0001, 0, 0, 0, 0, 0, 0, 4.0, 4.0, 2.0, 11, 80, 169, 255, 0, 0, 1, 0, 0, 0, 0)
				else
					if blipTelcallTaxi ~= nil and DoesBlipExist(blipTelcallTaxi) then
						Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(blipTelcallTaxi))
						blipTelcallTaxi = nil
						inmissiontaxi = 0
						taxiflag = 0
						callencourstaxi = 2
					end
				end	
		end
	end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  local taximenu = {
	opened = false,
	title = "Menu Taxi",
	currentmenu = "main",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.1,
		y = 0.32,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main"] = { 
			title = "CATEGORIES", 
			name = "main",
			buttons = { 
				{name = "Faire payer la course", description = ""},
				{name = "Annuler l'appel", description = ""},
			}
		},
	}
}

local boughtweapon = false

local function LocalPed()
return GetPlayerPed(-1)
end

--Creator Weapon
function OpenCreatortaximenu()		
	boughtweapon = false
	taximenu.currentmenu = "main"
	taximenu.opened = true
	taximenu.selectedbutton = 0
end
function CloseCreatortaximenu()
	Citizen.CreateThread(function()
		taximenu.opened = false
		taximenu.menu.from = 1
		taximenu.menu.to = 10
		inmenucivil = 0
		inmenuinv = 0
		inmenujob = 0
	end)
end

--Menu pomenu

function drawMenuButton(button,x,y,selected)
	local menu = taximenu.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = taximenu.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = taximenu.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitleTaxi(txt,x,y)
local menu = taximenu.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,93,166,202,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function Notifytaximenu(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

function ShowNotificationtaximenu(text)
	SetNotificationTextEntry("STRING")
	AddTextComponentString(text)
	DrawNotification(false, false)
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,170) and (clientjobID == 30) then
			-- if IsPedInAnyVehicle(LocalPed(), true) == false then
			if (inmenuinv == 0) and (inmenucivil == 0) then
				if taximenu.opened then
					CloseCreatortaximenu()
					inmenucivil = 0
				    inmenuinv = 0
				    inmenujob = 0
				else
					OpenCreatortaximenu()
					inmenucivil = 0
				    inmenuinv = 0
				    inmenujob = 3 -- TAXI
					freezetargetTaxi = totarget
				end
			end
		    -- else
		    -- ShowNotificationMenuCivil2("~r~Vous ne pouvez pas ouvrir le menu dans un vÃ©hicule !")
	        -- end
		end
		if taximenu.opened then
			local ped = LocalPed()
			local menu = taximenu.menu[taximenu.currentmenu]
			drawTxt(taximenu.title,1,1,taximenu.menu.x,taximenu.menu.y,1.0, 255,255,255,255)
			drawMenuTitleTaxi(menu.title, taximenu.menu.x,taximenu.menu.y + 0.08)
			drawTxt(taximenu.selectedbutton.."/"..tablelength(menu.buttons),0,0,taximenu.menu.x + taximenu.menu.width/2 - 0.0385,taximenu.menu.y + 0.067,0.4, 255,255,255,255)
			local y = taximenu.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= taximenu.menu.from and i <= taximenu.menu.to then
					
					if i == taximenu.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,taximenu.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedtaximenu(button)
					end
				end
			end	
		end
		if taximenu.opened then
			if IsControlJustPressed(1,202) then
				Backtaximenu()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if taximenu.selectedbutton > 1 then
					taximenu.selectedbutton = taximenu.selectedbutton -1
					if buttoncount > 10 and taximenu.selectedbutton < taximenu.menu.from then
						taximenu.menu.from = taximenu.menu.from -1
						taximenu.menu.to = taximenu.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if taximenu.selectedbutton < buttoncount then
					taximenu.selectedbutton = taximenu.selectedbutton +1
					if buttoncount > 10 and taximenu.selectedbutton > taximenu.menu.to then
						taximenu.menu.to = taximenu.menu.to + 1
						taximenu.menu.from = taximenu.menu.from + 1
					end
				end	
			end
		end
	end
end)
		    
function DrawMissionTexttaximenu(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

inputtariftaxi = 0

function ButtonSelectedtaximenu(button)
	local ped = GetPlayerPed(-1)
	local this = taximenu.currentmenu
	local btn = button.name
	local vehiclose = GetVehiclePedIsTryingToEnter(ped)
	myvehi2 = GetVehiclePedIsUsing(GetPlayerPed(-1))
	postaximenu = GetEntityCoords(GetPlayerPed(-1))
	carTargetDep = GetClosestVehicle(postaximenu['x'], postaximenu['y'], postaximenu['z'], 10.0,0,70)
	if carTargetDep ~=nil then
			platecarTargetDep = GetVehicleNumberPlateText(carTargetDep)
		end

	if this == "main" then
		if btn == "Faire payer la course" then
		     DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
			 inputtariftaxi = 1
			 
		-- elseif btn == "Laver le vÃ©hicule" then		
		elseif btn == "Annuler l'appel" then
			StopInterTaxi()
		end
    -- elseif this == "citoyen5" then
	
	end
end


Citizen.CreateThread(function()
	while true do
		Wait(0)
		if inputtariftaxi == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputtariftaxi = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				nbtariftaxi = GetOnscreenKeyboardResult()
					if string.len(nbtariftaxi) > 0 then
						ResultTarifTaxi = nbtariftaxi
						inputtariftaxi = 2						
					else
						inputtariftaxi = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputtariftaxi = 0
			end
		end
		if inputtariftaxi == 2 then
		TriggerServerEvent('CheckTarifTaxi', freezetargetTaxi, tonumber(ResultTarifTaxi))
		inputtariftaxi = 0
		end
	end
end)

tariftaxirecu = 0

RegisterNetEvent('PaidTaxiTarget')
AddEventHandler('PaidTaxiTarget', function(name, cost)
	ShowNotificationtaximenu("~h~Chauffeur du Taxi : ~b~"..name.."~w~.")
	ShowNotificationtaximenu("~h~Tarif de la course : ~b~"..cost.."~w~ $.")
	ShowNotificationtaximenu("~h~Pour payer ~g~Y~w~, pour refuser ~r~N~w~.")
	tariftaxicost = cost
	tariftaxiname = name
	tariftaxirecu = 1
end)

RegisterNetEvent('PaidTaxiSource')
AddEventHandler('PaidTaxiSource', function(name, cost)
	ShowNotificationtaximenu("~h~Tarif de la course : ~b~"..cost.."~w~ $.")
	ShowNotificationtaximenu("En attente de paiement du client...")
end)

Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
	    if IsControlJustPressed(1,246) and (tariftaxirecu == 1) then
			
			TriggerServerEvent('PaidTaxi', tariftaxiname, tariftaxicost)
			tariftaxirecu = 0
	    end
		if IsControlJustPressed(1,249) and (tariftaxirecu == 1) then
			
			TriggerServerEvent('RefusePaidTaxi', tariftaxiname, tariftaxicost)
			tariftaxirecu = 0
	    end
	end
end)

RegisterNetEvent('FinishTaxiPaidTarget')
AddEventHandler('FinishTaxiPaidTarget', function()
	ShowNotificationtaximenu("~h~Vous avez payÃ© la course.")
end)

RegisterNetEvent('FinishTaxiPaidSource')
AddEventHandler('FinishTaxiPaidSource', function(name)
	ShowNotificationtaximenu("~h~~b~"..name.."~w~ a ~g~payÃ©~w~ la course.")
end)

RegisterNetEvent('FinishTaxiPaidTarget2')
AddEventHandler('FinishTaxiPaidTarget2', function()
	ShowNotificationtaximenu("~h~Vous avez ~r~refusÃ©~w~ de payer la course.")
end)

RegisterNetEvent('FinishTaxiPaidSource2')
AddEventHandler('FinishTaxiPaidSource2', function(name)
	ShowNotificationtaximenu("~h~~b~"..name.."~w~ a ~r~refusÃ©~w~ de payer la course.")
end)

RegisterNetEvent('Finishtaximenu')
AddEventHandler('Finishtaximenu', function()
	boughtweapon = true
	CloseCreatortaximenu()
	taximenu.opened = false
	taximenu.menu.from = 1
	taximenu.menu.to = 10
	inmenucivil = 0
	inmenuinv = 0
	inmenujob = 0
end)

function OpenMenutaximenu(menu)
	taximenu.lastmenu = taximenu.currentmenu
	if menu == "maininteraction" then
		taximenu.lastmenu = "main"
	elseif menu == "mainvehicle"  then
		taximenu.lastmenu = "main"
	elseif menu == 'race_create_objects' then
		taximenu.lastmenu = "main"
	elseif menu == "race_create_objects_spawn" then
		taximenu.lastmenu = "race_create_objects"
	end
	taximenu.menu.from = 1
	taximenu.menu.to = 10
	taximenu.selectedbutton = 0
	taximenu.currentmenu = menu	
end

function Backtaximenu()
	if backlock then
		return
	end
	backlock = true
	if taximenu.currentmenu == "main" then
		CloseCreatortaximenu()
		inmenucivil = 0
		inmenuinv = 0
		inmenujob = 0
	elseif taximenu.currentmenu == "citoyen1" or taximenu.currentmenu == "citoyen2" or taximenu.currentmenu == "citoyen3" or taximenu.currentmenu == "citoyen4" or taximenu.currentmenu == "citoyen5" or taximenu.currentmenu == "vehicle1" or taximenu.currentmenu == "vehicle2" then
		OpenMenutaximenu(taximenu.lastmenu)
	else
		OpenMenutaximenu(taximenu.lastmenu)
	end
end

function stringstartstaximenu(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end                                                 local Taxidepot = {
	opened = false,
	title = "Taxidepot",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}

local Taxidepot_locations = {
{enteringTaxidepot = {894.8446,-179.2547,73.70034}, armurerie = {894.8446,-179.2547,73.70034}, outsideTaxidepot = {909.6071,-177.2962,74.22711}},
}

local Taxidepot_blips ={}
local inrangeofTaxidepot = false
local inrangeofTaxidepot3 = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfTaxidepot()
return inrangeofTaxidepot
end

function IsPlayerInRangeOfTaxidepot3()
return inrangeofTaxidepot3
end

function ShowTaxidepotBlips(bool)
	if bool and #Taxidepot_blips == 0 then
		for station,pos in pairs(Taxidepot_locations) do
			local loc = pos
			pos = pos.outsideTaxidepot
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,56)
			SetBlipColour(blip, 5)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Taxi Dos Santos')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Taxidepot_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #Taxidepot_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				local inrange3 = false
				for i,b in ipairs(Taxidepot_blips) do
					if (clientjobID == 30) and GetDistanceBetweenCoords(b.pos.enteringTaxidepot[1],b.pos.enteringTaxidepot[2],b.pos.enteringTaxidepot[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.enteringTaxidepot[1],b.pos.enteringTaxidepot[2],b.pos.enteringTaxidepot[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.enteringTaxidepot[1],b.pos.enteringTaxidepot[2],b.pos.enteringTaxidepot[3],GetEntityCoords(LocalPed()),true) < 3 then
							ShowInfoJobDep("Appuyez sur ~INPUT_CONTEXT~ pour vous ~b~Ã©quiper~w~.", 0)
							inrange = true
						end
					end
					if (clientjobID == 30) and GetDistanceBetweenCoords(b.pos.enteringTaxidepot[1],b.pos.enteringTaxidepot[2],b.pos.enteringTaxidepot[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,902.5593,-143.2527,75.61926,0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(902.5593,-143.2527,75.61926,GetEntityCoords(LocalPed()),true) < 3 then
							-- drawTxt('Vehicules',0,1,0.5,0.8,0.6,255,255,255,255)
							ShowInfoJobDep("Appuyez sur ~INPUT_CONTEXT~ pour sortir votre ~b~Taxi~w~.", 0)
							inrange3 = true
						end
					end
				end
				inrangeofTaxidepot = inrange
				inrangeofTaxidepot3 = inrange3
			end
		end)
	elseif bool == false and #Taxidepot_blips > 0 then
		for i,b in ipairs(Taxidepot_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		Taxidepot_blips = {}
	end
end

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofTaxidepot then
            
			SetPedComponentVariation(GetPlayerPed(-1), 11, 82, 5, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 3, 11, 0, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 4, 7, 4, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 6, 1, 3, 0)
			
			inrangeofTaxidepot = false
			inrange = false
        end
    end
end)


function StopInterTaxi()
		if blipTelcallTaxi ~= nil and DoesBlipExist(blipTelcallTaxi) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(blipTelcallTaxi))
			blipTelcallTaxi = nil
			inmissiontaxi = 0
			taxiflag = 0
			callencourstaxi = 2
		end
		StopJob(1)
end

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofTaxidepot3 then
            TriggerServerEvent('CheckTaxiVehi')
			TriggerServerEvent('SetPlateJob')
			inrangeofTaxidepot3 = false
			inrange3 = false
        end
    end
end)


RegisterNetEvent("SetUpgradeTaxi")
AddEventHandler('SetUpgradeTaxi', function()
    Citizen.CreateThread(function()
        Citizen.Wait(1000)
            local ped = GetPlayerPed(-1)
			local car = GetVehiclePedIsUsing(ped)
			
			SetVehicleModKit(car, 0)
			ToggleVehicleMod(car, 22, true)--light
			SetVehicleColours(car, 136, 135)
			SetVehicleExtraColours(car, 135, 136)
			SetVehicleNumberPlateText(car, "DosSANTOS")
    end)
end)


local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowTaxidepotBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  local universite = {
	opened = false,
	title = "universite",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}
local universite_locations = {
{Bat1 = {-1636.807,181.0445,60.75728}, Bat2 = {-1601.45,206.9166,58.25653}, Bat3 = {-1662.58,236.6993,61.39096}, outside = {-1613.69,186.093,59.83876}},
}

local universite_blips ={}
local inrangeofuniversite = false
local inrangeofuniversite2 = false
local inrangeofuniversite3 = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfuniversite()
return inrangeofuniversite
end

function IsPlayerInRangeOfuniversite2()
return inrangeofuniversite2
end

function IsPlayerInRangeOfuniversite3()
return inrangeofuniversite3
end

function ShowuniversiteBlips(bool)
	if bool and #universite_blips == 0 then
		for station,pos in pairs(universite_locations) do
			local loc = pos
			pos = pos.outside
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,409)
			SetBlipColour(blip, 30)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('UniversitÃ© de Los Santos')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(universite_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #universite_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				local inrange2 = false
				local inrange3 = false
				for i,b in ipairs(universite_blips) do
					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0) == false and universite.opened == false and  GetDistanceBetweenCoords(b.pos.Bat1[1],b.pos.Bat1[2],b.pos.Bat1[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.Bat1[1],b.pos.Bat1[2],b.pos.Bat1[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.Bat1[1],b.pos.Bat1[2],b.pos.Bat1[3],GetEntityCoords(LocalPed()),true) < 3 then
							Show("Appuyez sur ~INPUT_CONTEXT~ pour passer votre diplÃ´me de ~b~Joaillier~w~.")
							inrange = true
						end
					end
					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0) == false and universite.opened == false and  GetDistanceBetweenCoords(b.pos.Bat1[1],b.pos.Bat1[2],b.pos.Bat1[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.Bat3[1],b.pos.Bat3[2],b.pos.Bat3[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.Bat3[1],b.pos.Bat3[2],b.pos.Bat3[3],GetEntityCoords(LocalPed()),true) < 3 then
							Show("Appuyez sur ~INPUT_CONTEXT~ pour passer votre diplÃ´me de ~b~Vigneron~w~.")
							inrange2 = true
						end
					end
					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0) == false and universite.opened == false and  GetDistanceBetweenCoords(b.pos.Bat1[1],b.pos.Bat1[2],b.pos.Bat1[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.Bat2[1],b.pos.Bat2[2],b.pos.Bat2[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.Bat2[1],b.pos.Bat2[2],b.pos.Bat2[3],GetEntityCoords(LocalPed()),true) < 3 then
							Show("Appuyez sur ~INPUT_CONTEXT~ pour passer votre diplÃ´me de ~b~PÃªcheur de Caviar~w~.")
							inrange3 = true
						end
					end
				end
				inrangeofuniversite = inrange
				inrangeofuniversite2 = inrange2
				inrangeofuniversite3 = inrange3
			end
		end)
	elseif bool == false and #universite_blips > 0 then
		for i,b in ipairs(universite_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		universite_blips = {}
	end
end

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofuniversite then
			ShowNotificationMain("~h~SOON.")		
			inrangeofuniversite = false
			inrange = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofuniversite2 then
			ShowNotificationMain("~h~SOON.")		
			inrangeofuniversite2 = false
			inrange2 = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofuniversite3 then
			ShowNotificationMain("~h~SOON.")
			inrangeofuniversite3 = false
			inrange3 = false
        end
    end
end)


local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowuniversiteBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              local patronmenu = {
	opened = false,
	title = "Gestion Entreprise",
	currentmenu = "main",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.1,
		y = 0.32,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main"] = { 
			title = "CATEGORIES", 
			name = "main",
			buttons = { 
				{name = "Recruter", description = ""},
				{name = "Virer", description = ""},
				{name = "Promouvoir", description = ""},
				{name = "Gestion grade", description = ""},
				{name = "Compte bancaire", description = ""},
			}
		},
		["mainrecrute"] = { 
			title = "Recruter", 
			name = "mainrecrute",
			buttons = { 
			    
			}
		},
		["mainvir"] = { 
			title = "Virer", 
			name = "mainvir",
			buttons = {
                 
			}
		},
		["mainpromote"] = { 
			title = "Promouvoir", 
			name = "mainpromote",
			buttons = { 
			     	
			}
		},
		["mainpromotedispo"] = { 
			title = "Grade Disponible", 
			name = "mainpromotedispo",
			buttons = { 
			     	
			}
		},
		["maingrade"] = { 
			title = "Gestion Grade", 
			name = "maingrade",
			buttons = { 
			     	
			}
		},
		["gestiongradepatron"] = { 
			title = "Gestion Grade", 
			name = "gestiongradepatron",
			buttons = { 
				{name = "Changer le nom (SOON)", description = ""},
				{name = "Changer le salaire", description = ""},
				{name = "Supprimer (SOON)", description = ""},		     	
			}
		},
		["maincompte"] = { 
			title = "Gestion Comptes bancaires", 
			name = "maincompte",
			buttons = { 
				{name = "Compte principal", description = ""},
				{name = "Compte Offshore", description = ""},	     	
			}
		},
		["maincompte2"] = { 
			title = "Gestion Comptes bancaires", 
			name = "maincompte2",
			buttons = {      	
			}
		},
		["maincompte3"] = { 
			title = "Gestion Comptes bancaires", 
			name = "maincompte3",
			buttons = { 	     	
			}
		},
	}
}


---Gestion des Compte
RegisterNetEvent('GestionCompte1')
AddEventHandler('GestionCompte1', function(comptebancaire)
	
    local a = comptebancaire
	
	countcomptebanc = a[1]['money']
	
	patronmenu.menu["maincompte2"].buttons = {}

    table.insert(patronmenu.menu["maincompte2"].buttons, {name = countcomptebanc.." $"})
    table.insert(patronmenu.menu["maincompte2"].buttons, {name = "--------------------"})

    table.insert(patronmenu.menu["maincompte2"].buttons, {name = "Retrait d'argent"})
    table.insert(patronmenu.menu["maincompte2"].buttons, {name = "DÃ©pÃ´t d'argent"})

end)


RegisterNetEvent('GestionCompte12')
AddEventHandler('GestionCompte12', function()

	patronmenu.currentmenu = "maincompte2"
	patronmenu.opened = true
	patronmenu.selectedbutton = 0
	
end)	

RegisterNetEvent('GestionCompte2')
AddEventHandler('GestionCompte2', function(comptebancaire)
	
    local a = comptebancaire
	
	countcomptebanc2 = a[1]['dirty_money']
	
	patronmenu.menu["maincompte3"].buttons = {}

    table.insert(patronmenu.menu["maincompte3"].buttons, {name = countcomptebanc2.." $"})
    table.insert(patronmenu.menu["maincompte3"].buttons, {name = "--------------------"})

    table.insert(patronmenu.menu["maincompte3"].buttons, {name = "DÃ©pÃ´t d'argent"})

end)


RegisterNetEvent('GestionCompte22')
AddEventHandler('GestionCompte22', function()

	patronmenu.currentmenu = "maincompte3"
	patronmenu.opened = true
	patronmenu.selectedbutton = 0
	
end)
---Gestion des grades
RegisterNetEvent('GradeDispoPatron')
AddEventHandler('GradeDispoPatron', function(tableall)
	
    local a = tableall
	
	patronmenu.menu["maingrade"].buttons = {}
	
	
	
    table.insert(patronmenu.menu["maingrade"].buttons, {name = "Ajouter un grade"})
	local i = 1
	while a[i] do
		
	namegradegestion = a[i]['name_job_rank']
	gradeidgestion = a[i]['job_rank_id']
	salairegestion = a[i]['salary']

    table.insert(patronmenu.menu["maingrade"].buttons, {name = namegradegestion, salaire = salairegestion, id = gradeidgestion})

	i = i + 1
	end

end)


RegisterNetEvent('GradeDispoPatron2')
AddEventHandler('GradeDispoPatron2', function()

	patronmenu.currentmenu = "maingrade"
	patronmenu.opened = true
	patronmenu.selectedbutton = 0
	
end)

---Recruter
RegisterNetEvent('RecruteSelectall')
AddEventHandler('RecruteSelectall', function(tableall)
	
    local a = tableall
	
	patronmenu.menu["mainrecrute"].buttons = {}
	
	local i = 1
	while a[i] do
		
	nameplayerpatronrecrut = a[i]['player_name']
	idplayerpatronrecrut = a[i]['ig']

    table.insert(patronmenu.menu["mainrecrute"].buttons, {name = nameplayerpatronrecrut, description = "", id = idplayerpatronrecrut})

	i = i + 1
	end

end)


RegisterNetEvent('RecruteSelectall2')
AddEventHandler('RecruteSelectall2', function()

	patronmenu.currentmenu = "mainrecrute"
	patronmenu.opened = true
	patronmenu.selectedbutton = 0
	
end)

---Virer
RegisterNetEvent('VirerSelectall')
AddEventHandler('VirerSelectall', function(tableonlymyjob)
	
    local a = tableonlymyjob
	
	patronmenu.menu["mainvir"].buttons = {}
	
	local i = 1
	while a[i] do
		
	nameplayerpatronvirer = a[i]['player_name']
	idplayerpatronvirer = a[i]['ig']

    table.insert(patronmenu.menu["mainvir"].buttons, {name = nameplayerpatronvirer, description = "", id = idplayerpatronvirer})

	i = i + 1
	end

end)


RegisterNetEvent('VirerSelectall2')
AddEventHandler('VirerSelectall2', function()

	patronmenu.currentmenu = "mainvir"
	patronmenu.opened = true
	patronmenu.selectedbutton = 0
	
end)

---Promouvoir
RegisterNetEvent('PromoSelectall')
AddEventHandler('PromoSelectall', function(tableonlymyjob)
	
    local a = tableonlymyjob
	
	patronmenu.menu["mainpromote"].buttons = {}
	
	local i = 1
	while a[i] do
		
	nameplayerpatronpromot = a[i]['player_name']
	idplayerpatronpromot = a[i]['ig']

    table.insert(patronmenu.menu["mainpromote"].buttons, {name = nameplayerpatronpromot, description = "", id = idplayerpatronpromot})

	i = i + 1
	end

end)


RegisterNetEvent('PromoSelectall2')
AddEventHandler('PromoSelectall2', function()

	patronmenu.currentmenu = "mainpromote"
	patronmenu.opened = true
	patronmenu.selectedbutton = 0
	
end)


---Promotion Dispo
RegisterNetEvent('PromoDispoSelectall')
AddEventHandler('PromoDispoSelectall', function(tablegradeofmyjob, nameemployer, idemployer)
	
    local a = tablegradeofmyjob
	
	patronmenu.menu["mainpromotedispo"].buttons = {}
	
	local i = 1
	while a[i] do
		
	namegrade = a[i]['name_job_rank']
	gradeid = a[i]['job_rank_id']
	

    table.insert(patronmenu.menu["mainpromotedispo"].buttons, {name = namegrade, description = "", id = gradeid, nameemployerpromote = nameemployer, idemployerpromote = idemployer})

	i = i + 1
	end

end)


RegisterNetEvent('PromoDispoSelectall2')
AddEventHandler('PromoDispoSelectall2', function()

	patronmenu.currentmenu = "mainpromotedispo"
	patronmenu.opened = true
	patronmenu.selectedbutton = 0
	
end)

local function LocalPed()
return GetPlayerPed(-1)
end

--Creator Weapon
function OpenCreatorpatronmenu()		
	patronmenu.currentmenu = "main"
	patronmenu.opened = true
	patronmenu.selectedbutton = 0
end

function OpenCreatorpatronmenucomptable()		
	patronmenu.currentmenu = "maincompte"
	patronmenu.opened = true
	patronmenu.selectedbutton = 0
end

function CloseCreatorpatronmenu()
	Citizen.CreateThread(function()
		patronmenu.opened = false
		patronmenu.menu.from = 1
		patronmenu.menu.to = 10
	end)
end

--Menu pomenu

function drawMenuButton(button,x,y,selected)
	local menu = patronmenu.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = patronmenu.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = patronmenu.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitlePatronMenu(txt,x,y)
local menu = patronmenu.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,93,166,202,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end

function Notifypatronmenu(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

function ShowNotificationMenuCivil2(text)
	SetNotificationTextEntry("STRING")
	AddTextComponentString(text)
	DrawNotification(false, false)
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,56) and (clientlevel == 1) then
		  if IsPedInAnyVehicle(LocalPed(), true) == false then
			if patronmenu.opened then
				CloseCreatorpatronmenu()
				patronmenu.opened = false
				patronmenu.menu.from = 1
				patronmenu.menu.to = 10
			else
				OpenCreatorpatronmenu()
			end
		  else
		    ShowNotificationMenuCivil2("~r~Vous ne pouvez pas ouvrir le menu dans un vÃ©hicule !")
	      end
		end
		
		if IsControlJustPressed(1,56) and (clientlevel == 2) then
		  if IsPedInAnyVehicle(LocalPed(), true) == false then
			if patronmenu.opened then
				CloseCreatorpatronmenu()
				patronmenu.opened = false
				patronmenu.menu.from = 1
				patronmenu.menu.to = 10
			else
				OpenCreatorpatronmenucomptable()
			end
		  else
		    ShowNotificationMenuCivil2("~r~Vous ne pouvez pas ouvrir le menu dans un vÃ©hicule !")
	      end
		end
		
		
		if patronmenu.opened then
			local ped = LocalPed()
			local menu = patronmenu.menu[patronmenu.currentmenu]
			drawTxt(patronmenu.title,1,1,patronmenu.menu.x,patronmenu.menu.y,1.0, 255,255,255,255)
			drawMenuTitlePatronMenu(menu.title, patronmenu.menu.x,patronmenu.menu.y + 0.08)
			drawTxt(patronmenu.selectedbutton.."/"..tablelength(menu.buttons),0,0,patronmenu.menu.x + patronmenu.menu.width/2 - 0.0385,patronmenu.menu.y + 0.067,0.4, 255,255,255,255)
			local y = patronmenu.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= patronmenu.menu.from and i <= patronmenu.menu.to then
					
					if i == patronmenu.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,patronmenu.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedpatronmenu(button)
					end
				end
			end	
		end
		if patronmenu.opened then
			if IsControlJustPressed(1,202) then
				Backpatronmenu()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if patronmenu.selectedbutton > 1 then
					patronmenu.selectedbutton = patronmenu.selectedbutton -1
					if buttoncount > 10 and patronmenu.selectedbutton < patronmenu.menu.from then
						patronmenu.menu.from = patronmenu.menu.from -1
						patronmenu.menu.to = patronmenu.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if patronmenu.selectedbutton < buttoncount then
					patronmenu.selectedbutton = patronmenu.selectedbutton +1
					if buttoncount > 10 and patronmenu.selectedbutton > patronmenu.menu.to then
						patronmenu.menu.to = patronmenu.menu.to + 1
						patronmenu.menu.from = patronmenu.menu.from + 1
					end
				end	
			end
		end
	end
end)

inputenewsalaire = 0
inputenewgrade = 0

function ButtonSelectedpatronmenu(button)
	local ped = GetPlayerPed(-1)
	local this = patronmenu.currentmenu
	local btn = button.name
	callx, cally, callz = table.unpack(GetEntityCoords(GetPlayerPed(-1) , true))
	if this == "main" then
		if btn == "Recruter" then
			TriggerServerEvent('Recrutmenu')
		elseif btn == "Virer" then
		    jobidforrecrute2 = clientjobID
			TriggerServerEvent('VirerMenu', jobidforrecrute2)
		elseif btn == "Promouvoir" then
		    jobidforrecrute3 = clientjobID
			TriggerServerEvent('PromoMenu', jobidforrecrute3)
		elseif btn == "Gestion grade" then
		    jobidforrecrute4 = clientjobID
			TriggerServerEvent('Gestiongrade', jobidforrecrute4)
		elseif btn == "Compte bancaire" then
		   if (clientjobID ~= 10) and (clientjobID ~= 19) and (clientjobID ~= 20) and (clientjobID ~= 37) then
		      OpenMenupatronmenu('maincompte')
		   else
		      ShowNotificationMenuCivil2("~h~~r~Vous n'Ãªtes pas une entreprise privÃ©e.")
		   end
		end
	elseif this == "maingrade" then
	    rankidforsalaire1 = button.id
	    if btn == "Ajouter un grade" then
		   DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
		   inputenewgrade = 1
		   ShowNotificationMenuCivil2("~h~ENTRER UN NOM DE GRADE.")
		   patronmenu.opened = false
		   patronmenu.menu.from = 1
		   patronmenu.menu.to = 10
		else
		   OpenMenupatronmenu('gestiongradepatron')
		end
	elseif this == "gestiongradepatron" then
	    if btn == "Changer le salaire" then		   
		   DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
		   inputeModifSalaire = 1
		   ShowNotificationMenuCivil2("~h~ENTRER UNE SOMMES.")
		   patronmenu.opened = false
		   patronmenu.menu.from = 1
		   patronmenu.menu.to = 10
		else
		end
	elseif this == "maincompte" then
	    if btn == "Compte principal" then
		    jobidforcompte1 = clientjobID
			TriggerServerEvent('GestionCompte', jobidforcompte1)
		elseif btn == "Compte Offshore" then
		    jobidforcompte2 = clientjobID
			TriggerServerEvent('GestionCompte2', jobidforcompte2)
	    end
	elseif this == "maincompte2" then
	    if btn == "Retrait d'argent" then
		   DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
		   inputeretrait1 = 1
		   ShowNotificationMenuCivil2("~h~ENTRER UNE SOMME A RETIRER.")
		   patronmenu.opened = false
		   patronmenu.menu.from = 1
		   patronmenu.menu.to = 10
		
		elseif btn == "DÃ©pÃ´t d'argent" then
		   DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
		   inputedepot1 = 1
		   ShowNotificationMenuCivil2("~h~ENTRER UNE SOMME A DEPOSER.")
		   patronmenu.opened = false
		   patronmenu.menu.from = 1
		   patronmenu.menu.to = 10
		
		end
	elseif this == "maincompte3" then
	    if btn == "DÃ©pÃ´t d'argent" then
		   DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
		   inputedepot2 = 1
		   ShowNotificationMenuCivil2("~h~ENTRER UNE SOMME A DEPOSER.")
		   patronmenu.opened = false
		   patronmenu.menu.from = 1
		   patronmenu.menu.to = 10
		
		end
	elseif this == "mainrecrute" then
	    jobidforrecrute = clientjobID
		TriggerServerEvent('Recruting', button.name, button.id, jobidforrecrute)
		patronmenu.opened = false
		patronmenu.menu.from = 1
		patronmenu.menu.to = 10
	elseif this == "mainvir" then
		TriggerServerEvent('Viring', button.name, button.id)
		patronmenu.opened = false
		patronmenu.menu.from = 1
		patronmenu.menu.to = 10
	elseif this == "mainpromote" then
	    jobidforrecrute4 = clientjobID
	    TriggerServerEvent('promotepatron', button.name, button.id, jobidforrecrute4)
	elseif this == "mainpromotedispo" then
	    TriggerServerEvent('promotefinish', button.name, button.id, button.nameemployerpromote, button.idemployerpromote)
	end
end

--Retrait/Depos compte
Citizen.CreateThread(function()
	while true do
		Wait(0)
		
		------GestionGrade Salaire
		if inputeModifSalaire == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputeModifSalaire = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputAncienSalaire = GetOnscreenKeyboardResult()
					if string.len(inputAncienSalaire) > 0 then
						ResultinputAncienSalaire = inputAncienSalaire
						inputeModifSalaire = 2
					else
						inputeModifSalaire = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputeModifSalaire = 0
			end
		end
		if inputeModifSalaire == 2 then
			rankidforsalaire = rankidforsalaire1
		    TriggerServerEvent('ChangeSalaireRank', ResultinputAncienSalaire, rankidforsalaire)
			inputeModifSalaire = 0
		end
		--------------
		if inputeretrait1 == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputeretrait1 = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputRetraitCompte1 = GetOnscreenKeyboardResult()
					if string.len(inputRetraitCompte1) > 0 then
						ResultRetraitCompte1 = inputRetraitCompte1
						inputeretrait1 = 2
					else
						inputeretrait1 = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputeretrait1 = 0
			end
		end
		if inputeretrait1 == 2 then
		    jobidforcompte = clientjobID
		    TriggerServerEvent('RetraitComptePrinci', ResultRetraitCompte1, jobidforcompte)
			inputeretrait1 = 0
		end
		if inputedepot1 == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputedepot1 = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputDepotCompte1 = GetOnscreenKeyboardResult()
					if string.len(inputDepotCompte1) > 0 then
						ResultDepotCompte1 = inputDepotCompte1
						inputedepot1 = 2
					else
						inputedepot1 = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputedepot1 = 0
			end
		end
		if inputedepot1 == 2 then
		    jobidforcompte2 = clientjobID
		    TriggerServerEvent('DepotComptePrinci', ResultDepotCompte1, jobidforcompte2)
			inputedepot1 = 0
		end
		if inputedepot2 == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputedepot2 = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputDepotCompte2 = GetOnscreenKeyboardResult()
					if string.len(inputDepotCompte2) > 0 then
						ResultDepotCompte2 = inputDepotCompte2
						inputedepot2 = 2
					else
						inputedepot2 = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputedepot2 = 0
			end
		end
		if inputedepot2 == 2 then
		    jobidforcompte3 = clientjobID
		    TriggerServerEvent('DepotCompteSale', ResultDepotCompte2, jobidforcompte3)
			inputedepot2 = 0
		end
	end
end)


RegisterNetEvent('FinishChangeSalaire')
AddEventHandler('FinishChangeSalaire', function(amount)
	ShowNotificationMenuCivil2("~h~Vous avez mis le salaire de ce grade Ã  ~b~"..amount.."~w~ $.")
end)

RegisterNetEvent('FinishRetraitCompte1')
AddEventHandler('FinishRetraitCompte1', function(amount)
	ShowNotificationMenuCivil2("~h~Vous avez retirÃ© ~g~"..amount.."~w~ $ de votre ~b~Compte Principal~w~ d'entreprise.")
end)

RegisterNetEvent('FinishRetraitCompte1NoMoney')
AddEventHandler('FinishRetraitCompte1NoMoney', function()
	ShowNotificationMenuCivil2("~h~Votre ~b~Compte Principal~w~ d'entreprise n'a pas ~r~suffisamment~w~ d'argent en solde.")
end)

RegisterNetEvent('FinishDepotCompte1')
AddEventHandler('FinishDepotCompte1', function(amount)
	ShowNotificationMenuCivil2("~h~Vous avez dÃ©posÃ© ~g~"..amount.."~w~ $ sur votre ~b~Compte Principal~w~ d'entreprise.")
end)

RegisterNetEvent('FinishDepotCompte1NoMoney')
AddEventHandler('FinishDepotCompte1NoMoney', function()
	ShowNotificationMenuCivil2("~h~Vous n'avez pas ~r~suffisamment~w~ d'argent sur vous.")
end)


RegisterNetEvent('FinishDepotCompte2')
AddEventHandler('FinishDepotCompte2', function(amount)
	ShowNotificationMenuCivil2("~h~Vous avez dÃ©posÃ© ~g~"..amount.."~w~ $ sur votre ~b~Compte Offshore~w~ d'entreprise.")
end)

RegisterNetEvent('FinishDepotCompte2NoMoney')
AddEventHandler('FinishDepotCompte2NoMoney', function()
	ShowNotificationMenuCivil2("~h~Vous n'avez pas ~r~suffisamment~w~ d'argent sale sur vous.")
end)
--Add grade
Citizen.CreateThread(function()
	while true do
		Wait(0)
		if inputenewgrade == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputenewgrade = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputgradeclient = GetOnscreenKeyboardResult()
					if string.len(inputgradeclient) > 0 then
						ResultGradeAdd = inputgradeclient
						inputenewgrade = 2
					else
						inputenewgrade = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputenewgrade = 0
			end
		end
		if inputenewgrade == 2 then
		    jobidforgrade = clientjobID
		    TriggerServerEvent('AddNewGrade', ResultGradeAdd, jobidforgrade)
			inputenewgrade = 0
		end
		if inputenewsalaire == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputenewsalaire = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputgradeclient2 = GetOnscreenKeyboardResult()
					if string.len(inputgradeclient2) > 0 then
						ResultGradeAdd2 = inputgradeclient2
						inputenewsalaire = 2
					else
						inputenewsalaire = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputenewsalaire = 0
			end
		end
		if inputenewsalaire == 2 then
		    namegradeforsalary2 = namegradeforsalary
		    TriggerServerEvent('AddNewSalaire', ResultGradeAdd2, namegradeforsalary2)
			inputenewsalaire = 0
		end
	end
end)

RegisterNetEvent('GradeAddPatron')
AddEventHandler('GradeAddPatron', function(namegrade)
	inputenewsalaire = 1
	DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
	namegradeforsalary = namegrade
	ShowNotificationMenuCivil2("~h~ENTRER UN SALAIRE.")
end)

RegisterNetEvent('FinishGradeAddPatron')
AddEventHandler('FinishGradeAddPatron', function(name, salaire)
	ShowNotificationMenuCivil2("~h~Vous avez ajouter le grade ~b~"..name.."~w~ avec comme salaire : ~g~"..salaire.."~w~ $.")
end)

--Promotion NOTIF
RegisterNetEvent('FinishPromote')
AddEventHandler('FinishPromote', function(name, rankname)
	ShowNotificationMenuCivil2("~h~Vous avez promus ~b~"..name.."~w~ comme ~b~"..rankname.."~w~.")
end)

RegisterNetEvent('FinishBecamPromote')
AddEventHandler('FinishBecamPromote', function(rankname)
	ShowNotificationMenuCivil2("~h~Vous avez Ã©tÃ© promus comme ~b~"..rankname.."~w~.")
end)	
	
--RECRUTEMENT NOTIF
RegisterNetEvent('FinishAddRecrute')
AddEventHandler('FinishAddRecrute', function(name, rankname)
	ShowNotificationMenuCivil2("~h~Vous avez recrutÃ© ~b~"..name.."~w~ comme ~b~"..rankname.."~w~.")
end)

RegisterNetEvent('FinishBecameRecrute')
AddEventHandler('FinishBecameRecrute', function(rankname, jobname)
	ShowNotificationMenuCivil2("~h~Vous avez Ã©tÃ© recrutÃ© comme ~b~"..rankname.."~w~ dans l'entreprise ~b~"..jobname.."~w~.")
end)


RegisterNetEvent('FinishAddRecrute2')
AddEventHandler('FinishAddRecrute2', function(name, jobname)
	ShowNotificationMenuCivil2("~h~~b~"..name.."~w~ est dÃ©jÃ  ~b~"..jobname.."~w~.")
end)

--Licenciment NOTIF
RegisterNetEvent('FinishAddVirer')
AddEventHandler('FinishAddVirer', function(name)
	ShowNotificationMenuCivil2("~h~Vous avez ~r~licenciÃ©~w~ votre employÃ© : ~b~"..name.."~w~.")
end)

RegisterNetEvent('FinishBecamVirer')
AddEventHandler('FinishBecamVirer', function()
	ShowNotificationMenuCivil2("~h~Vous avez Ã©tÃ© ~r~licenciÃ©~w~ de votre travail.")
end)

RegisterNetEvent('FinishPatronMenu')
AddEventHandler('FinishPatronMenu', function()
	patronmenu.opened = false
	patronmenu.menu.from = 1
	patronmenu.menu.to = 10
end)

function ShowInfoCarteIdentite(text, state)
	SetTextComponentFormat("STRING")
	AddTextComponentString(text)
	DisplayHelpTextFromStringLabel(0, state, 0, -1)
end

function OpenMenupatronmenu(menu)
	patronmenu.lastmenu = patronmenu.currentmenu
	if menu == "mainrecrute" then
		patronmenu.lastmenu = "main"
	elseif menu == "mainpromote"  then
		patronmenu.lastmenu = "main"
	elseif menu == "mainsalaire"  then
		patronmenu.lastmenu = "main"
	else
		patronmenu.lastmenu = "main"
	end
	patronmenu.menu.from = 1
	patronmenu.menu.to = 10
	patronmenu.selectedbutton = 0
	patronmenu.currentmenu = menu	
end


function Backpatronmenu()
	if backlock then
		return
	end
	backlock = true
	if patronmenu.currentmenu == "main" then
		CloseCreatorpatronmenu()
		patronmenu.opened = false
		patronmenu.menu.from = 1
		patronmenu.menu.to = 10
	elseif patronmenu.currentmenu == "mainrecrute" then
		CloseCreatorpatronmenu()
		patronmenu.opened = false
		patronmenu.menu.from = 1
		patronmenu.menu.to = 10
	elseif patronmenu.currentmenu == "mainvir" then
		CloseCreatorpatronmenu()
		patronmenu.opened = false
		patronmenu.menu.from = 1
		patronmenu.menu.to = 10
	elseif patronmenu.currentmenu == "mainpromote" then
		CloseCreatorpatronmenu()
		patronmenu.opened = false
		patronmenu.menu.from = 1
		patronmenu.menu.to = 10
	elseif patronmenu.currentmenu == "mainsalaire" then
		CloseCreatorpatronmenu()
		patronmenu.opened = false
		patronmenu.menu.from = 1
		patronmenu.menu.to = 10
	elseif patronmenu.currentmenu == "maingrade" then
		CloseCreatorpatronmenu()
		patronmenu.opened = false
		patronmenu.menu.from = 1
		patronmenu.menu.to = 10
	elseif patronmenu.currentmenu == "maincompte" then
		CloseCreatorpatronmenu()
		patronmenu.opened = false
		patronmenu.menu.from = 1
		patronmenu.menu.to = 10
	else
		-- OpenMenupatronmenu(patronmenu.lastmenu)
		CloseCreatorpatronmenu()
		patronmenu.opened = false
		patronmenu.menu.from = 1
		patronmenu.menu.to = 10
	end
end

function stringstartspatronmenu(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              local Pizzayolo = {
	opened = false,
	title = "Pizzayolo",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}

local Pizzayolo_locations = {
{outsidePizzayolo = {-844.7975,-1142.353,6.772479}},
}

local Pizzayolo_blips ={}
local inrangeofPizzayolo = false
local inrangeofPizzayolo3 = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxtPizzayolo(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfPizzayolo()
return inrangeofPizzayolo
end

function IsPlayerInRangeOfPizzayolo3()
return inrangeofPizzayolo3
end

function ShowPizzayoloBlips(bool)
	if bool and #Pizzayolo_blips == 0 then
		for station,pos in pairs(Pizzayolo_locations) do
			local loc = pos
			pos = pos.outsidePizzayolo
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,417)
			SetBlipColour(blip, 6)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString("Pizza Hut")
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Pizzayolo_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #Pizzayolo_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				local inrange3 = false
				for i,b in ipairs(Pizzayolo_blips) do
					if (clientjobID == 44) and IsPedInAnyVehicle(LocalPed(), true) == false and  GetDistanceBetweenCoords(b.pos.outsidePizzayolo[1],b.pos.outsidePizzayolo[2],b.pos.outsidePizzayolo[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,-853.2299,-1143.416,5.902624,0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(-853.2299,-1143.416,5.902624,GetEntityCoords(LocalPed()),true) < 3 then
							ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour sortir un ~b~Scooter~w~.", 0)
						    inrange3 = true
						end
					end
				end
				inrangeofPizzayolo = inrange
				inrangeofPizzayolo3 = inrange3
			end
		end)
	elseif bool == false and #Pizzayolo_blips > 0 then
		for i,b in ipairs(Pizzayolo_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		Pizzayolo_blips = {}
	end
end

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofPizzayolo3 then
            TriggerServerEvent('CheckPizzaVehi')
			inrangeofPizzayolo3 = false
			inrange3 = false
        end
    end
end)

onJobPizzayolo = 0

pizz = {flag = {}, blip = {}, veh = {}, coords = {cx={}, cy={}, cz={}}}

function StartJobPizzayolo(jobid)
	if jobid == 1 then -- Pizzayolo
		showLoadingPromtPizzayolo("Chargement du mÃ©tier.", 2000, 3)
		pizz.coords.cx[1],pizz.coords.cy[1],pizz.coords.cz[1] = -1004.788,-1154.824,1.64603
		pizz.coords.cx[2],pizz.coords.cy[2],pizz.coords.cz[2] = -1113.937,-1193.136,1.827304
		pizz.coords.cx[3],pizz.coords.cy[3],pizz.coords.cz[3] = -1075.903,-1026.452,4.031562
		pizz.coords.cx[4],pizz.coords.cy[4],pizz.coords.cz[4] = -1056.485,-1001.234,1.639098
		pizz.coords.cx[5],pizz.coords.cy[5],pizz.coords.cz[5] = -1090.886,-926.188,2.630009
		pizz.coords.cx[6],pizz.coords.cy[6],pizz.coords.cz[6] = -1075.903,-1026.452,4.031562
		pizz.coords.cx[7],pizz.coords.cy[7],pizz.coords.cz[7] = -1181.652,-988.6455,1.634243
		pizz.coords.cx[8],pizz.coords.cy[8],pizz.coords.cz[8] = -1151.11,-990.905,1.638789
		pizz.coords.cx[9],pizz.coords.cy[9],pizz.coords.cz[9] = -1022.788,-896.3149,4.908271
		pizz.coords.cx[10],pizz.coords.cy[10],pizz.coords.cz[10] = -1060.738,-826.829,18.69866
		pizz.coords.cx[11],pizz.coords.cy[11],pizz.coords.cz[11] = -968.6487,-1329.453,5.144861
		pizz.coords.cx[12],pizz.coords.cy[12],pizz.coords.cz[12] = -1185.5,-1386.238,4.112149
		pizz.coords.cx[13],pizz.coords.cy[13],pizz.coords.cz[13] = -1132.848,-1456.029,4.372081
		pizz.coords.cx[14],pizz.coords.cy[14],pizz.coords.cz[14] = -1125.602,-1544.203,5.391256
		pizz.coords.cx[15],pizz.coords.cy[15],pizz.coords.cz[15] = -1084.74,-1558.709,4.10145
		pizz.coords.cx[16],pizz.coords.cy[16],pizz.coords.cz[16] = -1098.367,-1679.272,3.853804
		pizz.coords.cx[17],pizz.coords.cy[17],pizz.coords.cz[17] = -1155.863,-1574.202,8.344403
		pizz.coords.cx[18],pizz.coords.cy[18],pizz.coords.cz[18] = -1122.675,-1557.524,5.277201
		pizz.coords.cx[19],pizz.coords.cy[19],pizz.coords.cz[19] = -1108.679,-1527.393,6.265457
		pizz.coords.cx[20],pizz.coords.cy[20],pizz.coords.cz[20] = -1273.549,-1382.664,3.81341
		pizz.coords.cx[21],pizz.coords.cy[21],pizz.coords.cz[21] = -1342.454,-1234.849,5.420023
		pizz.coords.cx[22],pizz.coords.cy[22],pizz.coords.cz[22] = -1351.21,-1128.669,3.626104
		pizz.coords.cx[23],pizz.coords.cy[23],pizz.coords.cz[23] = -1343.232,-1043.639,7.303696
		pizz.coords.cx[24],pizz.coords.cy[24],pizz.coords.cz[24] = -729.2556,-880.1547,22.22747
		pizz.coords.cx[25],pizz.coords.cy[25],pizz.coords.cz[25] = -831.3006,-864.8558,20.22383
		pizz.coords.cx[26],pizz.coords.cy[26],pizz.coords.cz[26] = -810.4093,-978.4364,13.74061
		pizz.coords.cx[27],pizz.coords.cy[27],pizz.coords.cz[27] = -683.8874,-876.8568,24.02004
		pizz.coords.cx[28],pizz.coords.cy[28],pizz.coords.cz[28] = -1031.316,-903.0217,3.692086
		pizz.coords.cx[29],pizz.coords.cy[29],pizz.coords.cz[29] = -1262.703,-1123.342,7.092357
		pizz.coords.cx[30],pizz.coords.cy[30],pizz.coords.cz[30] = -1225.079,-1208.524,7.619214
		pizz.coords.cx[31],pizz.coords.cy[31],pizz.coords.cz[31] = -1207.095,-1263.851,6.378308
		pizz.coords.cx[32],pizz.coords.cy[32],pizz.coords.cz[32] = -1086.787,-1278.122,5.09411
		pizz.coords.cx[33],pizz.coords.cy[33],pizz.coords.cz[33] = -886.1298,-1232.698,5.006698
		pizz.coords.cx[34],pizz.coords.cy[34],pizz.coords.cz[34] = -753.5927,-1512.016,4.370816
		pizz.coords.cx[35],pizz.coords.cy[35],pizz.coords.cz[35] = -696.3545,-1386.89,4.846177
		pizz.veh[1] = GetVehiclePedIsUsing(GetPlayerPed(-1))
		pizz.flag[1] = 1
		pizz.flag[2] = 34+GetRandomIntInRange(1, 35)
		Wait(2000)
		DrawMissionTextPizzayolo("Conduisez et allez livrer les ~h~~y~Pizza~w~.", 10000)
		onJobPizzayolo = 1
	end
end

function DrawMissionTextPizzayolo(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

function showLoadingPromtPizzayolo(showText, showTime, showType)
	Citizen.CreateThread(function()
		Citizen.Wait(0)
		N_0xaba17d7ce615adbf("STRING") -- set type
		AddTextComponentString(showText) -- sets the text
		N_0xbd12f8228410d9b4(showType) -- show promt (types = 3)
		Citizen.Wait(showTime) -- show time
		N_0x10d373323e5b9c0d() -- remove promt
	end)
end


function StopJobPizzayolo(jobid)
	if jobid == 1 then
		if pizz.blip[1] ~= nil and DoesBlipExist(pizz.blip[1]) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(pizz.blip[1]))
			pizz.blip[1] = nil
		end
		onJobPizzayolo = 0
		pizz.veh[1] = nil
		pizz.flag[1] = nil
		pizz.flag[2] = nil
	end
end

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if onJobPizzayolo == 0 then
			if (clientjobID == 44) then -- JOB Pizzayolo
				if IsPedSittingInAnyVehicle(GetPlayerPed(-1)) then
					if IsVehicleModel(GetVehiclePedIsUsing(GetPlayerPed(-1)), GetHashKey("faggio2", _r)) then
						StartJobPizzayolo(1)
					end
				end
			end
		elseif onJobPizzayolo == 1 then
			if DoesEntityExist(pizz.veh[1]) and IsVehicleDriveable(pizz.veh[1], 0) then

					if pizz.flag[1] == 1 then
						pizz.flag[2] = GetRandomIntInRange(1, 34)
						pizz.blip[1] = AddBlipForCoord(pizz.coords.cx[pizz.flag[2]],pizz.coords.cy[pizz.flag[2]],pizz.coords.cz[pizz.flag[2]])
						N_0x80ead8e2e1d5d52e(pizz.blip[1])
						SetBlipRoute(pizz.blip[1], 1)
						pizz.flag[1] = 2						
					end
					if pizz.flag[1] == 2 then
						if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), pizz.coords.cx[pizz.flag[2]],pizz.coords.cy[pizz.flag[2]],pizz.coords.cz[pizz.flag[2]], true) > 2.0001 then
									DrawMarker(1, pizz.coords.cx[pizz.flag[2]],pizz.coords.cy[pizz.flag[2]],pizz.coords.cz[pizz.flag[2]]-1.0001, 0, 0, 0, 0, 0, 0, 2.0, 2.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
						else
							if pizz.blip[1] ~= nil and DoesBlipExist(pizz.blip[1]) then
										Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(pizz.blip[1]))
										pizz.blip[1] = nil
							end
						if IsPedInAnyVehicle(LocalPed(), true) == false then
							ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour ~b~livrer~w~ la pizza.", 0)
							if IsControlJustPressed(1,38) then
							
								DrawMissionTextPizzayolo("~h~Vous avez ~g~livrÃ©~w~ une pizza !", 5000)
								TriggerServerEvent('CheckPizza')
								pizz.flag[1] = 1
								pizz.flag[2] = 34+GetRandomIntInRange(1, 35)
							end
						end
						end
					end

					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(pizz.veh[1]), true) > 50.0001 then
						StopJobPizzayolo(1)
					else
						
					end

			else
				StopJobPizzayolo(1)
				DrawMissionTextPizzayolo("Votre Scooter est ~h~~r~hors-service~w~.", 5000)
			end
		end
	end
end)



local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowPizzayoloBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                local journaux = {
	opened = false,
	title = "journaux",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}

local journaux_locations = {
{enteringjournaux = {722.0145,-909.5587,24.43356}, innutile2 = {722.0145,-909.5587,24.43356}, outsidejournaux = {717.3234,-894.7209,24.0391}},
}

local journaux_blips ={}
local inrangeofjournaux = false
local inrangeofjournaux3 = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxtjournaux(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfjournaux()
return inrangeofjournaux
end

function IsPlayerInRangeOfjournaux3()
return inrangeofjournaux3
end

function ShowjournauxBlips(bool)
	if bool and #journaux_blips == 0 then
		for station,pos in pairs(journaux_locations) do
			local loc = pos
			pos = pos.outsidejournaux
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,7)
			SetBlipColour(blip, 5)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('RÃ©daction journaux')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(journaux_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #journaux_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				local inrange3 = false
				for i,b in ipairs(journaux_blips) do
					if (clientjobID == 45) and GetDistanceBetweenCoords(b.pos.enteringjournaux[1],b.pos.enteringjournaux[2],b.pos.enteringjournaux[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.enteringjournaux[1],b.pos.enteringjournaux[2],b.pos.enteringjournaux[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.enteringjournaux[1],b.pos.enteringjournaux[2],b.pos.enteringjournaux[3],GetEntityCoords(LocalPed()),true) < 3 then
							ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour vous ~b~Ã©quiper~w~.", 0)
						    inrange = true
						end
					end
					if (clientjobID == 45) and IsPedInAnyVehicle(LocalPed(), true) == false and GetDistanceBetweenCoords(b.pos.enteringjournaux[1],b.pos.enteringjournaux[2],b.pos.enteringjournaux[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,711.4304,-893.3711,23.05157,0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(711.4304,-893.3711,23.05157,GetEntityCoords(LocalPed()),true) < 3 then
							ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour sortir votre ~b~VÃ©lo~w~.", 0)
						    inrange3 = true
						end
					end
				end
				inrangeofjournaux = inrange
				inrangeofjournaux3 = inrange3
			end
		end)
	elseif bool == false and #journaux_blips > 0 then
		for i,b in ipairs(journaux_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		journaux_blips = {}
	end
end

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofjournaux then
		
            SetPedComponentVariation(GetPlayerPed(-1), 11, 123, 1, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 4, 17, 6, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 6, 8, 0, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 3, 0, 0, 0)
			
			inrangeofjournaux = false
			inrange = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofjournaux3 then
            TriggerServerEvent('CheckJournauxVehi')
			TriggerServerEvent('SetPlateJob')
			inrangeofjournaux3 = false
			inrange3 = false
        end
    end
end)

onJobJournaux = 0

daily = {flag = {}, blip = {}, veh = {}, coords = {cx={}, cy={}, cz={}}}

function StartJobJournaux(jobid)
	if jobid == 1 then -- journaux
		showLoadingPromtjournaux("Chargement du mÃ©tier.", 2000, 3)
		daily.coords.cx[1],daily.coords.cy[1],daily.coords.cz[1] = 1215.722,-740.9315,58.00642
		daily.coords.cx[2],daily.coords.cy[2],daily.coords.cz[2] = 1211.14,-698.3004,59.6384
		daily.coords.cx[3],daily.coords.cy[3],daily.coords.cz[3] = 1207.724,-681.0645,60.3156
		daily.coords.cx[4],daily.coords.cy[4],daily.coords.cz[4] = 1197.594,-630.0198,62.37838
		daily.coords.cx[5],daily.coords.cy[5],daily.coords.cz[5] = 1192.153,-602.5117,63.45895
		daily.coords.cx[6],daily.coords.cy[6],daily.coords.cz[6] = 1190.063,-586.5728,63.65872
		daily.coords.cx[7],daily.coords.cy[7],daily.coords.cz[7] = 1188.838,-560.3123,63.99667
		daily.coords.cx[8],daily.coords.cy[8],daily.coords.cz[8] = 1251.762,-566.5611,68.62072
		daily.coords.cx[9],daily.coords.cy[9],daily.coords.cz[9] = 1256.02,-598.34,68.52477
		daily.coords.cx[10],daily.coords.cy[10],daily.coords.cz[10] = 1262.112,-614.1871,68.40034
		daily.coords.cx[11],daily.coords.cy[11],daily.coords.cz[11] = 1274.674,-636.2566,98.06095
		daily.coords.cx[12],daily.coords.cy[12],daily.coords.cz[12] = 1282.785,-680.116,65.26715
		daily.coords.cx[13],daily.coords.cy[13],daily.coords.cz[13] = 1272.406,-705.4044,64.24044
		daily.coords.cx[14],daily.coords.cy[14],daily.coords.cz[14] = 1301.243,-571.6358,71.19952
		daily.coords.cx[15],daily.coords.cy[15],daily.coords.cz[15] = 1234.072,-580.7348,72.7226
		daily.coords.cx[16],daily.coords.cy[16],daily.coords.cz[16] = 1344.129,-595.6447,73.85854
		daily.coords.cx[17],daily.coords.cy[17],daily.coords.cz[17] = 1366.98,-603.4883,73.85499
		daily.coords.cx[18],daily.coords.cy[18],daily.coords.cz[18] = 1384.075,-592.0405,73.91209
		daily.coords.cx[19],daily.coords.cy[19],daily.coords.cz[19] = 1386.63,-570.8128,73.85568
		-- daily.coords.cx[20],daily.coords.cy[20],daily.coords.cz[20] = 1371.386,-557.8408,73.85458
		daily.coords.cx[20],daily.coords.cy[20],daily.coords.cz[20] = 1188.838,-560.3123,63.99667
		daily.coords.cx[21],daily.coords.cy[21],daily.coords.cz[21] = 1374.757,-549.4994,73.33969
		daily.coords.cx[22],daily.coords.cy[22],daily.coords.cz[22] = 1326.857,-538.4562,71.67047
		daily.coords.cx[23],daily.coords.cy[23],daily.coords.cz[23] = 1302.498,-530.015,70.79392
		daily.coords.cx[24],daily.coords.cy[24],daily.coords.cz[24] = 1256.066,-521.6844,68.58318
		daily.coords.cx[25],daily.coords.cy[25],daily.coords.cz[25] = 1252.985,-494.7007,69.03539
		daily.coords.cx[26],daily.coords.cy[26],daily.coords.cz[26] = 1261.206,-479.4322,69.6644
		daily.coords.cx[27],daily.coords.cy[27],daily.coords.cz[27] = 1268.975,-457.5654,69.2888
		daily.coords.cx[28],daily.coords.cy[28],daily.coords.cz[28] = 1264.082,-428.9882,69.27512
		daily.coords.cx[29],daily.coords.cy[29],daily.coords.cz[29] = 1244.106,-423.5413,68.39227
		daily.coords.cx[30],daily.coords.cy[30],daily.coords.cz[30] = 1217.328,-416.3821,67.23778
		daily.coords.cx[31],daily.coords.cy[31],daily.coords.cz[31] = 1207.048,-462.7161,65.93983
		daily.coords.cx[32],daily.coords.cy[32],daily.coords.cz[32] = 1206.781,-619.6959,65.91372
		daily.coords.cx[33],daily.coords.cy[33],daily.coords.cz[33] = 1062.837,-379.8478,67.32114
		daily.coords.cx[34],daily.coords.cy[34],daily.coords.cz[34] = 1029.984,-409.3752,65.4222
		daily.coords.cx[35],daily.coords.cy[35],daily.coords.cz[35] = 1011.77,-421.8364,64.42915
		daily.coords.cx[36],daily.coords.cy[36],daily.coords.cz[36] = 988.724,-434.236,63.27866
		daily.coords.cx[37],daily.coords.cy[37],daily.coords.cz[37] = 976.5679,-457.9328,62.24841
		daily.coords.cx[38],daily.coords.cy[38],daily.coords.cz[38] = 951.0715,-474.9532,60.67559
		daily.coords.cx[39],daily.coords.cy[39],daily.coords.cz[39] = 925.5325,-489.2997,59.07412
		daily.coords.cx[40],daily.coords.cy[40],daily.coords.cz[40] = 908.3288,-497.0917,57.94789
		daily.coords.cx[41],daily.coords.cy[41],daily.coords.cz[41] = 879.4998,-50832827,56.80325
		daily.coords.cx[42],daily.coords.cy[42],daily.coords.cz[42] = 868.0281,-518.1019,56.8041
		daily.coords.cx[43],daily.coords.cy[43],daily.coords.cz[43] = 859.916,-532.223,56.81064
		daily.coords.cx[44],daily.coords.cy[44],daily.coords.cz[44] = 859.4595,-561.3028,56.80806
		daily.coords.cx[45],daily.coords.cy[45],daily.coords.cz[45] = 869.01,-577.2743,56.82178
		daily.coords.cx[46],daily.coords.cy[46],daily.coords.cz[46] = 894.4545,-595.5908,56.84114
		daily.coords.cx[47],daily.coords.cy[47],daily.coords.cz[47] = 934.2335,-624.7598,56.93562
		daily.coords.cx[48],daily.coords.cy[48],daily.coords.cz[48] = 957.7255,-651.9841,56.92814
		daily.coords.cx[49],daily.coords.cy[49],daily.coords.cz[49] = 961.8179,-657.4079,56.92246
		daily.coords.cx[50],daily.coords.cy[50],daily.coords.cz[50] = 973.7209,-680.6496,56.89658
		daily.coords.cx[51],daily.coords.cy[51],daily.coords.cz[51] = 984.8909,-711.4222,57.07162
		daily.coords.cx[52],daily.coords.cy[52],daily.coords.cz[52] = 999.9415,-727.8023,57.01514
		daily.coords.cx[53],daily.coords.cy[53],daily.coords.cz[53] = 922.1759,-576.2809,56.91579
		daily.coords.cx[54],daily.coords.cy[54],daily.coords.cz[54] = 889.3705,-541.8488,57.60526
		daily.coords.cx[55],daily.coords.cy[55],daily.coords.cz[55] = 924.1926,-514.8065,58.43581
		daily.coords.cx[56],daily.coords.cy[56],daily.coords.cz[56] = 941.0222,-507.0275,59.38794
		daily.coords.cx[57],daily.coords.cy[57],daily.coords.cz[57] = 969.1639,-502.4412,61.61887
		daily.coords.cx[58],daily.coords.cy[58],daily.coords.cz[58] = 1014.526,-458.1571,63.64074
		daily.coords.cx[59],daily.coords.cy[59],daily.coords.cz[59] = 1043.407,-449.3011,65.95606
		daily.coords.cx[60],daily.coords.cy[60],daily.coords.cz[60] = 1094.883,-415.6732,66.60717
		daily.veh[1] = GetVehiclePedIsUsing(GetPlayerPed(-1))
		daily.flag[1] = 1
		daily.flag[2] = 47+GetRandomIntInRange(1, 59)
		Wait(2000)
		DrawMissionTextjournaux("Conduisez et allez livrer les ~h~~y~Journaux~w~.", 10000)
		onJobJournaux = 1
	end
end

function DrawMissionTextjournaux(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

function showLoadingPromtjournaux(showText, showTime, showType)
	Citizen.CreateThread(function()
		Citizen.Wait(0)
		N_0xaba17d7ce615adbf("STRING") -- set type
		AddTextComponentString(showText) -- sets the text
		N_0xbd12f8228410d9b4(showType) -- show promt (types = 3)
		Citizen.Wait(showTime) -- show time
		N_0x10d373323e5b9c0d() -- remove promt
	end)
end


function StopJobJournaux(jobid)
	if jobid == 1 then
		if daily.blip[1] ~= nil and DoesBlipExist(daily.blip[1]) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(daily.blip[1]))
			daily.blip[1] = nil
		end
		onJobJournaux = 0
		daily.veh[1] = nil
		daily.flag[1] = nil
		daily.flag[2] = nil
	end
end

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if onJobJournaux == 0 then
			if (clientjobID == 45) then -- JOB journaux
				if IsPedSittingInAnyVehicle(GetPlayerPed(-1)) then
					if IsVehicleModel(GetVehiclePedIsUsing(GetPlayerPed(-1)), GetHashKey("bmx", _r)) then
						StartJobJournaux(1)
					end
				end
			end
		elseif onJobJournaux == 1 then
			if DoesEntityExist(daily.veh[1]) and IsVehicleDriveable(daily.veh[1], 0) then

					if daily.flag[1] == 1 then
						daily.flag[2] = GetRandomIntInRange(1, 60)
						daily.blip[1] = AddBlipForCoord(daily.coords.cx[daily.flag[2]],daily.coords.cy[daily.flag[2]],daily.coords.cz[daily.flag[2]])
						N_0x80ead8e2e1d5d52e(daily.blip[1])
						SetBlipRoute(daily.blip[1], 1)
						daily.flag[1] = 2						
					end
					if daily.flag[1] == 2 then
						if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), daily.coords.cx[daily.flag[2]],daily.coords.cy[daily.flag[2]],daily.coords.cz[daily.flag[2]], true) > 2.0001 then
									DrawMarker(1, daily.coords.cx[daily.flag[2]],daily.coords.cy[daily.flag[2]],daily.coords.cz[daily.flag[2]]-1.0001, 0, 0, 0, 0, 0, 0, 2.0, 2.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
						else
							if daily.blip[1] ~= nil and DoesBlipExist(daily.blip[1]) then
										Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(daily.blip[1]))
										daily.blip[1] = nil
							end
							if IsPedInAnyVehicle(LocalPed(), true) == false then
							ShowInfoJobPecheur("Appuyez sur ~INPUT_CONTEXT~ pour ~b~livrer~w~ le journal.", 0)
							if IsControlJustPressed(1,38) then
									
								DrawMissionTextjournaux("~h~Vous avez ~g~livrÃ©~w~ un journal !", 5000)
								TriggerServerEvent('CheckJournaux')
								Wait(2000)
								daily.flag[1] = 1
								daily.flag[2] = GetRandomIntInRange(1, 60)
							end
							end
						end
					end

					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(daily.veh[1]), true) > 50.0001 then
						StopJobJournaux(1)
					else
						
					end

			else
				StopJobJournaux(1)
				DrawMissionTextjournaux("Votre vÃ©lo est ~h~~r~hors-service~w~.", 5000)
			end
		end
	end
end)



local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowjournauxBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           local Fermier = {
	opened = false,
	title = "Fermier",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}

local Fermier_locations = {
{enteringFermier = {2243.444,5154.241,56.88712}, innutile4 = {474.3488,-1951.734,23.63132}, outsideFermier = {2234.762,5160.827,57.96405}},
}

local Fermier_blips ={}
local inrangeofFermier = false
local inrangeofFermier3 = false
local inrangeofFermier4 = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxtFermier(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfFermier()
return inrangeofFermier
end

function IsPlayerInRangeOfFermier3()
return inrangeofFermier3
end

function IsPlayerInRangeOfFermier4()
return inrangeofFermier4
end


function ShowFermierBlips(bool)
	if bool and #Fermier_blips == 0 then
		for station,pos in pairs(Fermier_locations) do
			local loc = pos
			pos = pos.outsideFermier
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,40)
			SetBlipColour(blip, 21)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Fermes')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Fermier_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #Fermier_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				local inrange3 = false
				local inrange4 = false
				for i,b in ipairs(Fermier_blips) do
					if (clientjobID == 39) and Fermier.opened == false and  GetDistanceBetweenCoords(b.pos.enteringFermier[1],b.pos.enteringFermier[2],b.pos.enteringFermier[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.enteringFermier[1],b.pos.enteringFermier[2],b.pos.enteringFermier[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.enteringFermier[1],b.pos.enteringFermier[2],b.pos.enteringFermier[3],GetEntityCoords(LocalPed()),true) < 3 then
							inrange = true
							ShowInfoJobFermier("Appuyez sur ~INPUT_CONTEXT~ pour vous ~b~Ã©quiper~w~.", 0)
						end
					end
					if (clientjobID == 39) and Fermier.opened == false and  GetDistanceBetweenCoords(b.pos.enteringFermier[1],b.pos.enteringFermier[2],b.pos.enteringFermier[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,2240.693,5169.93,59.50349,0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(2240.693,5169.93,59.50349,GetEntityCoords(LocalPed()),true) < 2 then
							inrange3 = true
							ShowInfoJobFermier("Appuyez sur ~INPUT_CONTEXT~ pour sortir votre ~b~Camion~w~.", 0)
						end
					end
					if (clientjobID == 39) and Fermier.opened == false and  GetDistanceBetweenCoords(b.pos.enteringFermier[1],b.pos.enteringFermier[2],b.pos.enteringFermier[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,2237.99,5166.377,58.96447,0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(2237.99,5166.377,58.96447,GetEntityCoords(LocalPed()),true) < 2 then
							inrange4 = true
							ShowInfoJobFermier("Appuyez sur ~INPUT_CONTEXT~ pour sortir votre ~b~Tracteur~w~.", 0)
						end
					end
				end
				inrangeofFermier = inrange
				inrangeofFermier3 = inrange3
				inrangeofFermier4 = inrange4
			end
		end)
	elseif bool == false and #Fermier_blips > 0 then
		for i,b in ipairs(Fermier_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		Fermier_blips = {}
	end
end

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofFermier then
            
			SetPedComponentVariation(GetPlayerPed(-1), 11, 66, 2, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 4, 39, 2, 0)
            SetPedComponentVariation(GetPlayerPed(-1), 6, 39, 0, 0)
			
			SetPedPropIndex(GetPlayerPed(-1), 0, 64, 7, 1)
			
			inrangeofFermier = false
			inrange = false
        end
    end
end)

lastvehfarm = nil

local traitosveh = 0

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofFermier3 then
        if traitosveh == 0 then
			local carid = GetHashKey("Hauler")
			local playerPed = GetPlayerPed(-1)
			if playerPed and playerPed ~= -1 then
            RequestModel(carid)
            while not HasModelLoaded(carid) do
                Citizen.Wait(0)
            end
			
			if(lastvehfarm2 ~= nil)then				
				deleteCar(lastvehfarm2)
			end
			if(lastvehfarm ~= nil)then				
				deleteCar(lastvehfarm)
			end
			if(MyVeh2 ~= nil)then				
				deleteCar(MyVeh2)
			end
			if(MyVeh3 ~= nil)then				
				deleteCar(MyVeh3)
			end
			
			local playerCoords = GetEntityCoords(playerPed)
            playerCoords = playerCoords + vector3(0, 2, 0)
			
            lastvehfarm2 = CreateVehicle(carid, 2239.606,5181.026,60.23108, 0.0, true, false)
			-- TaskWarpPedIntoVehicle(playerPed, lastvehfarm, -1)
			
			end
			TriggerServerEvent('SetPlateJob')
			
			ShowNotificationMain("Vous avez sortie votre ~b~Camion~w~.")
			traitosveh = 1
		end
		if traitosveh == 1 then
		    local carid = GetHashKey("Trailers")
			local playerPed = GetPlayerPed(-1)
			if playerPed and playerPed ~= -1 then
            RequestModel(carid)
            while not HasModelLoaded(carid) do
                Citizen.Wait(0)
            end
						
			local playerCoords = GetEntityCoords(playerPed)
            playerCoords = playerCoords + vector3(0, 2, 0)
			
            remorquespawn2 = CreateVehicle(carid, 2232.481,5172.816,59.26372, 0.0, true, false)
			-- TaskWarpPedIntoVehicle(playerPed, lastvehfarm, -1)
			MyVeh3 = remorquespawn2
			end
			
			ShowNotificationMain("Vous avez sortie votre ~b~remorque~w~.")
			traitosveh = 0
		end
			inrangeofFermier3 = false
			inrange3 = false
        end
    end
end)

local recolteveh = 0

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofFermier4 then
        if recolteveh == 0 then
			local carid = GetHashKey("tractor2")
			local playerPed = GetPlayerPed(-1)
			if playerPed and playerPed ~= -1 then
            RequestModel(carid)
            while not HasModelLoaded(carid) do
                Citizen.Wait(0)
            end
			
			if(lastvehfarm2 ~= nil)then				
				deleteCar(lastvehfarm2)
			end
			if(lastvehfarm ~= nil)then				
				deleteCar(lastvehfarm)
			end
			if(MyVeh2 ~= nil)then				
				deleteCar(MyVeh2)
			end
			if(MyVeh3 ~= nil)then				
				deleteCar(MyVeh3)
			end
			
			local playerCoords = GetEntityCoords(playerPed)
            playerCoords = playerCoords + vector3(0, 2, 0)
			
            lastvehfarm = CreateVehicle(carid, 2239.606,5181.026,60.23108, 0.0, true, false)
			-- TaskWarpPedIntoVehicle(playerPed, lastvehfarm, -1)
			
			end
			
			TriggerServerEvent('SetPlateJob')
			ShowNotificationMain("Vous avez sortie votre ~b~Tracteur~w~.")
			
			inrangeofFermier4 = false
			inrange4 = false
			recolteveh = 1
		end
		if recolteveh == 1 then
			
			local carid = GetHashKey("GrainTrailer")
			local playerPed = GetPlayerPed(-1)
			if playerPed and playerPed ~= -1 then
            RequestModel(carid)
            while not HasModelLoaded(carid) do
                Citizen.Wait(0)
            end
			
			local playerCoords = GetEntityCoords(playerPed)
            playerCoords = playerCoords + vector3(0, 2, 0)
			
            remorquespawn = CreateVehicle(carid, 2232.481,5172.816,59.26372, 0.0, true, false)
			MyVeh2 = remorquespawn
			
			end
			
			ShowNotificationMain("Vous avez sortie votre ~b~remorque~w~.")
			recolteveh = 0
		end
        end
    end
end)

onJobFermier = 0
local MyVeh = nil
local MyVeh2 = nil
local MyVeh3 = nil

function StartJobFermier(jobid)
	if jobid == 1 then -- Fermier Camion
		showLoadingPromtFermier("Chargement des coordonnÃ©es GPS.", 2000, 3)
		TriggerServerEvent('SetPlateJob')
		MyVeh = GetVehiclePedIsUsing(GetPlayerPed(-1))
		onJobFermier = 1
		MyVeh33 = remorquespawn2
	end
	if jobid == 2 then -- Fermier Tracteur
		showLoadingPromtFermier("Chargement des coordonnÃ©es GPS.", 2000, 3)
		TriggerServerEvent('SetPlateJob')
		MyVeh = GetVehiclePedIsUsing(GetPlayerPed(-1))
		onJobFermier = 3
		MyVeh22 = remorquespawn
	end
end

function DrawMissionTextFermier(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

function showLoadingPromtFermier(showText, showTime, showType)
	Citizen.CreateThread(function()
		Citizen.Wait(0)
		N_0xaba17d7ce615adbf("STRING") -- set type
		AddTextComponentString(showText) -- sets the text
		N_0xbd12f8228410d9b4(showType) -- show promt (types = 3)
		Citizen.Wait(showTime) -- show time
		N_0x10d373323e5b9c0d() -- remove promt
	end)
end

function ShowInfoJobFermier(text, state)
	SetTextComponentFormat("STRING")
	AddTextComponentString(text)
	DisplayHelpTextFromStringLabel(0, state, 0, -1)
end

nbblejob = 0
nbpainjob = 0
inrecoltfarm = false
intraitosfarm = false
inreventefarm = false

function StopJobFermier(jobid)
	if jobid == 1 then
		if FermierTraitos ~= nil and DoesBlipExist(FermierTraitos) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(FermierTraitos))
			FermierTraitos = nil
		end
		if FermierRevente ~= nil and DoesBlipExist(FermierRevente) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(FermierRevente))
			FermierRevente = nil
		end
		onJobFermier = 0
		intraitosfarm = false
		inreventefarm = false
		MyVeh = nil
		MyVeh33 = nil
	end
	if jobid == 2 then
		if FermierChamps ~= nil and DoesBlipExist(FermierChamps) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(FermierChamps))
			FermierChamps = nil
		end
		onJobFermier = 0
		inrecoltfarm = false
		MyVeh = nil
		MyVeh22 = nil
	end
end


RegisterNetEvent('MyInvJobClientFermier')
AddEventHandler('MyInvJobClientFermier', function(result, result2)
    
    nbblejob = result
	nbpainjob = result2
	
end)

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if onJobFermier == 0 then
			if (clientjobID == 39) then -- JOB Fermier
				if IsPedSittingInAnyVehicle(GetPlayerPed(-1)) then
					if IsVehicleModel(GetVehiclePedIsUsing(GetPlayerPed(-1)), GetHashKey("Hauler", _r)) then
						StartJobFermier(1)
					elseif IsVehicleModel(GetVehiclePedIsUsing(GetPlayerPed(-1)), GetHashKey("tractor2", _r)) then
						StartJobFermier(2)
					end
				end
			end
		elseif onJobFermier == 1 then
		            -- BLIPS CHAMPS
					-- FermierChamps = AddBlipForCoord(2683.475,2824.863,40.33266)
					-- SetBlipSprite(FermierChamps,416)		
			        -- SetBlipColour(FermierChamps, 1)
					-- BeginTextCommandSetBlipName("STRING")
					-- AddTextComponentString('MINE DE CUIVRE')
					-- EndTextCommandSetBlipName(FermierChamps)
					--BLIPS TRAITEMENT
					FermierTraitos = AddBlipForCoord(852.864,-892.2853,24.30348)
					SetBlipSprite(FermierTraitos,416)
			        SetBlipColour(FermierTraitos, 2)
					BeginTextCommandSetBlipName("STRING")
					AddTextComponentString('Traitement BlÃ©')
					EndTextCommandSetBlipName(FermierTraitos)
					--BLIPS REVENTE
					FermierRevente = AddBlipForCoord(-167.1789,-32.20176,52.50666)
					SetBlipSprite(FermierRevente,416)	
			        SetBlipColour(FermierRevente, 3)
					BeginTextCommandSetBlipName("STRING")
					AddTextComponentString('BOULANGERIE')
					EndTextCommandSetBlipName(FermierRevente)
					
					onJobFermier = 2
					
		elseif onJobFermier == 2 then
			if DoesEntityExist(MyVeh) and IsVehicleDriveable(MyVeh, 0) then
					-- if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), 2683.475,2824.863,40.33266, true) > 20.0001 then
						-- DrawMarker(1, 2683.475,2824.863,40.33266-1.1001, 0, 0, 0, 0, 0, 0, 20.0, 20.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
					    -- inrangeofchampsFermier = false
					-- else
						-- inrangeofchampsFermier = true
						-- if (inrecoltfarm == false) then
						    -- ShowInfoJobFermier("Appuyez sur ~INPUT_CONTEXT~ pour rÃ©colter.", 0)
						-- end
					    -- if (inrecoltfarm == true) then
						    -- ShowInfoJobFermier("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de rÃ©colter.", 0)
						-- end
					-- end
					
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), 852.864,-892.2853,24.30348, true) > 20.0001 then
						DrawMarker(1, 852.864,-892.2853,24.30348-1.1001, 0, 0, 0, 0, 0, 0, 20.0, 20.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
						inrangeoftraitosfarm = false
					else
						inrangeoftraitosfarm = true
						if (intraitosfarm == false) then
					        ShowInfoJobFermier("Appuyez sur ~INPUT_CONTEXT~ pour moudre le blÃ©.", 0)
						end
					    if (intraitosfarm == true) then
						    ShowInfoJobFermier("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de moudre le blÃ©.", 0)
						end
					end
					
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), -167.1789,-32.20176,52.50666, true) > 20.0001 then
						DrawMarker(1, -167.1789,-32.20176,52.50666-1.1001, 0, 0, 0, 0, 0, 0, 20.0, 20.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
						inrangeofreventefarm = false
					else
					    inrangeofreventefarm = true
					    if (inreventefarm == false) then
						    ShowInfoJobFermier("Appuyez sur ~INPUT_CONTEXT~ pour vendre.", 0)
						end
					    if (inreventefarm == true) then
						    ShowInfoJobFermier("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de vendre.", 0)
						end
					end


					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(MyVeh), true) > 50.0001 then
						StopJobFermier(1)
					else
						
					end
					
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(MyVeh33), true) > 20.0001 then
						DrawMissionTextFermier("~h~Vous oubliez votre ~r~remorque~w~ ! Attention...", 5000)					
					else
					end	
					
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(MyVeh33), true) > 100.0001 then
						StopJobFermier(1)
						local MyVehi = GetVehiclePedIsUsing(GetPlayerPed(-1))
						TaskLeaveVehicle(GetPlayerPed(-1), MyVehi, 0)
					else
					end	
					
			else
				StopJobFermier(1)
			end
        elseif onJobFermier == 3 then
		            -- BLIPS CHAMPS
					FermierChamps = AddBlipForCoord(2141.344,5163.669,53.39736)
					SetBlipSprite(FermierChamps,416)		
			        SetBlipColour(FermierChamps, 1)
					BeginTextCommandSetBlipName("STRING")
					AddTextComponentString('CHAMP DE BLE')
					EndTextCommandSetBlipName(FermierChamps)
					
					onJobFermier = 4
					
		elseif onJobFermier == 4 then
			if DoesEntityExist(MyVeh) and IsVehicleDriveable(MyVeh, 0) then
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), 2141.344,5163.669,53.39736, true) > 40.0001 then
						DrawMarker(1, 2141.344,5163.669,53.39736-1.1001, 0, 0, 0, 0, 0, 0, 40.0, 40.0, 3.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
					    inrangeofchampsFermier = false
					else
						inrangeofchampsFermier = true
						if (inrecoltfarm == false) then
						    ShowInfoJobFermier("Appuyez sur ~INPUT_CONTEXT~ pour rÃ©colter.", 0)
						end
					    if (inrecoltfarm == true) then
						    ShowInfoJobFermier("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de rÃ©colter.", 0)
						end
					end

					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(MyVeh), true) > 50.0001 then
						StopJobFermier(2)
					else
						
					end	
					
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(MyVeh22), true) > 20.0001 then
						DrawMissionTextFermier("~h~Vous oubliez votre ~r~remorque~w~ !", 5000)
					else
					end
					
				    if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(MyVeh22), true) > 30.0001 then
						StopJobFermier(2)
						local MyVehi = GetVehiclePedIsUsing(GetPlayerPed(-1))
						TaskLeaveVehicle(GetPlayerPed(-1), MyVehi, 0)
				    else
					end					
			else
				StopJobFermier(2)
			end
		end
	end
end)
	
Citizen.CreateThread(function()
	while true do
        Citizen.Wait(0)
			
			
			if (inrecoltfarm == true) then
			    if (inrangeofchampsFermier == true) then
				
           		    if (tonumber(nbblejob) >= 32) then
				    	DrawMissionTextFermier("~h~~r~Inventaire Complet", 10000)
				    	inrecoltfarm = false
				    else
				        while (tonumber(nbblejob) < 31) and (inrecoltfarm == true) and (inrangeofchampsFermier == true) do
				        DrawMissionTextFermier("~h~~b~RÃ©colte~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextFermier("~h~~g~+1~w~ BlÃ©...", 1000)
				    	TriggerServerEvent('CheckBle', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvJobFerm')
					    Wait(1)
					    end
				    end
					
				else
				    inrecoltfarm = false
				end
			
			end
			
			if (intraitosfarm == true) then
			    if (inrangeoftraitosfarm == true) then
				
           		    if (tonumber(nbblejob) <= 0) then
				    	DrawMissionTextFermier("~h~~g~Traitement terminÃ©", 10000)
				    	intraitosfarm = false
				    else
				        while (tonumber(nbblejob) > 1) and (intraitosfarm == true) and (inrangeoftraitosfarm == true) do
				        DrawMissionTextFermier("~h~~b~Traitement~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextFermier("~h~~g~+1~w~ Pain...", 1000)
				    	TriggerServerEvent('CheckPain', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvJobFerm')
					    Wait(1)
					    end
				    end
					
				else
				    intraitosfarm = false
				end
			
			end
			
			if (inreventefarm == true) then
			    if (inrangeofreventefarm == true) then
				
           		    if (tonumber(nbpainjob) <= 0) then
				    	DrawMissionTextFermier("~h~~g~Revente terminÃ©", 10000)
				    	inreventefarm = false
				    else
				        while (tonumber(nbpainjob) > 1) and (inreventefarm == true) and (inrangeofreventefarm == true) do
				        DrawMissionTextFermier("~h~~b~Revente~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextFermier("~h~Vous avez vendu ~g~1 Pain~w~...", 1000)
				    	TriggerServerEvent('CheckPainVendu', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvJobFerm')
					    Wait(1)
					    end
				    end
					
				else
				    inreventefarm = false
				end
			
			end
	end
end)


Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeofchampsFermier == true) and (clientjobID == 39) and (inrecoltfarm == false) then
           -- if IsPedInAnyVehicle(LocalPed(), true) == true then
		   TriggerServerEvent('MyInvJobFerm')
		   inrecoltfarm = true
		   -- else
		       -- DrawMissionTextBrasseur("~h~~r~Vous devez entrer dans le vÃ©hicule pour rÃ©colter.", 2000)
		   -- end
        elseif IsControlJustPressed(1, 38) and (inrangeofchampsFermier == true) and (clientjobID == 39) and (inrecoltfarm == true) then
           TriggerServerEvent('MyInvJobFerm')
		   inrecoltfarm = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeoftraitosfarm == true) and (clientjobID == 39) and (intraitosfarm == false) then
           if IsPedInAnyVehicle(LocalPed(), true) == false then
		   TriggerServerEvent('MyInvJobFerm')
		   intraitosfarm = true
		   else
		       DrawMissionTextBrasseur("~h~~r~Vous devez sortir du vÃ©hicule pour travailler.", 2000)
		   end
        elseif IsControlJustPressed(1, 38) and (inrangeoftraitosfarm == true) and (clientjobID == 39) and (intraitosfarm == true) then
           TriggerServerEvent('MyInvJobFerm')
		   intraitosfarm = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeofreventefarm == true) and (clientjobID == 39) and (inreventefarm == false) then
           if IsPedInAnyVehicle(LocalPed(), true) == false then
		   TriggerServerEvent('MyInvJobFerm')
		   inreventefarm = true
		   else
		       DrawMissionTextBrasseur("~h~~r~Vous devez sortir du vÃ©hicule pour travailler.", 2000)
		   end
        elseif IsControlJustPressed(1, 38) and (inrangeofreventefarm == true) and (clientjobID == 39) and (inreventefarm == true) then
           TriggerServerEvent('MyInvJobFerm')
		   inreventefarm = false
        end
    end
end)



local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowFermierBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         local Pompiste = {
	opened = false,
	title = "Pompiste",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}

local Pompiste_locations = {
{enteringPompiste = {-294.4566,-2208.783,8.921836}, outsidePompiste = {-289.7231,-2209.717,9.955271}},
}

local Pompiste_blips ={}
local inrangeofPompiste = false
local inrangeofPompiste3 = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxtPompiste(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfPompiste()
return inrangeofPompiste
end

function IsPlayerInRangeOfPompiste3()
return inrangeofPompiste3
end

function ShowPompisteBlips(bool)
	if bool and #Pompiste_blips == 0 then
		for station,pos in pairs(Pompiste_locations) do
			local loc = pos
			pos = pos.outsidePompiste
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,361)
			SetBlipColour(blip, 17)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Raffinerie')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Pompiste_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #Pompiste_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				local inrange3 = false
				for i,b in ipairs(Pompiste_blips) do
					if (clientjobID == 46) and Pompiste.opened == false and  GetDistanceBetweenCoords(b.pos.enteringPompiste[1],b.pos.enteringPompiste[2],b.pos.enteringPompiste[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.enteringPompiste[1],b.pos.enteringPompiste[2],b.pos.enteringPompiste[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.enteringPompiste[1],b.pos.enteringPompiste[2],b.pos.enteringPompiste[3],GetEntityCoords(LocalPed()),true) < 3 then
							inrange = true
							ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour vous ~b~Ã©quiper~w~.", 0)
						end
					end
					if (clientjobID == 46) and Pompiste.opened == false and  GetDistanceBetweenCoords(b.pos.enteringPompiste[1],b.pos.enteringPompiste[2],b.pos.enteringPompiste[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,-284.8446,-2210.044,9.04611,0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(-284.8446,-2210.044,9.04611,GetEntityCoords(LocalPed()),true) < 3 then
							inrange3 = true
							ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour ~b~sortir~w~ votre camion.", 0)
						end
					end
				end
				inrangeofPompiste = inrange
				inrangeofPompiste3 = inrange3
			end
		end)
	elseif bool == false and #Pompiste_blips > 0 then
		for i,b in ipairs(Pompiste_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		Pompiste_blips = {}
	end
end

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofPompiste then
            
			SetPedComponentVariation(GetPlayerPed(-1), 8, 59, 0, 0)
			SetPedPropIndex(GetPlayerPed(-1), 0, 0, 0, 1)
			
			inrangeofPompiste = false
			inrange = false
        end
    end
end)

local traitosveh = 0

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofPompiste3 then
        if traitosveh == 0 then
			local carid = GetHashKey("Packer")
			local playerPed = GetPlayerPed(-1)
			if playerPed and playerPed ~= -1 then
            RequestModel(carid)
            while not HasModelLoaded(carid) do
                Citizen.Wait(0)
            end
			
			if(lastvehpomp ~= nil)then				
				deleteCar(lastvehpomp)
			end
			if(lastvehpomp2 ~= nil)then				
				deleteCar(lastvehpomp2)
			end
			if(MyVeh2 ~= nil)then				
				deleteCar(MyVeh2)
			end
			
			local playerCoords = GetEntityCoords(playerPed)
            playerCoords = playerCoords + vector3(0, 2, 0)
			
            lastvehpomp = CreateVehicle(carid, -292.6467,-2216.192,9.586462, 0.0, true, false)
			
			end
			
			TriggerServerEvent('SetPlateJob')
			ShowNotificationMain("Vous avez sortie votre ~b~Camion~w~.")
			traitosveh = 1
		end
		if traitosveh == 1 then
		    local carid = GetHashKey("Tanker")
			local playerPed = GetPlayerPed(-1)
			if playerPed and playerPed ~= -1 then
            RequestModel(carid)
            while not HasModelLoaded(carid) do
                Citizen.Wait(0)
            end
						
			local playerCoords = GetEntityCoords(playerPed)
            playerCoords = playerCoords + vector3(0, 2, 0)
			
            lastvehpomp2 = CreateVehicle(carid, -294.7371,-2225.445,8.643378, 0.0, true, false)
			end
			
			ShowNotificationMain("Vous avez sortie votre ~b~remorque~w~.")
			traitosveh = 0
		end
			inrangeofPompiste3 = false
			inrange3 = false
        end
    end
end)

onJobPompiste = 0
local MyVeh = nil
local MyVeh2 = nil

function StartJobPompiste(jobid)
	if jobid == 1 then -- Pompiste
		showLoadingPromtPompiste("Chargement des coordonnÃ©es GPS.", 2000, 3)
		TriggerServerEvent('SetPlateJob')
		MyVeh = GetVehiclePedIsUsing(GetPlayerPed(-1))
		onJobPompiste = 1
	end
end

function DrawMissionTextPompiste(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

function showLoadingPromtPompiste(showText, showTime, showType)
	Citizen.CreateThread(function()
		Citizen.Wait(0)
		N_0xaba17d7ce615adbf("STRING") -- set type
		AddTextComponentString(showText) -- sets the text
		N_0xbd12f8228410d9b4(showType) -- show promt (types = 3)
		Citizen.Wait(showTime) -- show time
		N_0x10d373323e5b9c0d() -- remove promt
	end)
end

function ShowInfoJob(text, state)
	SetTextComponentFormat("STRING")
	AddTextComponentString(text)
	DisplayHelpTextFromStringLabel(0, state, 0, -1)
end

nbpetroljob = 0
nbessencejob = 0
local inrecoltpomp = false
local intraitospomp = false
local inreventepomp = false

function StopJobPompiste(jobid)
	if jobid == 1 then
		if PompChamps ~= nil and DoesBlipExist(PompChamps) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(PompChamps))
			PompChamps = nil
		end
		if PompTraitos ~= nil and DoesBlipExist(PompTraitos) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(PompTraitos))
			PompTraitos = nil
		end
		if PompRevente ~= nil and DoesBlipExist(PompRevente) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(PompRevente))
			PompRevente = nil
		end
		onJobPompiste = 0
		inrecoltpomp = false
		intraitospomp = false
		inreventepomp = false
		MyVeh = nil
		MyVeh2 = nil
	end
end


RegisterNetEvent('MyInvJobPompClientPomp')
AddEventHandler('MyInvJobPompClientPomp', function(result, result2)
    
    nbpetroljob = result
	nbessencejob = result2
	
end)

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if onJobPompiste == 0 then
			if (clientjobID == 46) then -- JOB Pompiste
				if IsPedSittingInAnyVehicle(GetPlayerPed(-1)) then
					if IsVehicleModel(GetVehiclePedIsUsing(GetPlayerPed(-1)), GetHashKey("Packer", _r)) then
						StartJobPompiste(1)
						MyVeh2 = lastvehpomp2
					end
				end
			end
		elseif onJobPompiste == 1 then
					--BLIPS CHAMPS
					PompChamps = AddBlipForCoord(494.8416,2972.809,41.89262)
					SetBlipSprite(PompChamps,416)		
			        SetBlipColour(PompChamps, 1)
					BeginTextCommandSetBlipName("STRING")
					AddTextComponentString('MINE DE PETROLE')
					EndTextCommandSetBlipName(PompChamps)
					--BLIPS TRAITEMENT
					PompTraitos = AddBlipForCoord(2729.653,1424.492,24.48891)
					SetBlipSprite(PompTraitos,416)	
			        SetBlipColour(PompTraitos, 2)
					BeginTextCommandSetBlipName("STRING")
					AddTextComponentString('TRAITEMENT DE PETROLE')
					EndTextCommandSetBlipName(PompTraitos)
					--BLIPS REVENTE
					PompRevente = AddBlipForCoord(-543.1199,-1200.395,17.92199)
					SetBlipSprite(PompRevente,416)	
			        SetBlipColour(PompRevente, 3)
					BeginTextCommandSetBlipName("STRING")
					AddTextComponentString('STATION ESSENCE')
					EndTextCommandSetBlipName(PompRevente)
					
					onJobPompiste = 2
					
		elseif onJobPompiste == 2 then
			if DoesEntityExist(MyVeh) and IsVehicleDriveable(MyVeh, 0) then
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), 494.8416,2972.809,41.89262, true) > 20.0001 then
						DrawMarker(1, 494.8416,2972.809,41.89262-1.1001, 0, 0, 0, 0, 0, 0, 20.0, 20.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
					    inrangeofchampspomp = false
					else
						inrangeofchampspomp = true
						if (inrecoltpomp == false) then
						    ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour rÃ©colter.", 0)
						end
					    if (inrecoltpomp == true) then
						    ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de rÃ©colter.", 0)
						end
					end
					
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), 2729.653,1424.492,24.48891, true) > 20.0001 then
						DrawMarker(1, 2729.653,1424.492,24.48891-1.1001, 0, 0, 0, 0, 0, 0, 20.0, 20.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
						inrangeoftraitospomp = false
					else
						inrangeoftraitospomp = true
						if (intraitospomp == false) then
					        ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour traiter.", 0)
						end
					    if (intraitospomp == true) then
						    ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de traiter.", 0)
						end
					end
					
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), -543.1199,-1200.395,17.92199, true) > 20.0001 then
						DrawMarker(1, -543.1199,-1200.395,17.92199-1.1001, 0, 0, 0, 0, 0, 0, 20.0, 20.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
						inrangeofreventepomp = false
					else
					    inrangeofreventepomp = true
					    if (inreventepomp == false) then
						    ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour vendre.", 0)
						end
					    if (inreventepomp == true) then
						    ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de vendre.", 0)
						end
					end


					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(MyVeh), true) > 50.0001 then
						StopJobPompiste(1)
					else
						
					end
					
					
					
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(MyVeh2), true) > 20.0001 then
						DrawMissionTextFermier("~h~Vous oubliez votre ~r~remorque~w~ ! Attention...", 5000)					
					else
					end	
					
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(MyVeh2), true) > 100.0001 then
						StopJobPompiste(1)
						local MyVehi = GetVehiclePedIsUsing(GetPlayerPed(-1))
						TaskLeaveVehicle(GetPlayerPed(-1), MyVehi, 0)
					else
					end

			else
				StopJobPompiste(1)
			end
		end
	end
end)
	
Citizen.CreateThread(function()
	while true do
        Citizen.Wait(0)
			
			
			if (inrecoltpomp == true) then
			    if (inrangeofchampspomp == true) then
				
           		    if (tonumber(nbpetroljob) >= 32) then
				    	DrawMissionTextPompiste("~h~~r~Inventaire Complet", 10000)
				    	inrecoltpomp = false
				    else
				        while (tonumber(nbpetroljob) < 31) and (inrecoltpomp == true) and (inrangeofchampspomp == true) do
				        DrawMissionTextPompiste("~h~~b~RÃ©colte~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextPompiste("~h~~g~+1~w~ PÃ©trole...", 1000)
				    	TriggerServerEvent('CheckPetrol', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvJobPomp')
					    Wait(1)
					    end
				    end
					
				else
				    inrecoltpomp = false
				end
			
			end
			
			if (intraitospomp == true) then
			    if (inrangeoftraitospomp == true) then
				
           		    if (tonumber(nbpetroljob) <= 0) then
				    	DrawMissionTextPompiste("~h~~g~Traitement terminÃ©", 10000)
				    	intraitospomp = false
				    else
				        while (tonumber(nbpetroljob) > 1) and (intraitospomp == true) and (inrangeoftraitospomp == true) do
				        DrawMissionTextPompiste("~h~~b~Traitement~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextPompiste("~h~~g~+1~w~ Essence...", 1000)
				    	TriggerServerEvent('CheckEssence', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvJobPomp')
					    Wait(1)
					    end
				    end
					
				else
				    intraitospomp = false
				end
			
			end
			
			if (inreventepomp == true) then
			    if (inrangeofreventepomp == true) then
				
           		    if (tonumber(nbessencejob) <= 0) then
				    	DrawMissionTextPompiste("~h~~g~Revente terminÃ©", 10000)
				    	inreventepomp = false
				    else
				        while (tonumber(nbessencejob) > 1) and (inreventepomp == true) and (inrangeofreventepomp == true) do
				        DrawMissionTextPompiste("~h~~b~Revente~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextPompiste("~h~Vous avez vendu ~g~+1 Essence~w~...", 1000)
				    	TriggerServerEvent('CheckEssenceVendu', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvJobPomp')
					    Wait(1)
					    end
				    end
					
				else
				    inreventepomp = false
				end
			
			end
	end
end)


Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeofchampspomp == true) and (clientjobID == 46) and (inrecoltpomp == false) then
           if IsPedInAnyVehicle(LocalPed(), true) == false then
		   TriggerServerEvent('MyInvJobPomp')
		   inrecoltpomp = true
		   else
		       DrawMissionTextBrasseur("~h~~r~Vous devez sortir du vÃ©hicule pour travailler.", 2000)
		   end
        elseif IsControlJustPressed(1, 38) and (inrangeofchampspomp == true) and (clientjobID == 46) and (inrecoltpomp == true) then
           TriggerServerEvent('MyInvJobPomp')
		   inrecoltpomp = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeoftraitospomp == true) and (clientjobID == 46) and (intraitospomp == false) then
           if IsPedInAnyVehicle(LocalPed(), true) == false then
		   TriggerServerEvent('MyInvJobPomp')
		   intraitospomp = true
		   else
		       DrawMissionTextBrasseur("~h~~r~Vous devez sortir du vÃ©hicule pour travailler.", 2000)
		   end
        elseif IsControlJustPressed(1, 38) and (inrangeoftraitospomp == true) and (clientjobID == 46) and (intraitospomp == true) then
           TriggerServerEvent('MyInvJobPomp')
		   intraitospomp = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeofreventepomp == true) and (clientjobID == 46) and (inreventepomp == false) then
           if IsPedInAnyVehicle(LocalPed(), true) == false then
		   TriggerServerEvent('MyInvJobPomp')
		   inreventepomp = true
		   else
		       DrawMissionTextBrasseur("~h~~r~Vous devez sortir du vÃ©hicule pour travailler.", 2000)
		   end
        elseif IsControlJustPressed(1, 38) and (inrangeofreventepomp == true) and (clientjobID == 46) and (inreventepomp == true) then
           TriggerServerEvent('MyInvJobPomp')
		   inreventepomp = false
        end
    end
end)



local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowPompisteBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       local Bucheron = {
	opened = false,
	title = "Bucheron",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}

local Bucheron_locations = {
{enteringBucheron = {-552.6279,5348.437,73.74298}, outsideBucheron = {-571.4151,5340.766,70.21408}},
}

local Bucheron_blips ={}
local inrangeofBucheron = false
local inrangeofBucheron3 = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxtBucheron(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfBucheron()
return inrangeofBucheron
end

function IsPlayerInRangeOfBucheron3()
return inrangeofBucheron3
end

function ShowBucheronBlips(bool)
	if bool and #Bucheron_blips == 0 then
		for station,pos in pairs(Bucheron_locations) do
			local loc = pos
			pos = pos.outsideBucheron
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,85)
			SetBlipColour(blip, 31)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Pine Creek Wood Company')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Bucheron_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #Bucheron_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				local inrange3 = false
				for i,b in ipairs(Bucheron_blips) do
					if (clientjobID == 48) and Bucheron.opened == false and  GetDistanceBetweenCoords(b.pos.enteringBucheron[1],b.pos.enteringBucheron[2],b.pos.enteringBucheron[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.enteringBucheron[1],b.pos.enteringBucheron[2],b.pos.enteringBucheron[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.enteringBucheron[1],b.pos.enteringBucheron[2],b.pos.enteringBucheron[3],GetEntityCoords(LocalPed()),true) < 3 then
							inrange = true
							ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour vous ~b~Ã©quiper~w~.", 0)
						end
					end
					if (clientjobID == 48) and Bucheron.opened == false and  GetDistanceBetweenCoords(b.pos.enteringBucheron[1],b.pos.enteringBucheron[2],b.pos.enteringBucheron[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,-584.9958,5311.206,69.21448,0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(-584.9958,5311.206,69.21448,GetEntityCoords(LocalPed()),true) < 3 then
							inrange3 = true
							ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour ~b~sortir~w~ votre camion.", 0)
						end
					end
				end
				inrangeofBucheron = inrange
				inrangeofBucheron3 = inrange3
			end
		end)
	elseif bool == false and #Bucheron_blips > 0 then
		for i,b in ipairs(Bucheron_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		Bucheron_blips = {}
	end
end

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofBucheron then
            
			SetPedComponentVariation(GetPlayerPed(-1), 8, 59, 0, 0)
			SetPedPropIndex(GetPlayerPed(-1), 0, 0, 0, 1)
			
			inrangeofBucheron = false
			inrange = false
        end
    end
end)

local traitosveh = 0

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofBucheron3 then
        if traitosveh == 0 then
			local carid = GetHashKey("packer")
			local playerPed = GetPlayerPed(-1)
			if playerPed and playerPed ~= -1 then
            RequestModel(carid)
            while not HasModelLoaded(carid) do
                Citizen.Wait(0)
            end
			
			if(lastvehBois ~= nil)then				
				deleteCar(lastvehBois)
			end
			if(lastvehBois2 ~= nil)then				
				deleteCar(lastvehBois2)
			end
			if(MyVeh2 ~= nil)then				
				deleteCar(MyVeh2)
			end
			
			local playerCoords = GetEntityCoords(playerPed)
            playerCoords = playerCoords + vector3(0, 2, 0)
			
            lastvehBois = CreateVehicle(carid, -572.8122,5340.337,70.21438, 0.0, true, false)
			Citizen.Wait(50)
			GiveWeaponToPed(GetPlayerPed(-1), 883325847, 500, true)
			ShowNotificationMain("Vous avez reÃ§u un ~b~Jerrican~w~.")
			end
			
			TriggerServerEvent('SetPlateJob')
			ShowNotificationMain("Vous avez sortie votre ~b~Camion~w~.")
			
			traitosveh = 1
		end
		if traitosveh == 1 then
		    local carid = GetHashKey("trailerlogs")
			local playerPed = GetPlayerPed(-1)
			if playerPed and playerPed ~= -1 then
            RequestModel(carid)
            while not HasModelLoaded(carid) do
                Citizen.Wait(0)
            end
						
			local playerCoords = GetEntityCoords(playerPed)
            playerCoords = playerCoords + vector3(0, 2, 0)
			
            lastvehBois2 = CreateVehicle(carid, -577.4884,5328.834,70.25827, 0.0, true, false)
			end
			
			ShowNotificationMain("Vous avez sortie votre ~b~remorque~w~.")
			traitosveh = 0
		end
			inrangeofBucheron3 = false
			inrange3 = false
        end
    end
end)

onJobBucheron = 0
local MyVeh = nil
local MyVeh2 = nil

function StartJobBucheron(jobid)
	if jobid == 1 then -- Bucheron
		showLoadingPromtBucheron("Chargement des coordonnÃ©es GPS.", 2000, 3)
		TriggerServerEvent('SetPlateJob')
		MyVeh = GetVehiclePedIsUsing(GetPlayerPed(-1))
		onJobBucheron = 1
	end
end

function DrawMissionTextBucheron(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

function showLoadingPromtBucheron(showText, showTime, showType)
	Citizen.CreateThread(function()
		Citizen.Wait(0)
		N_0xaba17d7ce615adbf("STRING") -- set type
		AddTextComponentString(showText) -- sets the text
		N_0xbd12f8228410d9b4(showType) -- show promt (types = 3)
		Citizen.Wait(showTime) -- show time
		N_0x10d373323e5b9c0d() -- remove promt
	end)
end

function ShowInfoJob(text, state)
	SetTextComponentFormat("STRING")
	AddTextComponentString(text)
	DisplayHelpTextFromStringLabel(0, state, 0, -1)
end

nbpetroljob = 0
nbessencejob = 0
local inrecoltBois = false
local intraitosBois = false
local inreventeBois = false

function StopJobBucheron(jobid)
	if jobid == 1 then
		if BoisChamps ~= nil and DoesBlipExist(BoisChamps) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(BoisChamps))
			BoisChamps = nil
		end
		if BoisTraitos ~= nil and DoesBlipExist(BoisTraitos) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(BoisTraitos))
			BoisTraitos = nil
		end
		if BoisRevente ~= nil and DoesBlipExist(BoisRevente) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(BoisRevente))
			BoisRevente = nil
		end
		onJobBucheron = 0
		inrecoltBois = false
		intraitosBois = false
		inreventeBois = false
		MyVeh = nil
		MyVeh2 = nil
	end
end


RegisterNetEvent('MyInvJobBoisClientBois')
AddEventHandler('MyInvJobBoisClientBois', function(result, result2)
    
    nbpetroljob = result
	nbessencejob = result2
	
end)

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if onJobBucheron == 0 then
			if (clientjobID == 48) then -- JOB Bucheron
				if IsPedSittingInAnyVehicle(GetPlayerPed(-1)) then
					if IsVehicleModel(GetVehiclePedIsUsing(GetPlayerPed(-1)), GetHashKey("packer", _r)) then
						StartJobBucheron(1)
						MyVeh2 = lastvehBois2
					end
				end
			end
		elseif onJobBucheron == 1 then
					--BLIPS CHAMPS
					BoisChamps = AddBlipForCoord(-247.3265,2204.608,128.2112)
					SetBlipSprite(BoisChamps,416)		
			        SetBlipColour(BoisChamps, 1)
					BeginTextCommandSetBlipName("STRING")
					AddTextComponentString('FORÃŠT')
					EndTextCommandSetBlipName(BoisChamps)
					--BLIPS TRAITEMENT
					BoisTraitos = AddBlipForCoord(-514.0811,5243.285,79.2792)
					SetBlipSprite(BoisTraitos,416)	
			        SetBlipColour(BoisTraitos, 2)
					BeginTextCommandSetBlipName("STRING")
					AddTextComponentString('SCIERIE')
					EndTextCommandSetBlipName(BoisTraitos)
					--BLIPS REVENTE
					BoisRevente = AddBlipForCoord(105.0516,-393.679,40.26531)
					SetBlipSprite(BoisRevente,416)	
			        SetBlipColour(BoisRevente, 3)
					BeginTextCommandSetBlipName("STRING")
					AddTextComponentString('CHANTIER')
					EndTextCommandSetBlipName(BoisRevente)
					
					onJobBucheron = 2
					
		elseif onJobBucheron == 2 then
			if DoesEntityExist(MyVeh) and IsVehicleDriveable(MyVeh, 0) then
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), -247.3265,2204.608,128.2112, true) > 20.0001 then
						DrawMarker(1, -247.3265,2204.608,128.2112-1.1001, 0, 0, 0, 0, 0, 0, 20.0, 20.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
					    inrangeofchampsBois = false
					else
						inrangeofchampsBois = true
						if (inrecoltBois == false) then
						    ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour couper du bois.", 0)
						end
					    if (inrecoltBois == true) then
						    ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de couper du bois.", 0)
						end
					end
					
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), -514.0811,5243.285,79.2792, true) > 20.0001 then
						DrawMarker(1, -514.0811,5243.285,79.2792-1.1001, 0, 0, 0, 0, 0, 0, 20.0, 20.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
						inrangeoftraitosBois = false
					else
						inrangeoftraitosBois = true
						if (intraitosBois == false) then
					        ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour couper vos planches.", 0)
						end
					    if (intraitosBois == true) then
						    ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de couper vos planches.", 0)
						end
					end
					
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), 105.0516,-393.679,40.26531, true) > 20.0001 then
						DrawMarker(1, 105.0516,-393.679,40.26531-1.1001, 0, 0, 0, 0, 0, 0, 20.0, 20.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
						inrangeofreventeBois = false
					else
					    inrangeofreventeBois = true
					    if (inreventeBois == false) then
						    ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour vendre.", 0)
						end
					    if (inreventeBois == true) then
						    ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de vendre.", 0)
						end
					end


					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(MyVeh), true) > 50.0001 then
						StopJobBucheron(1)
					else
						
					end
					
					
					
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(MyVeh2), true) > 20.0001 then
						DrawMissionTextFermier("~h~Vous oubliez votre ~r~remorque~w~ ! Attention...", 5000)					
					else
					end	
					
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(MyVeh2), true) > 100.0001 then
						StopJobBucheron(1)
						local MyVehi = GetVehiclePedIsUsing(GetPlayerPed(-1))
						TaskLeaveVehicle(GetPlayerPed(-1), MyVehi, 0)
					else
					end

			else
				StopJobBucheron(1)
			end
		end
	end
end)
	
Citizen.CreateThread(function()
	while true do
        Citizen.Wait(0)
			
			
			if (inrecoltBois == true) then
			    if (inrangeofchampsBois == true) then
				
           		    if (tonumber(nbpetroljob) >= 32) then
				    	DrawMissionTextBucheron("~h~~r~Inventaire Complet", 10000)
				    	inrecoltBois = false
				    else
				        while (tonumber(nbpetroljob) < 31) and (inrecoltBois == true) and (inrangeofchampsBois == true) do
				        DrawMissionTextBucheron("~h~~b~RÃ©colte~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextBucheron("~h~~g~+1~w~ Bois...", 1000)
				    	TriggerServerEvent('CheckBois', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvJobBois')
					    Wait(1)
					    end
				    end
					
				else
				    inrecoltBois = false
				end
			
			end
			
			if (intraitosBois == true) then
			    if (inrangeoftraitosBois == true) then
				
           		    if (tonumber(nbpetroljob) <= 0) then
				    	DrawMissionTextBucheron("~h~~g~Traitement terminÃ©", 10000)
				    	intraitosBois = false
				    else
				        while (tonumber(nbpetroljob) > 1) and (intraitosBois == true) and (inrangeoftraitosBois == true) do
				        DrawMissionTextBucheron("~h~~b~Traitement~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextBucheron("~h~~g~+1~w~ Planche de bois...", 1000)
				    	TriggerServerEvent('CheckPlanche', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvJobBois')
					    Wait(1)
					    end
				    end
					
				else
				    intraitosBois = false
				end
			
			end
			
			if (inreventeBois == true) then
			    if (inrangeofreventeBois == true) then
				
           		    if (tonumber(nbessencejob) <= 0) then
				    	DrawMissionTextBucheron("~h~~g~Revente terminÃ©", 10000)
				    	inreventeBois = false
				    else
				        while (tonumber(nbessencejob) > 1) and (inreventeBois == true) and (inrangeofreventeBois == true) do
				        DrawMissionTextBucheron("~h~~b~Revente~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextBucheron("~h~Vous avez vendu ~g~+1 Planche de bois~w~...", 1000)
				    	TriggerServerEvent('CheckPlancheVendu', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvJobBois')
					    Wait(1)
					    end
				    end
					
				else
				    inreventeBois = false
				end
			
			end
	end
end)


Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeofchampsBois == true) and (clientjobID == 48) and (inrecoltBois == false) then
           if IsPedInAnyVehicle(LocalPed(), true) == false then
		   TriggerServerEvent('MyInvJobBois')
		   inrecoltBois = true
		   else
		       DrawMissionTextBrasseur("~h~~r~Vous devez sortir du vÃ©hicule pour travailler.", 2000)
		   end
        elseif IsControlJustPressed(1, 38) and (inrangeofchampsBois == true) and (clientjobID == 48) and (inrecoltBois == true) then
           TriggerServerEvent('MyInvJobBois')
		   inrecoltBois = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeoftraitosBois == true) and (clientjobID == 48) and (intraitosBois == false) then
           if IsPedInAnyVehicle(LocalPed(), true) == false then
		   TriggerServerEvent('MyInvJobBois')
		   intraitosBois = true
		   else
		       DrawMissionTextBrasseur("~h~~r~Vous devez sortir du vÃ©hicule pour travailler.", 2000)
		   end
        elseif IsControlJustPressed(1, 38) and (inrangeoftraitosBois == true) and (clientjobID == 48) and (intraitosBois == true) then
           TriggerServerEvent('MyInvJobBois')
		   intraitosBois = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeofreventeBois == true) and (clientjobID == 48) and (inreventeBois == false) then
           if IsPedInAnyVehicle(LocalPed(), true) == false then
		   TriggerServerEvent('MyInvJobBois')
		   inreventeBois = true
		   else
		       DrawMissionTextBrasseur("~h~~r~Vous devez sortir du vÃ©hicule pour travailler.", 2000)
		   end
        elseif IsControlJustPressed(1, 38) and (inrangeofreventeBois == true) and (clientjobID == 48) and (inreventeBois == true) then
           TriggerServerEvent('MyInvJobBois')
		   inreventeBois = false
        end
    end
end)



local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowBucheronBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                  local Brasseur = {
	opened = false,
	title = "Brasseur",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}

local Brasseur_locations = {
{enteringBrasseur = {81.72941,-1614.795,28.7819}, outsideBrasseur = {90.74122,-1620.05,29.46959}},
}

local Brasseur_blips ={}
local inrangeofBrasseur = false
local inrangeofBrasseur3 = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxtBrasseur(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfBrasseur()
return inrangeofBrasseur
end

function IsPlayerInRangeOfBrasseur3()
return inrangeofBrasseur3
end

function ShowBrasseurBlips(bool)
	if bool and #Brasseur_blips == 0 then
		for station,pos in pairs(Brasseur_locations) do
			local loc = pos
			pos = pos.outsideBrasseur
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,106)
			SetBlipColour(blip, 16)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Belgian Brewery Company')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Brasseur_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #Brasseur_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				local inrange3 = false
				for i,b in ipairs(Brasseur_blips) do
					if (clientjobID == 49) and Brasseur.opened == false and  GetDistanceBetweenCoords(b.pos.enteringBrasseur[1],b.pos.enteringBrasseur[2],b.pos.enteringBrasseur[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.enteringBrasseur[1],b.pos.enteringBrasseur[2],b.pos.enteringBrasseur[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.enteringBrasseur[1],b.pos.enteringBrasseur[2],b.pos.enteringBrasseur[3],GetEntityCoords(LocalPed()),true) < 3 then
							inrange = true
							ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour vous ~b~Ã©quiper~w~.", 0)
						end
					end
					if (clientjobID == 49) and Brasseur.opened == false and  GetDistanceBetweenCoords(b.pos.enteringBrasseur[1],b.pos.enteringBrasseur[2],b.pos.enteringBrasseur[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,96.61828,-1612.013,29.07636,0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(96.61828,-1612.013,29.07636,GetEntityCoords(LocalPed()),true) < 3 then
							inrange3 = true
							ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour ~b~sortir~w~ votre camion.", 0)
						end
					end
				end
				inrangeofBrasseur = inrange
				inrangeofBrasseur3 = inrange3
			end
		end)
	elseif bool == false and #Brasseur_blips > 0 then
		for i,b in ipairs(Brasseur_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		Brasseur_blips = {}
	end
end

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofBrasseur then
            
			SetPedComponentVariation(GetPlayerPed(-1), 8, 59, 0, 0)
			SetPedPropIndex(GetPlayerPed(-1), 0, 0, 0, 1)
			
			inrangeofBrasseur = false
			inrange = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofBrasseur3 then
            TriggerServerEvent('CheckBrasseurVehi')
			TriggerServerEvent('SetPlateJob')
			inrangeofBrasseur3 = false
			inrange3 = false
        end
    end
end)

onJobBrasseur = 0
local MyVeh = nil

function StartJobBrasseur(jobid)
	if jobid == 1 then -- Brasseur
		showLoadingPromtBrasseur("Chargement des coordonnÃ©es GPS.", 2000, 3)
		MyVeh = GetVehiclePedIsUsing(GetPlayerPed(-1))
		onJobBrasseur = 1
	end
end

function DrawMissionTextBrasseur(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

function showLoadingPromtBrasseur(showText, showTime, showType)
	Citizen.CreateThread(function()
		Citizen.Wait(0)
		N_0xaba17d7ce615adbf("STRING") -- set type
		AddTextComponentString(showText) -- sets the text
		N_0xbd12f8228410d9b4(showType) -- show promt (types = 3)
		Citizen.Wait(showTime) -- show time
		N_0x10d373323e5b9c0d() -- remove promt
	end)
end

function ShowInfoJob(text, state)
	SetTextComponentFormat("STRING")
	AddTextComponentString(text)
	DisplayHelpTextFromStringLabel(0, state, 0, -1)
end

nborgejob = 0
nbbierejob = 0
local inrecoltBrasseur = false
local intraitosBrasseur = false
local inreventeBrasseur = false

function StopJobBrasseur(jobid)
	if jobid == 1 then
		if BrasseurChamps ~= nil and DoesBlipExist(BrasseurChamps) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(BrasseurChamps))
			BrasseurChamps = nil
		end
		if BrasseurTraitos ~= nil and DoesBlipExist(BrasseurTraitos) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(BrasseurTraitos))
			BrasseurTraitos = nil
		end
		if BrasseurRevente ~= nil and DoesBlipExist(BrasseurRevente) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(BrasseurRevente))
			BrasseurRevente = nil
		end
		onJobBrasseur = 0
		inrecoltBrasseur = false
		intraitosBrasseur = false
		inreventeBrasseur = false
		MyVeh = nil
	end
end


RegisterNetEvent('MyInvJobClientBrasseur')
AddEventHandler('MyInvJobClientBrasseur', function(result, result2)
    
    nborgejob = result
	nbbierejob = result2
	
end)

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if onJobBrasseur == 0 then
			if (clientjobID == 49) then -- JOB Brasseur
				if IsPedSittingInAnyVehicle(GetPlayerPed(-1)) then
					if IsVehicleModel(GetVehiclePedIsUsing(GetPlayerPed(-1)), GetHashKey("Pounder", _r)) then
						StartJobBrasseur(1)
					end
				end
			end
		elseif onJobBrasseur == 1 then
					--BLIPS CHAMPS
					BrasseurChamps = AddBlipForCoord(2589.255,4682.275,33.07681)
					SetBlipSprite(BrasseurChamps,416)		
			        SetBlipColour(BrasseurChamps, 1)
					BeginTextCommandSetBlipName("STRING")
					AddTextComponentString("FERME D'ORGES")
					EndTextCommandSetBlipName(BrasseurChamps)
					--BLIPS TRAITEMENT
					BrasseurTraitos = AddBlipForCoord(93.59766,-1608.143,28.59173)
					SetBlipSprite(BrasseurTraitos,416)	
			        SetBlipColour(BrasseurTraitos, 2)
					BeginTextCommandSetBlipName("STRING")
					AddTextComponentString('BRASSERIE')
					EndTextCommandSetBlipName(BrasseurTraitos)
					--BLIPS REVENTE
					BrasseurRevente = AddBlipForCoord(-1468.547,-392.3555,37.58303)
					SetBlipSprite(BrasseurRevente,416)	
			        SetBlipColour(BrasseurRevente, 3)
					BeginTextCommandSetBlipName("STRING")
					AddTextComponentString('SUPERETTE')
					EndTextCommandSetBlipName(BrasseurRevente)
					
					onJobBrasseur = 2
					
		elseif onJobBrasseur == 2 then
			if DoesEntityExist(MyVeh) and IsVehicleDriveable(MyVeh, 0) then
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), 2589.255,4682.275,33.07681, true) > 20.0001 then
						DrawMarker(1, 2589.255,4682.275,33.07681-1.1001, 0, 0, 0, 0, 0, 0, 20.0, 20.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
					    inrangeofchamps = false
					else
						inrangeofchamps = true
						if (inrecoltBrasseur == false) then
						    ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour rÃ©cuperer l'orge.", 0)
						end
					    if (inrecoltBrasseur == true) then
						    ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de rÃ©cuperer l'orge.", 0)
						end
					end
					
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), 93.59766,-1608.143,28.59173, true) > 20.0001 then
						DrawMarker(1, 93.59766,-1608.143,28.59173-1.1001, 0, 0, 0, 0, 0, 0, 20.0, 20.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
						inrangeoftraitos = false
					else
						inrangeoftraitos = true
						if (intraitosBrasseur == false) then
					        ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour Brasser la biÃ¨re.", 0)
						end
					    if (intraitosBrasseur == true) then
						    ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de Brasser la biÃ¨re.", 0)
						end
					end
					
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), -1468.547,-392.3555,37.58303, true) > 20.0001 then
						DrawMarker(1, -1468.547,-392.3555,37.58303-1.1001, 0, 0, 0, 0, 0, 0, 20.0, 20.0, 2.0, 178, 236, 93, 155, 0, 0, 2, 0, 0, 0, 0)
						inrangeofrevente = false
					else
					    inrangeofrevente = true
					    if (inreventeBrasseur == false) then
						    ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour vendre.", 0)
						end
					    if (inreventeBrasseur == true) then
						    ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de vendre.", 0)
						end
					end


					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(MyVeh), true) > 50.0001 then
						StopJobBrasseur(1)
					else
						
					end

			else
				StopJobBrasseur(1)
			end
		end
	end
end)
	
Citizen.CreateThread(function()
	while true do
        Citizen.Wait(0)
			
			
			if (inrecoltBrasseur == true) then
			    if (inrangeofchamps == true) then
				
           		    if (tonumber(nborgejob) >= 32) then
				    	DrawMissionTextBrasseur("~h~~r~Inventaire Complet", 10000)
				    	inrecoltBrasseur = false
				    else
				        while (tonumber(nborgejob) < 31) and (inrecoltBrasseur == true) and (inrangeofchamps == true) do
				        DrawMissionTextBrasseur("~h~~b~RÃ©colte~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextBrasseur("~h~~g~+1~w~ Orge...", 1000)
				    	TriggerServerEvent('CheckOrge', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvJobBrasseur')
					    Wait(1)
					    end
				    end
					
				else
				    inrecoltBrasseur = false
				end
			
			end
			
			if (intraitosBrasseur == true) then
			    if (inrangeoftraitos == true) then
				
           		    if (tonumber(nborgejob) <= 0) then
				    	DrawMissionTextBrasseur("~h~~g~Brassage terminÃ©", 10000)
				    	intraitosBrasseur = false
				    else
				        while (tonumber(nborgejob) > 1) and (intraitosBrasseur == true) and (inrangeoftraitos == true) do
				        DrawMissionTextBrasseur("~h~~b~Brassage~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextBrasseur("~h~~g~+1~w~ BiÃ¨re...", 1000)
				    	TriggerServerEvent('CheckBiere', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvJobBrasseur')
					    Wait(1)
					    end
				    end
					
				else
				    intraitosBrasseur = false
				end
			
			end
			
			if (inreventeBrasseur == true) then
			    if (inrangeofrevente == true) then
				
           		    if (tonumber(nbbierejob) <= 0) then
				    	DrawMissionTextBrasseur("~h~~g~Revente terminÃ©", 10000)
				    	inreventeBrasseur = false
				    else
				        while (tonumber(nbbierejob) > 1) and (inreventeBrasseur == true) and (inrangeofrevente == true) do
				        DrawMissionTextBrasseur("~h~~b~Revente~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextBrasseur("~h~Vous avez vendu ~g~+1 BiÃ¨re~w~...", 1000)
				    	TriggerServerEvent('CheckBiereVendu', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvJobBrasseur')
					    Wait(1)
					    end
				    end
					
				else
				    inreventeBrasseur = false
				end
			
			end
	end
end)


Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeofchamps == true) and (clientjobID == 49) and (inrecoltBrasseur == false) then
           if IsPedInAnyVehicle(LocalPed(), true) == false then
		   TriggerServerEvent('MyInvJobBrasseur')
		   inrecoltBrasseur = true
		   else
		       DrawMissionTextBrasseur("~h~~r~Vous devez sortir du vÃ©hicule pour travailler.", 2000)
		   end
        elseif IsControlJustPressed(1, 38) and (inrangeofchamps == true) and (clientjobID == 49) and (inrecoltBrasseur == true) then
           TriggerServerEvent('MyInvJobBrasseur')
		   inrecoltBrasseur = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeoftraitos == true) and (clientjobID == 49) and (intraitosBrasseur == false) then
		   if IsPedInAnyVehicle(LocalPed(), true) == false then
               TriggerServerEvent('MyInvJobBrasseur')
		       intraitosBrasseur = true
		   else
		       DrawMissionTextBrasseur("~h~~r~Vous devez sortir du vÃ©hicule pour travailler.", 2000)
		   end
        elseif IsControlJustPressed(1, 38) and (inrangeoftraitos == true) and (clientjobID == 49) and (intraitosBrasseur == true) then
           TriggerServerEvent('MyInvJobBrasseur')
		   intraitosBrasseur = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeofrevente == true) and (clientjobID == 49) and (inreventeBrasseur == false) then
           if IsPedInAnyVehicle(LocalPed(), true) == false then
		   TriggerServerEvent('MyInvJobBrasseur')
		   inreventeBrasseur = true
		   else
		       DrawMissionTextBrasseur("~h~~r~Vous devez sortir du vÃ©hicule pour travailler.", 2000)
		   end
        elseif IsControlJustPressed(1, 38) and (inrangeofrevente == true) and (clientjobID == 49) and (inreventeBrasseur == true) then
           TriggerServerEvent('MyInvJobBrasseur')
		   inreventeBrasseur = false
        end
    end
end)



local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowBrasseurBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                 local CannaCrimi = {
	opened = false,
	title = "CannaCrimi",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}

local CannaCrimi_locations = {
{enteringCannaCrimi = {474.3488,-1951.734,23.63132}, innutile4 = {474.3488,-1951.734,23.63132}, outsideCannaCrimi = {476.7798,-1970.316,24.64362}},
}

local CannaCrimi_blips ={}
local inrangeofCannaCrimi = false
local inrangeofCannaCrimi3 = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxtCannaCrimi(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfCannaCrimi()
return inrangeofCannaCrimi
end

function IsPlayerInRangeOfCannaCrimi3()
return inrangeofCannaCrimi3
end


function DrawMissionTextCannaCrimi(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

nbchanvrecrimi = 0
nbcannacrimi = 0
clocktime = 0

function ShowInfoCanna(text, state)
	SetTextComponentFormat("STRING")
	AddTextComponentString(text)
	DisplayHelpTextFromStringLabel(0, state, 0, -1)
end

onCrimiDrogue1 = 1
inrecoltCanna = false
intraitosCanna = false
inreventeCanna = false
inrangeofchampsCanna = false
inrangeoftraitosCanna = false
inrangeofreventeCanna = false

RegisterNetEvent('MyInvCrimiClient')
AddEventHandler('MyInvCrimiClient', function(result, result2,hours)
    
    nbchanvrecrimi = result
	nbcannacrimi = result2
	clocktime = hours
	
end)

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if onCrimiDrogue1 == 1 then
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), -115.7798,1909.828,196.229, true) > 20.0001 then
						inrangeofchampsCanna = false
					elseif IsPedInAnyVehicle(LocalPed(), true) == false and GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), -115.7798,1909.828,196.229, true) < 20.0001 then
						inrangeofchampsCanna = true
						if (inrecoltCanna == false) then
						    ShowInfoCanna("Appuyez sur ~INPUT_CONTEXT~ pour rÃ©colter.", 0)
						end
					    if (inrecoltCanna == true) then
						    ShowInfoCanna("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de rÃ©colter.", 0)
						end
					end
					
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), -1522.251,1488.536,109.8354, true) > 15.0001 then
						inrangeoftraitosCanna = false
					elseif IsPedInAnyVehicle(LocalPed(), true) == false and GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), -1522.251,1488.536,109.8354, true) < 15.0001 then
						inrangeoftraitosCanna = true
						if (intraitosCanna == false) then
					        ShowInfoCanna("Appuyez sur ~INPUT_CONTEXT~ pour traiter.", 0)
						end
					    if (intraitosCanna == true) then
						    ShowInfoCanna("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de traiter.", 0)
						end
					end
					
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), -424.9755,-2192.815,8.869933, true) > 5.0001 then
						inrangeofreventeCanna = false
					elseif IsPedInAnyVehicle(LocalPed(), true) == false and GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), -424.9755,-2192.815,8.869933, true) < 5.0001 then
					    inrangeofreventeCanna = true
					    if (inreventeCanna == false) then
						    ShowInfoCanna("Appuyez sur ~INPUT_CONTEXT~ pour vendre.", 0)
						end
					    if (inreventeCanna == true) then
						    ShowInfoCanna("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de vendre.", 0)
						end
					end
		end
	end
end)
	
Citizen.CreateThread(function()
	while true do
        Citizen.Wait(0)
			
			
			if (inrecoltCanna == true) then
			    if (inrangeofchampsCanna == true) then
           		    if (tonumber(nbchanvrecrimi) >= 32) then
				    	DrawMissionTextCannaCrimi("~h~~r~Inventaire Complet", 10000)
				    	inrecoltCanna = false
				    else
				        while (tonumber(nbchanvrecrimi) < 31) and (inrecoltCanna == true) and (inrangeofchampsCanna == true) do
				        DrawMissionTextCannaCrimi("~h~~b~RÃ©colte~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextCannaCrimi("~h~~g~+1~w~ Chanvre...", 1000)
				    	TriggerServerEvent('CheckChanvre', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvCrimi')
					    Wait(1)
					    end
				    end
				else
				    inrecoltCanna = false
				end
			
			end
			
			if (intraitosCanna == true) then
			    if (inrangeoftraitosCanna == true) then
				--if ((clocktime>13) or (clocktime<2)) then
           		    if (tonumber(nbchanvrecrimi) <= 0) then
				    	DrawMissionTextCannaCrimi("~h~~g~Traitement terminÃ©", 10000)
				    	intraitosCanna = false
				    else
				        while (tonumber(nbchanvrecrimi) > 1) and (intraitosCanna == true) and (inrangeoftraitosCanna == true) do
				        DrawMissionTextCannaCrimi("~h~~b~Traitement~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextCannaCrimi("~h~~g~+1~w~ Cannabis...", 1000)
				    	TriggerServerEvent('CheckCanna', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvCrimi')
					    Wait(1)
					    end
				    end
				--end
				else
				    intraitosCanna = false
				end
			
			end
			
			if (inreventeCanna == true) then
			    if (inrangeofreventeCanna == true) then
				
           		    if (tonumber(nbcannacrimi) <= 0) then
				    	DrawMissionTextCannaCrimi("~h~~g~Revente terminÃ©e", 10000)
				    	inreventeCanna = false
				    else
				        while (tonumber(nbcannacrimi) > 1) and (inreventeCanna == true) and (inrangeofreventeCanna == true) do
				        DrawMissionTextCannaCrimi("~h~~b~Revente~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextCannaCrimi("~h~Vous avez vendu ~g~1 Cannabis~w~...", 1000)
				    	TriggerServerEvent('CheckCannaVendu', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvCrimi')
					    Wait(1)
					    end
				    end
					
				else
				    inreventeCanna = false
				end
			
			end
	end
end)


Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeofchampsCanna == true) and (inrecoltCanna == false) then
           TriggerServerEvent('MyInvCrimi')
		   inrecoltCanna = true
        elseif IsControlJustPressed(1, 38) and (inrangeofchampsCanna == true) and (inrecoltCanna == true) then
           TriggerServerEvent('MyInvCrimi')
		   inrecoltCanna = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeoftraitosCanna == true) and (intraitosCanna == false) then
           TriggerServerEvent('MyInvCrimi')
		   intraitosCanna = true
        elseif IsControlJustPressed(1, 38) and (inrangeoftraitosCanna == true) and (intraitosCanna == true) then
           TriggerServerEvent('MyInvCrimi')
		   intraitosCanna = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeofreventeCanna == true) and (inreventeCanna == false) then
           TriggerServerEvent('MyInvCrimi')
		   inreventeCanna = true
        elseif IsControlJustPressed(1, 38) and (inrangeofreventeCanna == true) and (inreventeCanna == true) then
           TriggerServerEvent('MyInvCrimi')
		   inreventeCanna = false
        end
    end
end)



local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                   local CocaCrimi = {
	opened = false,
	title = "CocaCrimi",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}

local CocaCrimi_blips ={}
local inrangeofCocaCrimi = false
local inrangeofCocaCrimi3 = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxtCocaCrimi(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfCocaCrimi()
return inrangeofCocaCrimi
end

function IsPlayerInRangeOfCocaCrimi3()
return inrangeofCocaCrimi3
end


function DrawMissionTextCocaCrimi(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

nbCocaCrimi = 0
nbCocaineCrimi = 0
clocktime = 0

function ShowInfoCoca(text, state)
	SetTextComponentFormat("STRING")
	AddTextComponentString(text)
	DisplayHelpTextFromStringLabel(0, state, 0, -1)
end

onCrimiDrogue2 = 1
inrecoltCoca = false
intraitosCoca = false
inreventeCoca = false
inrangeofchampsCoca = false
inrangeoftraitosCoca = false
inrangeofreventeCoca = false

RegisterNetEvent('MyInvCrimi2Client2')
AddEventHandler('MyInvCrimi2Client2', function(result, result2, hours)
    
    nbCocaCrimi = result
	nbCocaineCrimi = result2
	clocktime = hours
	
end)

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if onCrimiDrogue2 == 1 then
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), -1063.784,4559.583,101.7994, true) > 10.0001 then
						inrangeofchampsCoca = false
					elseif IsPedInAnyVehicle(LocalPed(), true) == false and GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), -1063.784,4559.583,101.7994, true) < 20.0001 then
						inrangeofchampsCoca = true
						if (inrecoltCoca == false) then
						    ShowInfoCoca("Appuyez sur ~INPUT_CONTEXT~ pour rÃ©colter.", 0)
						end
					    if (inrecoltCoca == true) then
						    ShowInfoCoca("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de rÃ©colter.", 0)
						end
					end
					
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), -1462.911,-381.4039,38.8647, true) > 5.0001 then
						inrangeoftraitosCoca = false
					elseif IsPedInAnyVehicle(LocalPed(), true) == false and GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), -1462.911,-381.4039,38.8647, true) < 5.0001 then
						inrangeoftraitosCoca = true
						if (intraitosCoca == false) then
					        ShowInfoCoca("Appuyez sur ~INPUT_CONTEXT~ pour traiter.", 0)
						end
					    if (intraitosCoca == true) then
						    ShowInfoCoca("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de traiter.", 0)
						end
					end
					
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), 120.9251,-3215.095,6.004329, true) > 1.0001 then
						inrangeofreventeCoca = false
					elseif IsPedInAnyVehicle(LocalPed(), true) == false and GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), 120.9251,-3215.095,6.004329, true) < 1.0001 then
					    inrangeofreventeCoca = true
					    if (inreventeCoca == false) then
						    ShowInfoCoca("Appuyez sur ~INPUT_CONTEXT~ pour vendre.", 0)
						end
					    if (inreventeCoca == true) then
						    ShowInfoCoca("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de vendre.", 0)
						end
					end
		end
	end
end)
	
Citizen.CreateThread(function()
	while true do
        Citizen.Wait(0)
			
			
			if (inrecoltCoca == true) then
			    if (inrangeofchampsCoca == true) then
				
           		    if (tonumber(nbCocaCrimi) >= 32) then
				    	DrawMissionTextCocaCrimi("~h~~r~Inventaire Complet", 10000)
				    	inrecoltCoca = false
				    else
				        while (tonumber(nbCocaCrimi) < 31) and (inrecoltCoca == true) and (inrangeofchampsCoca == true) do
				        DrawMissionTextCocaCrimi("~h~~b~RÃ©colte~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextCocaCrimi("~h~~g~+1~w~ Feuille de Coca...", 1000)
				    	TriggerServerEvent('CheckCoca', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvCrimi2')
					    Wait(1)
					    end
				    end
					
				else
				    inrecoltCoca = false
				end
			
			end
			
			if (intraitosCoca == true) then
			    if (inrangeoftraitosCoca == true) then
				--if ((clocktime>13) or (clocktime<2)) then
           		    if (tonumber(nbCocaCrimi) <= 0) then
				    	DrawMissionTextCocaCrimi("~h~~g~Traitement terminÃ©", 10000)
				    	intraitosCoca = false
				    else
				        while (tonumber(nbCocaCrimi) > 1) and (intraitosCoca == true) and (inrangeoftraitosCoca == true) do
				        DrawMissionTextCocaCrimi("~h~~b~Traitement~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextCocaCrimi("~h~~g~+1~w~ CocaÃ¯ne...", 1000)
				    	TriggerServerEvent('CheckCocaine', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvCrimi2')
					    Wait(1)
					    end
				    end
				--end	
				else
				    intraitosCoca = false
				end
			
			end
			
			if (inreventeCoca == true) then
			    if (inrangeofreventeCoca == true) then
				
           		    if (tonumber(nbCocaineCrimi) <= 0) then
				    	DrawMissionTextCocaCrimi("~h~~g~Revente terminÃ©e", 10000)
				    	inreventeCoca = false
				    else
				        while (tonumber(nbCocaineCrimi) > 1) and (inreventeCoca == true) and (inrangeofreventeCoca == true) do
				        DrawMissionTextCocaCrimi("~h~~b~Revente~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextCocaCrimi("~h~Vous avez vendu ~g~1 CocaÃ¯ne~w~...", 1000)
				    	TriggerServerEvent('CheckCocaineVendu', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvCrimi2')
					    Wait(1)
					    end
				    end
					
				else
				    inreventeCoca = false
				end
			
			end
	end
end)


Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeofchampsCoca == true) and (inrecoltCoca == false) then
           TriggerServerEvent('MyInvCrimi2')
		   inrecoltCoca = true
        elseif IsControlJustPressed(1, 38) and (inrangeofchampsCoca == true) and (inrecoltCoca == true) then
           TriggerServerEvent('MyInvCrimi2')
		   inrecoltCoca = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeoftraitosCoca == true) and (intraitosCoca == false) then
           TriggerServerEvent('MyInvCrimi2')
		   intraitosCoca = true
        elseif IsControlJustPressed(1, 38) and (inrangeoftraitosCoca == true) and (intraitosCoca == true) then
           TriggerServerEvent('MyInvCrimi2')
		   intraitosCoca = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeofreventeCoca == true) and (inreventeCoca == false) then
           TriggerServerEvent('MyInvCrimi2')
		   inreventeCoca = true
        elseif IsControlJustPressed(1, 38) and (inrangeofreventeCoca == true) and (inreventeCoca == true) then
           TriggerServerEvent('MyInvCrimi2')
		   inreventeCoca = false
        end
    end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             local EcstaCrimi = {
	opened = false,
	title = "EcstaCrimi",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}

local EcstaCrimi_blips ={}
local inrangeofEcstaCrimi = false
local inrangeofEcstaCrimi3 = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxtEcstaCrimi(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfEcstaCrimi()
return inrangeofEcstaCrimi
end

function IsPlayerInRangeOfEcstaCrimi3()
return inrangeofEcstaCrimi3
end


function DrawMissionTextEcstaCrimi(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

nbSassaCrimi = 0
nbEcstasyCrimi = 0
clocktime = 0

function ShowInfoEcsta(text, state)
	SetTextComponentFormat("STRING")
	AddTextComponentString(text)
	DisplayHelpTextFromStringLabel(0, state, 0, -1)
end

onCrimiDrogue3 = 1
inrecoltEcsta = false
intraitosEcsta = false
inreventeEcsta = false
inrangeofchampsEcsta = false
inrangeoftraitosEcsta = false
inrangeofreventeEcsta = false

RegisterNetEvent('MyInvCrimi3Client3')
AddEventHandler('MyInvCrimi3Client3', function(result, result2, hours)
    
    nbSassaCrimi = result
	nbEcstasyCrimi = result2
	clocktime = hours
	
end)

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if onCrimiDrogue3 == 1 then
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), 1382.868,5527.255,454.5648, true) > 10.0001 then
						inrangeofchampsEcsta = false
					elseif IsPedInAnyVehicle(LocalPed(), true) == false and GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), 1382.868,5527.255,454.5648, true) < 10.0001 then
						inrangeofchampsEcsta = true
						if (inrecoltEcsta == false) then
						    ShowInfoEcsta("Appuyez sur ~INPUT_CONTEXT~ pour rÃ©colter.", 0)
						end
					    if (inrecoltEcsta == true) then
						    ShowInfoEcsta("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de rÃ©colter.", 0)
						end
					end
					
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), -590.468,-287.4513,50.32396, true) > 6.0001 then
						inrangeoftraitosEcsta = false
					elseif IsPedInAnyVehicle(LocalPed(), true) == false and GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), -590.468,-287.4513,50.32396, true) < 5.0001 then
						inrangeoftraitosEcsta = true
						if (intraitosEcsta == false) then
					        ShowInfoEcsta("Appuyez sur ~INPUT_CONTEXT~ pour traiter.", 0)
						end
					    if (intraitosEcsta == true) then
						    ShowInfoEcsta("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de traiter.", 0)
						end
					end
					
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), 472.1702,-1078.238,29.35196, true) > 1.0001 then
						inrangeofreventeEcsta = false
					elseif IsPedInAnyVehicle(LocalPed(), true) == false and GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), 472.1702,-1078.238,29.35196, true) < 1.0001 then
					    inrangeofreventeEcsta = true
					    if (inreventeEcsta == false) then
						    ShowInfoEcsta("Appuyez sur ~INPUT_CONTEXT~ pour vendre.", 0)
						end
					    if (inreventeEcsta == true) then
						    ShowInfoEcsta("Appuyez sur ~INPUT_CONTEXT~ pour ~r~arrÃªter~w~ de vendre.", 0)
						end
					end
		end
	end
end)
	
Citizen.CreateThread(function()
	while true do
        Citizen.Wait(0)
			
			
			if (inrecoltEcsta == true) then
			    if (inrangeofchampsEcsta == true) then
				
           		    if (tonumber(nbSassaCrimi) >= 32) then
				    	DrawMissionTextEcstaCrimi("~h~~r~Inventaire Complet", 10000)
				    	inrecoltEcsta = false
				    else
				        while (tonumber(nbSassaCrimi) < 31) and (inrecoltEcsta == true) and (inrangeofchampsEcsta == true) do
				        DrawMissionTextEcstaCrimi("~h~~b~RÃ©colte~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextEcstaCrimi("~h~~g~+1~w~ Feuille de Sassafras...", 1000)
				    	TriggerServerEvent('CheckSassa', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvCrimi3')
					    Wait(1)
					    end
				    end
					
				else
				    inrecoltEcsta = false
				end
			
			end
			
			if (intraitosEcsta == true) then
			    if (inrangeoftraitosEcsta == true) then
				--if ((clocktime>13) or (clocktime<2)) then
           		    if (tonumber(nbSassaCrimi) <= 0) then
				    	DrawMissionTextEcstaCrimi("~h~~g~Traitement terminÃ©", 10000)
				    	intraitosEcsta = false
				    else
				        while (tonumber(nbSassaCrimi) > 1) and (intraitosEcsta == true) and (inrangeoftraitosEcsta == true) do
				        DrawMissionTextEcstaCrimi("~h~~b~Traitement~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextEcstaCrimi("~h~~g~+1~w~ Ecstasy...", 1000)
				    	TriggerServerEvent('CheckEcsta', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvCrimi3')
					    Wait(1)
					    end
				    end
				--end	
				else
				    intraitosEcsta = false
				end
			
			end
			
			if (inreventeEcsta == true) then
			    if (inrangeofreventeEcsta == true) then
				
           		    if (tonumber(nbEcstasyCrimi) <= 0) then
				    	DrawMissionTextEcstaCrimi("~h~~g~Revente terminÃ©e", 10000)
				    	inreventeEcsta = false
				    else
				        while (tonumber(nbEcstasyCrimi) > 1) and (inreventeEcsta == true) and (inrangeofreventeEcsta == true) do
				        DrawMissionTextEcstaCrimi("~h~~b~Revente~w~ en cours...", 3000)
				    	Wait(3000)
				        DrawMissionTextEcstaCrimi("~h~Vous avez vendu ~g~1 Ecstasy~w~...", 1000)
				    	TriggerServerEvent('CheckEcstaVendu', 1)
					    Wait(1000)
					    TriggerServerEvent('MyInvCrimi3')
					    Wait(1)
					    end
				    end
					
				else
				    inreventeEcsta = false
				end
			
			end
	end
end)


Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeofchampsEcsta == true) and (inrecoltEcsta == false) then
           TriggerServerEvent('MyInvCrimi3')
		   inrecoltEcsta = true
        elseif IsControlJustPressed(1, 38) and (inrangeofchampsEcsta == true) and (inrecoltEcsta == true) then
           TriggerServerEvent('MyInvCrimi3')
		   inrecoltEcsta = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeoftraitosEcsta == true) and (intraitosEcsta == false) then
           TriggerServerEvent('MyInvCrimi3')
		   intraitosEcsta = true
        elseif IsControlJustPressed(1, 38) and (inrangeoftraitosEcsta == true) and (intraitosEcsta == true) then
           TriggerServerEvent('MyInvCrimi3')
		   intraitosEcsta = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1, 38) and (inrangeofreventeEcsta == true) and (inreventeEcsta == false) then
           TriggerServerEvent('MyInvCrimi3')
		   inreventeEcsta = true
        elseif IsControlJustPressed(1, 38) and (inrangeofreventeEcsta == true) and (inreventeEcsta == true) then
           TriggerServerEvent('MyInvCrimi3')
		   inreventeEcsta = false
        end
    end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        local Dealer1 = {
	opened = false,
	title = "Dog Jr",
	currentmenu = "main2",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.9,
		y = 0.20,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main2"] = { 
			title = "", 
			name = "main2",
			buttons = { 
				-- {name = "Je viens rÃ©cupÃ©rer un colis", description = ""},
				{name = "T'as pas une info pour moi ?", description = ""},
			}
		},
		["menucolis"] = { 
			title = "", 
			name = "menucolis",
			buttons = { 
				{name = "Pour moi unniquement.", costs = 0, description = {}, model = ""},
				{name = "Pour me faire un peu de sous.", costs = 0, description = {}, model = ""},
			}
		},
		["menurecolte"] = { 
			title = "", 
			name = "menurecolte",
			buttons = { 
				{name = "Ok j'ai un peu d'argent", costs = 0, description = {}, model = ""},
				{name = "En fait, je doit y aller.", costs = 0, description = {}, model = ""},
			}
		},
		["menurecolte2"] = { 
			title = "", 
			name = "menurecolte2",
			buttons = {
				{name = "J'veux rÃ©colter (GRATUIT)", costs = 0, description = {}, model = ""},
				{name = "J'veux rouler (15 000$)", costs = 15000, description = {}, model = ""},
				{name = "J'veux revendre (35 000$)", costs = 35000, description = {}, model = ""},
			}
		},
	}
}
local fakecar = {model = '', car = nil}
local Dealer1_locations = {
{insideWeed = {307.5233,-213.448,57.01924}},
}

function DrawMissionTextDealer1(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

local Dealer1_blips ={}
local inrangeofDealer1 = false
local currentlocation = nil
local boughtcloth = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfDealer1()
return inrangeofDealer1
end


function ShowInfoDealer1(text, state)
	SetTextComponentFormat("STRING")
	AddTextComponentString(text)
	DisplayHelpTextFromStringLabel(0, state, 0, -1)
end

function ShowDealer1Blips(bool)
	if bool and #Dealer1_blips == 0 then
		for station,pos in pairs(Dealer1_locations) do
			local loc = pos
			pos = pos.insideWeed
			-- local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- SetBlipSprite(blip,140)
			-- SetBlipColour(blip, 2)
			-- BeginTextCommandSetBlipName("STRING")
			-- AddTextComponentString('Dog Jr')
			-- EndTextCommandSetBlipName(blip)
			-- SetBlipAsShortRange(blip,true)
			-- SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Dealer1_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #Dealer1_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(Dealer1_blips) do
					if  Dealer1.opened == false and  GetDistanceBetweenCoords(b.pos.insideWeed[1],b.pos.insideWeed[2],b.pos.insideWeed[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.insideWeed[1],b.pos.insideWeed[2],b.pos.insideWeed[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.insideWeed[1],b.pos.insideWeed[2],b.pos.insideWeed[3],GetEntityCoords(LocalPed()),true) < 4 then
						ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour parler avec ~b~Dog Jr", 0)
						inrange = true
						end
					end
				end
				inrangeofDealer1 = inrange
			end
		end)
	elseif bool == false and #Dealer1_blips > 0 then
		for i,b in ipairs(Dealer1_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		Dealer1_blips = {}
	end
end

function fi(n)
return n + 0.0001
end

function LocalPed()
return GetPlayerPed(-1)
end

function trycloth(fi, catch_f)
local status, exception = pcall(fi)
if not status then
catch_f(exception)
end
end
function firstToUpperCloth(str)
    return (str:gsub("^%l", string.upper))
end
--local veh = nil
function OpenCreatorDealer1()		
	boughtcloth = false
	local ped = LocalPed()
	local pos = currentlocation.pos.insideWeed
	local g = Citizen.InvokeNative(0xC906A7DAB05C8D2B,pos[1],pos[2],pos[3],Citizen.PointerValueFloat(),0)
	Dealer1.currentmenu = "main2"
	Dealer1.opened = true
	Dealer1.selectedbutton = 0
end
local cloth_price = 0
function CloseCreatorDealer1()
	Citizen.CreateThread(function()
		local ped = LocalPed()
		if not boughtcloth then
			local pos = currentlocation.pos.insideWeed
			FreezeEntityPosition(ped,false)
			SetEntityVisible(ped,true)
		else
			local model = GetEntityModel(cloth)

			Citizen.InvokeNative(0xEA386986E786A54F, Citizen.PointerValueIntInitialized(cloth))
			local pos = currentlocation.pos.insideWeed

			FreezeEntityPosition(ped,false)
			RequestModel(model)
			while not HasModelLoaded(model) do
				Citizen.Wait(0)
			end
			SetModelAsNoLongerNeeded(model)
			SetClothHasBeenOwnedByPlayer(skin,true)
			local id = NetworkGetNetworkIdFromEntity(skin)
			SetNetworkIdCanMigrate(id, true)
			Citizen.InvokeNative(0x629BFA74418D6239,Citizen.PointerValueIntInitialized(skin))
			SetEntityVisible(ped,true)
			FreezeEntityPosition(ped,false)		
		end
		Dealer1.opened = false
		Dealer1.menu.from = 1
		Dealer1.menu.to = 10
	end)
end
	
function drawMenuButton(button,x,y,selected)
	local menu = Dealer1.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = Dealer1.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = Dealer1.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitleDealers(txt,x,y)
local menu = Dealer1.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end

function NotifyDealer1(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

function DoesPlayerHaveWeed(model,button,y,selected)
		local t = false
		--TODO:check if player own car
		if t then
			drawMenuRight("OWNED",Dealer1.menu.x,y,selected)
		else
			drawMenuRight(button.costs.."$",Dealer1.menu.x,y,selected)
		end
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfDealer1() then
			if Dealer1.opened then
				CloseCreatorDealer1()
			else
			    if (clientjobID ~= 10) then
				OpenCreatorDealer1()
				DrawMissionTextDealer1("~h~~g~Dog Jr~w~ : Yo Man !", 1000)
				Wait(1000)
				DrawMissionTextDealer1("~h~~g~Dog Jr~w~ : Qu'est-ce que je peux faire pour toi man ?", 10000)
				else
					DrawMissionTextDealer1("~h~~g~Dog Jr~w~ : DÃ©solÃ© je ne peux rien pour toi.", 10000)
				end
			end
		end
		if Dealer1.opened then
			local ped = LocalPed()
			local menu = Dealer1.menu[Dealer1.currentmenu]
			drawTxt(Dealer1.title,1,1,Dealer1.menu.x,Dealer1.menu.y,1.0, 255,255,255,255)
			drawMenuTitleDealers(menu.title, Dealer1.menu.x,Dealer1.menu.y + 0.08)
			drawTxt(Dealer1.selectedbutton.."/"..tablelength(menu.buttons),0,0,Dealer1.menu.x + Dealer1.menu.width/2 - 0.0385,Dealer1.menu.y + 0.067,0.4, 255,255,255,255)
			local y = Dealer1.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= Dealer1.menu.from and i <= Dealer1.menu.to then
					
					if i == Dealer1.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,Dealer1.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedDealer1(button)
					end
				end
			end	
		end
		if Dealer1.opened then
			if IsControlJustPressed(1,202) then
				BackWeed()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if Dealer1.selectedbutton > 1 then
					Dealer1.selectedbutton = Dealer1.selectedbutton -1
					if buttoncount > 10 and Dealer1.selectedbutton < Dealer1.menu.from then
						Dealer1.menu.from = Dealer1.menu.from -1
						Dealer1.menu.to = Dealer1.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if Dealer1.selectedbutton < buttoncount then
					Dealer1.selectedbutton = Dealer1.selectedbutton +1
					if buttoncount > 10 and Dealer1.selectedbutton > Dealer1.menu.to then
						Dealer1.menu.to = Dealer1.menu.to + 1
						Dealer1.menu.from = Dealer1.menu.from + 1
					end
				end	
			end
		end
		
	end
end)


function roundDealer1(num1, idp2)
  if idp2 and idp2>0 then
    local mult = 10^idp2
    return math.floor(num1 * mult + 0.5) / mult
  end
  return math.floor(num1 + 0.5)
end
function ButtonSelectedDealer1(button)
	local ped = GetPlayerPed(-1)
	local this = Dealer1.currentmenu
	local btn = button.name
	if this == "main2" then
		if btn == "Je viens rÃ©cupÃ©rer un colis" then
			OpenMenuWeed('menucolis')
			DrawMissionTextDealer1(m_text, 10000)
		elseif btn == "T'as pas une info pour moi ?" then
			OpenMenuWeed('menurecolte')
			DrawMissionTextDealer1("~h~~g~Dog Jr~w~ : Ouais man j'ai des infos, mais c'est pas gratuit...", 10000)
		end
	-- elseif this == "menucolis" then
		-- if btn == "Je viens rÃ©cupÃ©rer un colis" then
			-- OpenMenuWeed('menucolis')
		-- elseif btn == "T'as pas une info pour moi ?" then
			-- OpenMenuWeed('menurecolte')
		-- end
	elseif this == "menurecolte" then
		if btn == "Ok j'ai un peu d'argent" then
			OpenMenuWeed('menurecolte2')
			DrawMissionTextDealer1("~h~~g~Dog Jr~w~ : Bah Ã©coute man, moi je connais la Sainte fougÃ¨re..", 10000)
		elseif btn == "En fait, je doit y aller." then
			CloseCreatorDealer1()
		end
	elseif this == "menurecolte2" then
		if btn == "J'veux rÃ©colter (GRATUIT)" then
		DrawMissionTextDealer1("~h~~g~Dog Jr~w~ : J'ai un pote qui cultive au ~b~Nord~w~ man.~n~Regarde, c'est juste lÃ !", 20000)
		TriggerServerEvent('CheckDealer1PointRecolte', source)
		elseif btn == "J'veux rouler (15 000$)" then
		DrawMissionTextDealer1("~h~~g~Dog Jr~w~ : Il y a un ~b~Fleuve~w~ vers le nord, il a de super feuilles pour rouler man!", 20000)
		TriggerServerEvent('CheckDealer1PointTraitos', source)
		elseif btn == "J'veux revendre (35 000$)" then
		DrawMissionTextDealer1("~h~~g~Dog Jr~w~ : Je connais un gars qui rachÃ¨te bien man, il traine au ~b~Sud de la ville~w~ man.", 20000)
		TriggerServerEvent('CheckDealer1PointRevente', source)
		end
	end
end

dogjrchamps = nil
dogjrtraitos = nil
dogjrrevente = nil

RegisterNetEvent('DogNoMoney')
AddEventHandler('DogNoMoney', function()
   DrawMissionTextDealer1("~h~~g~Dog Jr~w~ : DÃ©solÃ© man, j'fait pas la charitÃ©", 10000)	
end)

RegisterNetEvent('GoToCannaChamps')
AddEventHandler('GoToCannaChamps', function()
   dogjrchamps = 1	
end)

RegisterNetEvent('GoToCannaTraitos')
AddEventHandler('GoToCannaTraitos', function()
   dogjrtraitos = 1	
end)

RegisterNetEvent('GoToCannaRevente')
AddEventHandler('GoToCannaRevente', function()
   dogjrrevente = 1	
end)


function StopDogJR()
		if CannaChamps ~= nil and DoesBlipExist(CannaChamps) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(CannaChamps))
			CannaChamps = nil
		end
		if CannaTraitos ~= nil and DoesBlipExist(CannaTraitos) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(CannaTraitos))
			CannaTraitos = nil
		end
		if CannaRevente ~= nil and DoesBlipExist(CannaRevente) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(CannaRevente))
			CannaRevente = nil
		end
		dogjrchamps = nil
		dogjrtraitos = nil
		dogjrrevente = nil
end


Citizen.CreateThread(function()
	while true do
		Wait(0)
		if (dogjrchamps == 1) then
			CannaChamps = AddBlipForCoord(-115.7798,1909.828,196.229)
			SetBlipSprite(CannaChamps,140)
			SetBlipColour(CannaChamps, 1)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Champs de Cannabis')
			EndTextCommandSetBlipName(CannaChamps)
			Wait(120000)
			dogjrchamps = 2
		end
		if (dogjrchamps == 2) then
		    StopDogJR()
		end
	end
end)

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if (dogjrtraitos == 1) then
			CannaTraitos = AddBlipForCoord(-1522.251,1488.536,109.8354)
			SetBlipSprite(CannaTraitos,140)
			SetBlipColour(CannaTraitos, 1)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Fleuve')
			EndTextCommandSetBlipName(CannaTraitos)
			Wait(120000)
			dogjrtraitos = 2
		end
		if (dogjrtraitos == 2) then
		    StopDogJR()
		end
	end
end)

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if (dogjrrevente == 1) then
			CannaRevente = AddBlipForCoord(-424.9755,-2192.815,8.869933)
			SetBlipSprite(CannaRevente,140)
			SetBlipColour(CannaRevente, 1)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Zone portuaire')
			EndTextCommandSetBlipName(CannaRevente)
			Wait(120000)
			dogjrrevente = 2
		end
		if (dogjrrevente == 2) then
		    StopDogJR()
		end
	end
end)

RegisterNetEvent('FinishCheckDealer1')
AddEventHandler('FinishCheckDealer1', function()
	boughtcloth = true
	CloseCreatorDealer1()
	Dealer1.opened = false
	Dealer1.menu.from = 1
	Dealer1.menu.to = 10
	
end)

function OpenMenuWeed(menu)
	Dealer1.lastmenu = Dealer1.currentmenu
	if menu == "menucolis" then
		Dealer1.lastmenu = "main2"
	elseif menu == "menurecolte"  then
		Dealer1.lastmenu = "main2"
	elseif menu == 'menurecolte' then
		Dealer1.lastmenu = "main2"
	elseif menu == "race_create_objects_spawn" then
		Dealer1.lastmenu = "race_create_objects"
	end
	Dealer1.menu.from = 1
	Dealer1.menu.to = 10
	Dealer1.selectedbutton = 0
	Dealer1.currentmenu = menu	
end


function BackWeed()
	if backlock then
		return
	end
	backlock = true
	if Dealer1.currentmenu == "main2" then
	    
		DrawMissionTextDealer1("~h~~g~Dog Jr~w~ : TchÃ´ man !", 5000)
		CloseCreatorDealer1()
	elseif Dealer1.currentmenu == "menucolis" or Dealer1.currentmenu == "menurecolte" or Dealer1.currentmenu == "menurecolte2" then
		fakecar = {model = '', car = nil}
		OpenMenuWeed(Dealer1.lastmenu)
	else
		OpenMenuWeed(Dealer1.lastmenu)
	end
	
end

function stringstartsWeed(String1,Start2)
   return string.sub(String1,1,string.len(Start2))==Start2
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowDealer1Blips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         local Dealer2 = {
	opened = false,
	title = "El Chapo",
	currentmenu = "main2",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.9,
		y = 0.20,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main2"] = { 
			title = "", 
			name = "main2",
			buttons = { 
				-- {name = "Je viens rÃ©cupÃ©rer un colis", description = ""},
				{name = "T'as pas une info pour moi ?", description = ""},
			}
		},
		["menucolis"] = { 
			title = "", 
			name = "menucolis",
			buttons = { 
				{name = "Pour moi unniquement.", costs = 0, description = {}, model = ""},
				{name = "Pour me faire un peu de sous.", costs = 0, description = {}, model = ""},
			}
		},
		["menurecolte"] = { 
			title = "", 
			name = "menurecolte",
			buttons = { 
				{name = "Ok j'ai un peu d'argent", costs = 0, description = {}, model = ""},
				{name = "En fait, je doit y aller.", costs = 0, description = {}, model = ""},
			}
		},
		["menurecolte2"] = { 
			title = "", 
			name = "menurecolte2",
			buttons = {
				{name = "J'veux rÃ©colter (GRATUIT)", costs = 0, description = {}, model = ""},
				{name = "J'veux en poudre (70 000$)", costs = 70000, description = {}, model = ""},
				{name = "J'veux revendre (130 000$)", costs = 130000, description = {}, model = ""},
			}
		},
	}
}
local fakecar = {model = '', car = nil}
local Dealer2_locations = {
{insideCocaine = {85.942,-1959.719,20.12169}},
}

function DrawMissionTextDealer2(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

local Dealer2_blips ={}
local inrangeofDealer2 = false
local currentlocation = nil
local boughtcloth = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfDealer2()
return inrangeofDealer2
end


function ShowInfoDealer2(text, state)
	SetTextComponentFormat("STRING")
	AddTextComponentString(text)
	DisplayHelpTextFromStringLabel(0, state, 0, -1)
end

function ShowDealer2Blips(bool)
	if bool and #Dealer2_blips == 0 then
		for station,pos in pairs(Dealer2_locations) do
			local loc = pos
			pos = pos.insideCocaine
			-- local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			-- SetBlipSprite(blip,140)
			-- SetBlipColour(blip, 2)
			-- BeginTextCommandSetBlipName("STRING")
			-- AddTextComponentString('El Chapo')
			-- EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Dealer2_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #Dealer2_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(Dealer2_blips) do
					if  Dealer2.opened == false and  GetDistanceBetweenCoords(b.pos.insideCocaine[1],b.pos.insideCocaine[2],b.pos.insideCocaine[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.insideCocaine[1],b.pos.insideCocaine[2],b.pos.insideCocaine[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.insideCocaine[1],b.pos.insideCocaine[2],b.pos.insideCocaine[3],GetEntityCoords(LocalPed()),true) < 4 then
						ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour parler avec ~b~El Chapo", 0)
						inrange = true
						end
					end
				end
				inrangeofDealer2 = inrange
			end
		end)
	elseif bool == false and #Dealer2_blips > 0 then
		for i,b in ipairs(Dealer2_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		Dealer2_blips = {}
	end
end

function fi(n)
return n + 0.0001
end

function LocalPed()
return GetPlayerPed(-1)
end

function trycloth(fi, catch_f)
local status, exception = pcall(fi)
if not status then
catch_f(exception)
end
end
function firstToUpperCloth(str)
    return (str:gsub("^%l", string.upper))
end
--local veh = nil
function OpenCreatorDealer2()		
	boughtcloth = false
	local ped = LocalPed()
	local pos = currentlocation.pos.insideCocaine
	local g = Citizen.InvokeNative(0xC906A7DAB05C8D2B,pos[1],pos[2],pos[3],Citizen.PointerValueFloat(),0)
	Dealer2.currentmenu = "main2"
	Dealer2.opened = true
	Dealer2.selectedbutton = 0
end
local cloth_price = 0

function CloseCreatorDealer2()
	Citizen.CreateThread(function()
		local ped = LocalPed()
		if not boughtcloth then
			local pos = currentlocation.pos.insideCocaine
			FreezeEntityPosition(ped,false)
			SetEntityVisible(ped,true)
		else
			local model = GetEntityModel(cloth)

			Citizen.InvokeNative(0xEA386986E786A54F, Citizen.PointerValueIntInitialized(cloth))
			local pos = currentlocation.pos.insideCocaine

			FreezeEntityPosition(ped,false)
			RequestModel(model)
			while not HasModelLoaded(model) do
				Citizen.Wait(0)
			end
			SetModelAsNoLongerNeeded(model)
			SetClothHasBeenOwnedByPlayer(skin,true)
			local id = NetworkGetNetworkIdFromEntity(skin)
			SetNetworkIdCanMigrate(id, true)
			Citizen.InvokeNative(0x629BFA74418D6239,Citizen.PointerValueIntInitialized(skin))
			SetEntityVisible(ped,true)
			FreezeEntityPosition(ped,false)		
		end
		Dealer2.opened = false
		Dealer2.menu.from = 1
		Dealer2.menu.to = 10
	end)
end
	
function drawMenuButton(button,x,y,selected)
	local menu = Dealer2.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = Dealer2.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = Dealer2.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitleDealers2(txt,x,y)
local menu = Dealer2.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end

function NotifyDealer2(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

function DoesPlayerHaveCocaine(model,button,y,selected)
		local t = false
		--TODO:check if player own car
		if t then
			drawMenuRight("OWNED",Dealer2.menu.x,y,selected)
		else
			drawMenuRight(button.costs.."$",Dealer2.menu.x,y,selected)
		end
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfDealer2() then
			if Dealer2.opened then
				CloseCreatorDealer2()
			else
			    if (clientjobID ~= 10) then
					if (clientCrimi ~= 0) then 
						OpenCreatorDealer2()
						DrawMissionTextDealer2("~h~~g~El Chapo~w~ : Hola seÃ±or !", 1000)
						Wait(1000)
						DrawMissionTextDealer2("~h~~g~El Chapo~w~ : Â¿QuÃ© puedo hacer por ti hombre?", 10000)
					else
						DrawMissionTextDealer2("~h~~g~El Chapo~w~ : Lo siento, no puedo ayudarte.", 10000)
					end
				else
					DrawMissionTextDealer2("~h~~g~El Chapo~w~ : Lo siento, no puedo ayudarte.", 10000)
				end
			end
		end
		if Dealer2.opened then
			local ped = LocalPed()
			local menu = Dealer2.menu[Dealer2.currentmenu]
			drawTxt(Dealer2.title,1,1,Dealer2.menu.x,Dealer2.menu.y,1.0, 255,255,255,255)
			drawMenuTitleDealers2(menu.title, Dealer2.menu.x,Dealer2.menu.y + 0.08)
			drawTxt(Dealer2.selectedbutton.."/"..tablelength(menu.buttons),0,0,Dealer2.menu.x + Dealer2.menu.width/2 - 0.0385,Dealer2.menu.y + 0.067,0.4, 255,255,255,255)
			local y = Dealer2.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= Dealer2.menu.from and i <= Dealer2.menu.to then
					
					if i == Dealer2.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,Dealer2.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedDealer2(button)
					end
				end
			end	
		end
		if Dealer2.opened then
			if IsControlJustPressed(1,202) then
				BackCocaine()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if Dealer2.selectedbutton > 1 then
					Dealer2.selectedbutton = Dealer2.selectedbutton -1
					if buttoncount > 10 and Dealer2.selectedbutton < Dealer2.menu.from then
						Dealer2.menu.from = Dealer2.menu.from -1
						Dealer2.menu.to = Dealer2.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if Dealer2.selectedbutton < buttoncount then
					Dealer2.selectedbutton = Dealer2.selectedbutton +1
					if buttoncount > 10 and Dealer2.selectedbutton > Dealer2.menu.to then
						Dealer2.menu.to = Dealer2.menu.to + 1
						Dealer2.menu.from = Dealer2.menu.from + 1
					end
				end	
			end
		end
		
	end
end)


function roundDealer2(num1, idp2)
  if idp2 and idp2>0 then
    local mult = 10^idp2
    return math.floor(num1 * mult + 0.5) / mult
  end
  return math.floor(num1 + 0.5)
end
function ButtonSelectedDealer2(button)
	local ped = GetPlayerPed(-1)
	local this = Dealer2.currentmenu
	local btn = button.name
	if this == "main2" then
		if btn == "Je viens rÃ©cupÃ©rer un colis" then
			OpenMenuCocaine('menucolis')
			-- DrawMissionTextDealer2(m_text, 10000)
		elseif btn == "T'as pas une info pour moi ?" then
			OpenMenuCocaine('menurecolte')
			DrawMissionTextDealer2("~h~~g~El Chapo~w~ : SÃ­ hombre tengo informaciÃ³n, pero no es libre ...", 10000)
		end
	-- elseif this == "menucolis" then
		-- if btn == "Je viens rÃ©cupÃ©rer un colis" then
			-- OpenMenuCocaine('menucolis')
		-- elseif btn == "T'as pas une info pour moi ?" then
			-- OpenMenuCocaine('menurecolte')
		-- end
	elseif this == "menurecolte" then
		if btn == "Ok j'ai un peu d'argent" then
			OpenMenuCocaine('menurecolte2')
			DrawMissionTextDealer2("~h~~g~El Chapo~w~ : Hombre toca, sÃ© que la Santa Blanca..", 10000)
		elseif btn == "En fait, je doit y aller." then
			CloseCreatorDealer2()
		end
	elseif this == "menurecolte2" then
		if btn == "J'veux rÃ©colter (GRATUIT)" then
		DrawMissionTextDealer2("~h~~g~El Chapo~w~ : Ve a ver el ~b~Monte Chilliad~w~, debajo de un arbusto.", 20000)
		TriggerServerEvent('CheckDealer2PointRecolte', source)
		elseif btn == "J'veux en poudre (70 000$)" then
		DrawMissionTextDealer2("~h~~g~El Chapo~w~ : Ve a ver el pequeÃ±o garaje en ~b~Morning Wood~w~.", 20000)
		TriggerServerEvent('CheckDealer2PointTraitos', source)
		elseif btn == "J'veux revendre (130 000$)" then
		DrawMissionTextDealer2("~h~~g~El Chapo~w~ : Los tipos del ~b~puerto~w~ quiero la nieve fresca", 20000)
		TriggerServerEvent('CheckDealer2PointRevente', source)
		end
	end
end

chapochamps = nil
chapotraitos = nil
chaporevente = nil

RegisterNetEvent('ChapoNoMoney')
AddEventHandler('ChapoNoMoney', function()
   DrawMissionTextDealer2("~h~~g~El Chapo~w~ : Â¡Fuera de mi casa!", 10000)	
end)

RegisterNetEvent('GoToCocaChamps')
AddEventHandler('GoToCocaChamps', function()
   chapochamps = 1	
end)

RegisterNetEvent('GoToCocaTraitos')
AddEventHandler('GoToCocaTraitos', function()
   chapotraitos = 1	
end)

RegisterNetEvent('GoToCocaRevente')
AddEventHandler('GoToCocaRevente', function()
   chaporevente = 1	
end)


function StopChapo()
		if CocaChamps ~= nil and DoesBlipExist(CocaChamps) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(CocaChamps))
			CocaChamps = nil
		end
		if CocaTraitos ~= nil and DoesBlipExist(CocaTraitos) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(CocaTraitos))
			CocaTraitos = nil
		end
		if CocaRevente ~= nil and DoesBlipExist(CocaRevente) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(CocaRevente))
			CocaRevente = nil
		end
		chapochamps = nil
		chapotraitos = nil
		chaporevente = nil
end


Citizen.CreateThread(function()
	while true do
		Wait(0)
		if (chapochamps == 1) then
			CocaChamps = AddBlipForCoord(-1063.784,4559.583,101.7994)
			SetBlipSprite(CocaChamps,140)
			SetBlipColour(CocaChamps, 1)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Champs de Coca')
			EndTextCommandSetBlipName(CocaChamps)
			Wait(120000)
			chapochamps = 2
		end
		if (chapochamps == 2) then
		    StopChapo()
		end
	end
end)

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if (chapotraitos == 1) then
			CocaTraitos = AddBlipForCoord(-1462.911,-381.4039,38.8647)
			SetBlipSprite(CocaTraitos,140)
			SetBlipColour(CocaTraitos, 1)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Garage de traitement')
			EndTextCommandSetBlipName(CocaTraitos)
			Wait(120000)
			chapotraitos = 2
		end
		if (chapotraitos == 2) then
		    StopChapo()
		end
	end
end)

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if (chaporevente == 1) then
			CocaRevente = AddBlipForCoord(120.9251,-3215.095,6.004329)
			SetBlipSprite(CocaRevente,140)
			SetBlipColour(CocaRevente, 1)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString("Port d'exportation")
			EndTextCommandSetBlipName(CocaRevente)
			Wait(120000)
			chaporevente = 2
		end
		if (chaporevente == 2) then
		    StopChapo()
		end
	end
end)

RegisterNetEvent('FinishCheckDealer2')
AddEventHandler('FinishCheckDealer2', function()
	boughtcloth = true
	CloseCreatorDealer2()
	Dealer2.opened = false
	Dealer2.menu.from = 1
	Dealer2.menu.to = 10
	
end)

function OpenMenuCocaine(menu)
	Dealer2.lastmenu = Dealer2.currentmenu
	if menu == "menucolis" then
		Dealer2.lastmenu = "main2"
	elseif menu == "menurecolte"  then
		Dealer2.lastmenu = "main2"
	elseif menu == 'menurecolte' then
		Dealer2.lastmenu = "main2"
	elseif menu == "race_create_objects_spawn" then
		Dealer2.lastmenu = "race_create_objects"
	end
	Dealer2.menu.from = 1
	Dealer2.menu.to = 10
	Dealer2.selectedbutton = 0
	Dealer2.currentmenu = menu	
end


function BackCocaine()
	if backlock then
		return
	end
	backlock = true
	if Dealer2.currentmenu == "main2" then
	    
		DrawMissionTextDealer2("~h~~g~El Chapo~w~ : Adios !", 5000)
		CloseCreatorDealer2()
	elseif Dealer2.currentmenu == "menucolis" or Dealer2.currentmenu == "menurecolte" or Dealer2.currentmenu == "menurecolte2" then
		fakecar = {model = '', car = nil}
		OpenMenuCocaine(Dealer2.lastmenu)
	else
		OpenMenuCocaine(Dealer2.lastmenu)
	end
	
end

function stringstartsCocaine(String1,Start2)
   return string.sub(String1,1,string.len(Start2))==Start2
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowDealer2Blips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                      local Dealer3 = {
	opened = false,
	title = "Ytzhak Abergil",
	currentmenu = "main2",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.9,
		y = 0.20,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main2"] = { 
			title = "", 
			name = "main2",
			buttons = { 
				-- {name = "Je viens rÃ©cupÃ©rer un colis", description = ""},
				{name = "T'as pas une info pour moi ?", description = ""},
			}
		},
		["menucolis"] = { 
			title = "", 
			name = "menucolis",
			buttons = { 
				{name = "Pour moi unniquement.", costs = 0, description = {}, model = ""},
				{name = "Pour me faire un peu de sous.", costs = 0, description = {}, model = ""},
			}
		},
		["menurecolte"] = { 
			title = "", 
			name = "menurecolte",
			buttons = { 
				{name = "Ok j'ai un peu d'argent", costs = 0, description = {}, model = ""},
				{name = "En fait, je doit y aller.", costs = 0, description = {}, model = ""},
			}
		},
		["menurecolte2"] = { 
			title = "", 
			name = "menurecolte2",
			buttons = {
				{name = "J'veux rÃ©colter (GRATUIT)", costs = 0, description = {}, model = ""},
				{name = "J'veux en poudre (30 000$)", costs = 30000, description = {}, model = ""},
				{name = "J'veux revendre (70 000$)", costs = 70000, description = {}, model = ""},
			}
		},
	}
}
local fakecar = {model = '', car = nil}
local Dealer3_locations = {
{insideEcstaine = {-580.0593,-778.5857,24.01721}},
}

function DrawMissionTextDealer3(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

local Dealer3_blips ={}
local inrangeofDealer3 = false
local currentlocation = nil
local boughtcloth = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfDealer3()
return inrangeofDealer3
end


function ShowInfoDealer3(text, state)
	SetTextComponentFormat("STRING")
	AddTextComponentString(text)
	DisplayHelpTextFromStringLabel(0, state, 0, -1)
end

function ShowDealer3Blips(bool)
	if bool and #Dealer3_blips == 0 then
		for station,pos in pairs(Dealer3_locations) do
			local loc = pos
			pos = pos.insideEcstaine
			-- local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			-- SetBlipSprite(blip,140)
			-- SetBlipColour(blip, 2)
			-- BeginTextCommandSetBlipName("STRING")
			-- AddTextComponentString('Ytzhak Abergil')
			-- EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Dealer3_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #Dealer3_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(Dealer3_blips) do
					if  Dealer3.opened == false and  GetDistanceBetweenCoords(b.pos.insideEcstaine[1],b.pos.insideEcstaine[2],b.pos.insideEcstaine[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.insideEcstaine[1],b.pos.insideEcstaine[2],b.pos.insideEcstaine[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.insideEcstaine[1],b.pos.insideEcstaine[2],b.pos.insideEcstaine[3],GetEntityCoords(LocalPed()),true) < 4 then
						ShowInfoJob("Appuyez sur ~INPUT_CONTEXT~ pour parler avec ~b~Ytzhak Abergil", 0)
						inrange = true
						end
					end
				end
				inrangeofDealer3 = inrange
			end
		end)
	elseif bool == false and #Dealer3_blips > 0 then
		for i,b in ipairs(Dealer3_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		Dealer3_blips = {}
	end
end

function fi(n)
return n + 0.0001
end

function LocalPed()
return GetPlayerPed(-1)
end

function trycloth(fi, catch_f)
local status, exception = pcall(fi)
if not status then
catch_f(exception)
end
end
function firstToUpperCloth(str)
    return (str:gsub("^%l", string.upper))
end
--local veh = nil
function OpenCreatorDealer3()		
	boughtcloth = false
	local ped = LocalPed()
	local pos = currentlocation.pos.insideEcstaine
	local g = Citizen.InvokeNative(0xC906A7DAB05C8D2B,pos[1],pos[2],pos[3],Citizen.PointerValueFloat(),0)
	Dealer3.currentmenu = "main2"
	Dealer3.opened = true
	Dealer3.selectedbutton = 0
end
local cloth_price = 0

function CloseCreatorDealer3()
	Citizen.CreateThread(function()
		local ped = LocalPed()
		if not boughtcloth then
			local pos = currentlocation.pos.insideEcstaine
			FreezeEntityPosition(ped,false)
			SetEntityVisible(ped,true)
		else
			local model = GetEntityModel(cloth)

			Citizen.InvokeNative(0xEA386986E786A54F, Citizen.PointerValueIntInitialized(cloth))
			local pos = currentlocation.pos.insideEcstaine

			FreezeEntityPosition(ped,false)
			RequestModel(model)
			while not HasModelLoaded(model) do
				Citizen.Wait(0)
			end
			SetModelAsNoLongerNeeded(model)
			SetClothHasBeenOwnedByPlayer(skin,true)
			local id = NetworkGetNetworkIdFromEntity(skin)
			SetNetworkIdCanMigrate(id, true)
			Citizen.InvokeNative(0x629BFA74418D6239,Citizen.PointerValueIntInitialized(skin))
			SetEntityVisible(ped,true)
			FreezeEntityPosition(ped,false)		
		end
		Dealer3.opened = false
		Dealer3.menu.from = 1
		Dealer3.menu.to = 10
	end)
end
	
function drawMenuButton(button,x,y,selected)
	local menu = Dealer3.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = Dealer3.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = Dealer3.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitleDealers2(txt,x,y)
local menu = Dealer3.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end

function NotifyDealer3(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

function DoesPlayerHaveEcstaine(model,button,y,selected)
		local t = false
		--TODO:check if player own car
		if t then
			drawMenuRight("OWNED",Dealer3.menu.x,y,selected)
		else
			drawMenuRight(button.costs.."$",Dealer3.menu.x,y,selected)
		end
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfDealer3() then
			if Dealer3.opened then
				CloseCreatorDealer3()
			else
			    if (clientjobID ~= 10) then
					-- if (clientCrimi ~= 0) then 
						OpenCreatorDealer3()
						DrawMissionTextDealer3("~h~~g~Ytzhak Abergil~w~ : Salam ya sdiqi", 1000)
						Wait(1000)
						DrawMissionTextDealer3("~h~~g~Ytzhak Abergil~w~ : hal tabhath ean shy'?", 10000)
					-- else
						-- DrawMissionTextDealer3("~h~~g~Ytzhak Abergil~w~ : Lo siento, no puedo ayudarte.", 10000)
					-- end
				else
					DrawMissionTextDealer3("~h~~g~Ytzhak Abergil~w~ : asif, la 'astatie musaeadatak", 10000)
				end
			end
		end
		if Dealer3.opened then
			local ped = LocalPed()
			local menu = Dealer3.menu[Dealer3.currentmenu]
			drawTxt(Dealer3.title,1,1,Dealer3.menu.x,Dealer3.menu.y,1.0, 255,255,255,255)
			drawMenuTitleDealers2(menu.title, Dealer3.menu.x,Dealer3.menu.y + 0.08)
			drawTxt(Dealer3.selectedbutton.."/"..tablelength(menu.buttons),0,0,Dealer3.menu.x + Dealer3.menu.width/2 - 0.0385,Dealer3.menu.y + 0.067,0.4, 255,255,255,255)
			local y = Dealer3.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= Dealer3.menu.from and i <= Dealer3.menu.to then
					
					if i == Dealer3.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,Dealer3.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedDealer3(button)
					end
				end
			end	
		end
		if Dealer3.opened then
			if IsControlJustPressed(1,202) then
				BackEcstaine()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if Dealer3.selectedbutton > 1 then
					Dealer3.selectedbutton = Dealer3.selectedbutton -1
					if buttoncount > 10 and Dealer3.selectedbutton < Dealer3.menu.from then
						Dealer3.menu.from = Dealer3.menu.from -1
						Dealer3.menu.to = Dealer3.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if Dealer3.selectedbutton < buttoncount then
					Dealer3.selectedbutton = Dealer3.selectedbutton +1
					if buttoncount > 10 and Dealer3.selectedbutton > Dealer3.menu.to then
						Dealer3.menu.to = Dealer3.menu.to + 1
						Dealer3.menu.from = Dealer3.menu.from + 1
					end
				end	
			end
		end
		
	end
end)


function roundDealer3(num1, idp2)
  if idp2 and idp2>0 then
    local mult = 10^idp2
    return math.floor(num1 * mult + 0.5) / mult
  end
  return math.floor(num1 + 0.5)
end
function ButtonSelectedDealer3(button)
	local ped = GetPlayerPed(-1)
	local this = Dealer3.currentmenu
	local btn = button.name
	if this == "main2" then
		if btn == "Je viens rÃ©cupÃ©rer un colis" then
			OpenMenuEcstaine('menucolis')
			-- DrawMissionTextDealer3(m_text, 10000)
		elseif btn == "T'as pas une info pour moi ?" then
			OpenMenuEcstaine('menurecolte')
			DrawMissionTextDealer3("~h~~g~Ytzhak Abergil~w~ : nem laday maelumatan, walikan la shay' majani", 10000)
		end
	-- elseif this == "menucolis" then
		-- if btn == "Je viens rÃ©cupÃ©rer un colis" then
			-- OpenMenuEcstaine('menucolis')
		-- elseif btn == "T'as pas une info pour moi ?" then
			-- OpenMenuEcstaine('menurecolte')
		-- end
	elseif this == "menurecolte" then
		if btn == "Ok j'ai un peu d'argent" then
			OpenMenuEcstaine('menurecolte2')
			DrawMissionTextDealer3("~h~~g~Ytzhak Abergil~w~ : kunt turid 'an tueraf ma kunt , alnnushut?", 10000)
		elseif btn == "En fait, je doit y aller." then
			CloseCreatorDealer3()
		end
	elseif this == "menurecolte2" then
		if btn == "J'veux rÃ©colter (GRATUIT)" then
		DrawMissionTextDealer3("~h~~g~Ytzhak Abergil~w~ : fi ~b~ghabat~w~ qurb aljabal", 20000)
		TriggerServerEvent('CheckDealer3PointRecolte', source)
		elseif btn == "J'veux en poudre (30 000$)" then
		DrawMissionTextDealer3("~h~~g~Ytzhak Abergil~w~ : hnak ~b~masnie~w~ lays baeidaan", 20000)
		TriggerServerEvent('CheckDealer3PointTraitos', source)
		elseif btn == "J'veux revendre (70 000$)" then
		DrawMissionTextDealer3("~h~~g~Ytzhak Abergil~w~ : aldhdhahab liruyat ~b~'akhi fi almadina~w~", 20000)
		TriggerServerEvent('CheckDealer3PointRevente', source)
		end
	end
end

Abergilchamps = nil
Abergiltraitos = nil
Abergilrevente = nil

RegisterNetEvent('AbergilNoMoney')
AddEventHandler('AbergilNoMoney', function()
   DrawMissionTextDealer3("~h~~g~Ytzhak Abergil~w~ : Ù„la yujad ladayk almal? salam", 10000)	
end)

RegisterNetEvent('GoToEcstaChamps')
AddEventHandler('GoToEcstaChamps', function()
   Abergilchamps = 1	
end)

RegisterNetEvent('GoToEcstaTraitos')
AddEventHandler('GoToEcstaTraitos', function()
   Abergiltraitos = 1	
end)

RegisterNetEvent('GoToEcstaRevente')
AddEventHandler('GoToEcstaRevente', function()
   Abergilrevente = 1	
end)


function StopAbergil()
		if EcstaChamps ~= nil and DoesBlipExist(EcstaChamps) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(EcstaChamps))
			EcstaChamps = nil
		end
		if EcstaTraitos ~= nil and DoesBlipExist(EcstaTraitos) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(EcstaTraitos))
			EcstaTraitos = nil
		end
		if EcstaRevente ~= nil and DoesBlipExist(EcstaRevente) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(EcstaRevente))
			EcstaRevente = nil
		end
		Abergilchamps = nil
		Abergiltraitos = nil
		Abergilrevente = nil
end


Citizen.CreateThread(function()
	while true do
		Wait(0)
		if (Abergilchamps == 1) then
			EcstaChamps = AddBlipForCoord(1382.868,5527.255,454.5648)
			SetBlipSprite(EcstaChamps,140)
			SetBlipColour(EcstaChamps, 1)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Champs de Sassafras')
			EndTextCommandSetBlipName(EcstaChamps)
			Wait(120000)
			Abergilchamps = 2
		end
		if (Abergilchamps == 2) then
		    StopAbergil()
		end
	end
end)

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if (Abergiltraitos == 1) then
			EcstaTraitos = AddBlipForCoord(-590.468,-287.4513,50.32396)
			SetBlipSprite(EcstaTraitos,140)
			SetBlipColour(EcstaTraitos, 1)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('TOIT DU CHANTIER')
			EndTextCommandSetBlipName(EcstaTraitos)
			Wait(120000)
			Abergiltraitos = 2
		end
		if (Abergiltraitos == 2) then
		    StopAbergil()
		end
	end
end)

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if (Abergilrevente == 1) then
			EcstaRevente = AddBlipForCoord(472.1702,-1078.238,29.35196)
			SetBlipSprite(EcstaRevente,140)
			SetBlipColour(EcstaRevente, 1)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString("PARKING")
			EndTextCommandSetBlipName(EcstaRevente)
			Wait(120000)
			Abergilrevente = 2
		end
		if (Abergilrevente == 2) then
		    StopAbergil()
		end
	end
end)

RegisterNetEvent('FinishCheckDealer3')
AddEventHandler('FinishCheckDealer3', function()
	boughtcloth = true
	CloseCreatorDealer3()
	Dealer3.opened = false
	Dealer3.menu.from = 1
	Dealer3.menu.to = 10
	
end)

function OpenMenuEcstaine(menu)
	Dealer3.lastmenu = Dealer3.currentmenu
	if menu == "menucolis" then
		Dealer3.lastmenu = "main2"
	elseif menu == "menurecolte"  then
		Dealer3.lastmenu = "main2"
	elseif menu == 'menurecolte' then
		Dealer3.lastmenu = "main2"
	elseif menu == "race_create_objects_spawn" then
		Dealer3.lastmenu = "race_create_objects"
	end
	Dealer3.menu.from = 1
	Dealer3.menu.to = 10
	Dealer3.selectedbutton = 0
	Dealer3.currentmenu = menu	
end


function BackEcstaine()
	if backlock then
		return
	end
	backlock = true
	if Dealer3.currentmenu == "main2" then
	    
		DrawMissionTextDealer3("~h~~g~Ytzhak Abergil~w~ : 'iilaa allliqa' !", 5000)
		CloseCreatorDealer3()
	elseif Dealer3.currentmenu == "menucolis" or Dealer3.currentmenu == "menurecolte" or Dealer3.currentmenu == "menurecolte2" then
		fakecar = {model = '', car = nil}
		OpenMenuEcstaine(Dealer3.lastmenu)
	else
		OpenMenuEcstaine(Dealer3.lastmenu)
	end
	
end

function stringstartsEcstaine(String1,Start2)
   return string.sub(String1,1,string.len(Start2))==Start2
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowDealer3Blips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                      local EMS = {
	opened = false,
	title = "EMS",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}
local EMS_locations = {
{entering = {1150.839,-1530.355,34.38629}, outside = {1157.389,-1508.454,34.69258}},
}

local EMS_blips ={}
local inrangeofEMS = false
local inrangeofEMS2 = false
local inrangeofEMS3 = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfEMS()
return inrangeofEMS
end

function IsPlayerInRangeOfEMS2()
return inrangeofEMS2
end

function IsPlayerInRangeOfEMS3()
return inrangeofEMS3
end

function ShowEMSBlips(bool)
	if bool and #EMS_blips == 0 then
		for station,pos in pairs(EMS_locations) do
			local loc = pos
			pos = pos.outside
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,61)
			SetBlipColour(blip, 3)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('HÃ´pital de Los Santos')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(EMS_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #EMS_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				local inrange2 = false
				local inrange3 = false
				for i,b in ipairs(EMS_blips) do
					if (clientjobID == 20) and EMS.opened == false and  GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) < 3 then
							Show("Appuyez sur ~INPUT_CONTEXT~ pour t'Ã©quiper en ~b~EMS.")
						-- drawTxt('~h~Equipement ~b~EMS',0,1,0.5,0.8,0.6,255,255,255,255)
							inrange = true
						end
					end
					if GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,1155.148,-1519.857,33.84344,0,0,0,0,0,0,2.001,2.0001,0.5001,254,238,0,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(1155.148,-1519.857,33.84344,GetEntityCoords(LocalPed()),true) < 3 then
							Show("Appuyez sur ~INPUT_CONTEXT~ pour appeler un ~y~Taxi~w~.")
							inrange2 = true
						end
					end
					if (clientjobID == 20) and EMS.opened == false and  GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(1,1216.87,-1519.263,34.70085,0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(1216.87,-1519.263,34.70085,GetEntityCoords(LocalPed()),true) < 5 then
							-- drawTxt('~h~~b~HÃ©licoptÃ¨re',0,1,0.5,0.8,0.6,255,255,255,255)
							Show("Appuyez sur ~INPUT_CONTEXT~ pour rÃ©cuperer un ~b~HÃ©licoptÃ¨re.")
							inrange3 = true
						end
					end
				end
				inrangeofEMS = inrange
				inrangeofEMS2 = inrange2
				inrangeofEMS3 = inrange3
			end
		end)
	elseif bool == false and #EMS_blips > 0 then
		for i,b in ipairs(EMS_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		EMS_blips = {}
	end
end

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofEMS then
            
			SetPedComponentVariation(GetPlayerPed(-1), 3, 92, 0, 0)
			SetPedComponentVariation(GetPlayerPed(-1), 11, 13, 3, 0)
			SetPedComponentVariation(GetPlayerPed(-1), 4, 35, 0, 0)
			SetPedComponentVariation(GetPlayerPed(-1), 6, 24, 0, 0)
			SetPedComponentVariation(GetPlayerPed(-1), 7, 23, 1, 0)
			
			inrangeofEMS = false
			inrange = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofEMS2 then
            TriggerServerEvent('CallTaxi', 1154.929, -1515.852, 34.69261)
			inrangeofEMS2 = false
			inrange2 = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofEMS3 then
            TriggerServerEvent('CheckEMSHelico')
			TriggerServerEvent('SetPlateJob')
			inrangeofEMS3 = false
			inrange3 = false
        end
    end
end)

--TELEPHONE DOC

function ShowNotificationCallDoc(text)
	SetNotificationTextEntry("STRING")
	AddTextComponentString(text)
	DrawNotification(false, false)
end

callencoursems = 2
inmissionems = 0

RegisterNetEvent('HaveCallDoc')
AddEventHandler('HaveCallDoc', function()
    
    ShowNotificationCallDoc('~h~VOUS AVEZ APPELÃ‰ LES ~b~MÃ‰DECINS~w~.')
end)

RegisterNetEvent('HaveAcceptCallDoc')
AddEventHandler('HaveAcceptCallDoc', function()
    ShowNotificationCallDoc('~h~UNE ~b~AMBULANCE~w~ EST EN ROUTE...')
end)

RegisterNetEvent('HaveAcceptCallDocForDoc')
AddEventHandler('HaveAcceptCallDocForDoc', function(namepol, namecaller)
    ShowNotificationCallTaxi("~h~~b~"..namepol.."~w~ a ~g~acceptÃ©~w~ l'appel de ~b~"..namecaller.."~w~.")
	callencoursems = 1
end)


RegisterNetEvent('MarkerTelDoc')
AddEventHandler('MarkerTelDoc', function(namecalldoc, coordcallDocx, coordcallDocy, coordcallDocz)
    
	ShowNotificationCallDoc("~h~~b~HÃ”PITAL LOS SANTOS~n~ ~w~ ~n~~h~~b~"..namecalldoc.."~w~ vient d'appeler une ambulance !")
    ShowNotificationCallDoc("Pour accepter l'appel appuyez sur ~h~~b~Y")
	callencoursems = 0
	LastCallerForDoc = namecalldoc
	posCallTelDocxSave = coordcallDocx
	posCallTelDocySave = coordcallDocy
	posCallTelDoczSave = coordcallDocz
end)

Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
	    if IsControlJustPressed(1,246) and ((clientjobID == 28) or (clientjobID == 27) or (clientjobID == 26) or (clientjobID == 25) or (clientjobID == 24) or (clientjobID == 23) or (clientjobID == 22) or (clientjobID == 21) or (clientjobID == 20)) then
			if (inmissioncoma == 0) and (inmissionems == 0) then
				if (callencoursems == 0) then
					docflag = 3
					ShowNotificationCallDoc('CoordonnÃ©e envoyÃ©e sur votre GPS...')
					TriggerServerEvent('CheckAcceptCallDoc', LastCallerForDoc)
					TriggerServerEvent('CheckAcceptCallDocForDoc', LastCallerForDoc)
					posCallTelDocx = posCallTelDocxSave
					posCallTelDocy = posCallTelDocySave
					posCallTelDocz = posCallTelDoczSave
					inmissionems = 1
				elseif (callencoursems == 1) then
				    ShowNotificationCallDoc("~h~L'appel a dÃ©jÃ  Ã©tÃ© pris.")
				elseif (callencoursems == 2) then
				    ShowNotificationCallDoc("~h~Aucun appel pour le moment.")
				end
			elseif (inmissionems == 1) or (inmissioncoma == 1) then
			    ShowNotificationCallDoc("~h~Vous Ãªtes dÃ©jÃ  en intervention.")
			end
	    end
	end
end)


Citizen.CreateThread(function()
	while true do
	Wait(0)
		if docflag == 3 then
			    blipTelcallDoc = AddBlipForCoord(posCallTelDocx, posCallTelDocy, posCallTelDocz)
				N_0x80ead8e2e1d5d52e(blipTelcallDoc)	
				SetBlipRoute(blipTelcallDoc, 1)
				docflag = 4
		end
		if docflag == 4 then
				if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), posCallTelDocx, posCallTelDocy, posCallTelDocz, true) > 4.0001 then
					DrawMarker(1, posCallTelDocx, posCallTelDocy, posCallTelDocz-1.0001, 0, 0, 0, 0, 0, 0, 4.0, 4.0, 2.0, 11, 80, 169, 255, 0, 0, 1, 0, 0, 0, 0)
				else
					if blipTelcallDoc ~= nil and DoesBlipExist(blipTelcallDoc) then
						Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(blipTelcallDoc))
						blipTelcallDoc = nil
						inmissionems = 0
						docflag = 0
					end
				end	
		end
	end
end)

--COMA--

local diedAt
incomatocall = 0

Citizen.CreateThread(function()
	while true do
	Wait(0)
	
        local playerPed = GetPlayerPed(-1)
	
        if IsEntityDead(playerPed) then
			if not diedAt then
			diedAt = GetGameTimer()
	   		incomatocall = 1
			inmenucivil = 1
			inmenuinv = 1
			inmenujob = 1
			end
		else
            diedAt = nil           
        end
		
	end
end)

Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if incomatocall == 1 then
			ShowNotificationCallDep('~h~Appuyez sur ~b~E~w~ pour ~b~Appeler les mÃ©decins~w~.')
            ShowNotificationCallDep('~h~ou appuyez sur ~b~"X"~w~ pour rÃ©aparaitre')
			TriggerServerEvent('wasInComa')
			clientComa = 1
			incomatocall = 2
		end
		if (diedAt and ((GetTimeDifference(GetGameTimer(), diedAt) > 600000) or IsControlPressed(1, 323))) and (clientComa == 1) then
            clientComa = 0
			TriggerServerEvent('resetComa')
        end
	end
end)

Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,38) and (incomatocall == 2) then
			Citizen.Wait(500)
			ShowNotificationCallDep('~h~Les ~b~mÃ©decins~w~ ont Ã©tÃ© appelÃ©s !')
            ShowNotificationCallDep('~h~Attendez les mÃ©decins...')
            ShowNotificationCallDep('~h~ou appuyez sur ~b~"X"~w~ pour rÃ©aparaitre')
			Citizen.Wait(500)
			
			Comax, Comay, Comaz = table.unpack(GetEntityCoords(GetPlayerPed(-1) , true))
			TriggerServerEvent('CallDocComas', Comax, Comay, Comaz)
			
			incomatocall = 0
	    end
	end
end)

callencourscoma = 2
inmissioncoma = 0

RegisterNetEvent('HaveAcceptCallDocForDocComa')
AddEventHandler('HaveAcceptCallDocForDocComa', function(namepol)
    ShowNotificationCallDep("~h~~b~"..namepol.."~w~ a ~g~acceptÃ©~w~ l'appel de rÃ©animation.")
	callencourscoma = 1
end)

RegisterNetEvent('MarkerComas')
AddEventHandler('MarkerComas', function(namecalldocforcoma, coordcallComax, coordcallComay, coordcallComaz)
    
    ShowNotificationCallDoc("~h~~b~HÃ”PITAL LOS SANTOS~n~ ~w~ ~n~~h~UN CITOYEN EST TOMBÃ‰ DANS LE ~r~COMAS")
    ShowNotificationCallDoc("Pour accepter l'appel appuyez sur ~h~~r~K")
	callencourscoma = 0
	posCallTelComaxSave = coordcallComax
	posCallTelComaySave = coordcallComay
	posCallTelComazSave = coordcallComaz	
	LastCallerForDocComa = namecalldocforcoma
end)

Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
	    if IsControlJustPressed(1,311) and (clientjobID == 20) then
			if (inmissioncoma == 0) and (inmissionems == 0) then
				if (callencourscoma == 0) then
					docflag = 1
					ShowNotificationCallDoc('CoordonnÃ©e envoyÃ©e sur votre GPS...')
					TriggerServerEvent('CheckAcceptCallDocForDocComa', LastCallerForDocComa)					
					TriggerServerEvent('CheckAcceptCallDoc', LastCallerForDocComa)
					posCallTelComax = posCallTelComaxSave
					posCallTelComay = posCallTelComaySave
					posCallTelComaz = posCallTelComazSave
					inmissioncoma = 1
				elseif (callencourscoma == 1) then
				    ShowNotificationCallDoc("~h~L'appel a dÃ©jÃ  Ã©tÃ© pris.")
				elseif (callencourscoma == 2) then
				    ShowNotificationCallDoc("~h~Aucun appel pour le moment.")
				end
			elseif (inmissioncoma == 1) or (inmissionems == 1) then
			    ShowNotificationCallDoc("~h~Vous Ãªtes dÃ©jÃ  en intervention.")
			end
	    end
	end
end)

Citizen.CreateThread(function()
	while true do
	Wait(0)
		if docflag == 1 then
			    blipTelcallComa = AddBlipForCoord(posCallTelComax, posCallTelComay, posCallTelComaz)
				N_0x80ead8e2e1d5d52e(blipTelcallComa)	
				SetBlipRoute(blipTelcallComa, 1)
				docflag = 2
		end
		if docflag == 2 then
				if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), posCallTelComax, posCallTelComay, posCallTelComaz, true) > 4.0001 then
					DrawMarker(1, posCallTelComax, posCallTelComay, posCallTelComaz-1.0001, 0, 0, 0, 0, 0, 0, 4.0, 4.0, 2.0, 11, 80, 169, 255, 0, 0, 1, 0, 0, 0, 0)
				else
					if blipTelcallComa ~= nil and DoesBlipExist(blipTelcallComa) then
						Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(blipTelcallComa))
						blipTelcallComa = nil
						inmissioncoma = 0
						docflag = 0
					end
				end	
		end
	end
end)


function StopInterEMS()
		if blipTelcallComa ~= nil and DoesBlipExist(blipTelcallComa) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(blipTelcallComa))
			blipTelcallComa = nil
			inmissioncoma = 0
			docflag = 0
		end
		if blipTelcallDoc ~= nil and DoesBlipExist(blipTelcallDoc) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(blipTelcallDoc))
			blipTelcallDoc = nil
			inmissionems = 0
			docflag = 0
		end
end


--TELEPHONE Pompier


RegisterNetEvent('HaveCallPomp')
AddEventHandler('HaveCallPomp', function()
    
    ShowNotificationCallDoc('~h~VOUS AVEZ APPELÃ‰ LES ~r~POMPIER~n~~h~~w~Ne bougez pas ils arrivent')
end)

RegisterNetEvent('HaveAcceptCallPomp')
AddEventHandler('HaveAcceptCallPomp', function()
    ShowNotificationCallDoc('~h~LES ~r~POMPIER~w~ SONT EN ROUTE...')
end)

RegisterNetEvent('MarkerTelPomp')
AddEventHandler('MarkerTelPomp', function(namecallpomp, coordcallPompx, coordcallPompy, coordcallPompz)
    
	ShowNotificationCallDoc("~h~~r~POMPIER DE LOS SANTOS~n~ ~w~ ~n~~h~~b~INCENDIE EN COURS EN VILLE !")
    ShowNotificationCallDoc("Changez-vous rapidement !")
	posCallTelPompx = coordcallPompx
	posCallTelPompy = coordcallPompy
	posCallTelPompz = coordcallPompz
	LastCallerPomp = namecallpomp
	Pompflag = 3
	ShowNotificationCallDoc('CoordonnÃ©e envoyÃ©e sur votre GPS...')
end)


Citizen.CreateThread(function()
	while true do
	Wait(0)
		if Pompflag == 1 then
			    blipTelcallPomp = AddBlipForCoord(posCallTelPompx, posCallTelPompy, posCallTelPompz)
				N_0x80ead8e2e1d5d52e(blipTelcallPomp)	
				SetBlipRoute(blipTelcallPomp, 1)
				Pompflag = 2
		end
		if Pompflag == 2 then
				if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), posCallTelPompx, posCallTelPompy, posCallTelPompz, true) > 4.0001 then
					DrawMarker(1, posCallTelPompx, posCallTelPompy, posCallTelPompz-1.0001, 0, 0, 0, 0, 0, 0, 4.0, 4.0, 2.0, 11, 80, 169, 255, 0, 0, 1, 0, 0, 0, 0)
				else
					if blipTelcallPomp ~= nil and DoesBlipExist(blipTelcallPomp) then
						Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(blipTelcallPomp))
						blipTelcallPomp = nil
						Pompflag = 0
					end
				end	
		end
	end
end)




local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowEMSBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    local emsmenu = {
	opened = false,
	title = "Menu MÃ©decin",
	currentmenu = "main",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.1,
		y = 0.32,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main"] = { 
			title = "CATEGORIES", 
			name = "main",
			buttons = { 
				{name = "RÃ©animer", description = ""},
				{name = "Soigner", description = ""},
				{name = "Diagnostique", description = ""},
				{name = "Carte d'identitÃ©e", description = ""},
				{name = "Mettre dans le vÃ©hicule (SOON)", description = ""},
				{name = "Crocheter le vÃ©hicule", description = ""},
				{name = "Annuler l'appel", description = ""},
			}
		},
	}
}

local boughtweapon = false

local function LocalPed()
return GetPlayerPed(-1)
end

--Creator Weapon
function OpenCreatoremsmenu()		
	boughtweapon = false
	emsmenu.currentmenu = "main"
	emsmenu.opened = true
	emsmenu.selectedbutton = 0
end
function CloseCreatoremsmenu()
	Citizen.CreateThread(function()
		emsmenu.opened = false
		emsmenu.menu.from = 1
		emsmenu.menu.to = 10
		inmenucivil = 0
		inmenuinv = 0
		inmenujob = 0
	end)
end

--Menu pomenu

function drawMenuButton(button,x,y,selected)
	local menu = emsmenu.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = emsmenu.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = emsmenu.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitleInv(txt,x,y)
local menu = emsmenu.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,93,166,202,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function NotifyEmsMenu(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

function ShowNotificationEmsMenu(text)
	SetNotificationTextEntry("STRING")
	AddTextComponentString(text)
	DrawNotification(false, false)
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,170) and (clientjobID == 20) then
			
			if IsPedInAnyVehicle(LocalPed(), true) == false then
			if (inmenuinv == 0) and (inmenucivil == 0) then
				if emsmenu.opened then
					CloseCreatoremsmenu()
					inmenucivil = 0
				    inmenuinv = 0
				    inmenujob = 0
				else
					OpenCreatoremsmenu()
					freezetargetEms = totarget
					inmenucivil = 0
					inmenuinv = 0
					inmenujob = 2 --EMS
				end
			end
		    else
		    ShowNotificationMenuCivil2("~r~Vous ne pouvez pas ouvrir le menu dans un vÃ©hicule !")
	        end
		end
		if emsmenu.opened then
			local ped = LocalPed()
			local menu = emsmenu.menu[emsmenu.currentmenu]
			drawTxt(emsmenu.title,1,1,emsmenu.menu.x,emsmenu.menu.y,1.0, 255,255,255,255)
			drawMenuTitleInv(menu.title, emsmenu.menu.x,emsmenu.menu.y + 0.08)
			drawTxt(emsmenu.selectedbutton.."/"..tablelength(menu.buttons),0,0,emsmenu.menu.x + emsmenu.menu.width/2 - 0.0385,emsmenu.menu.y + 0.067,0.4, 255,255,255,255)
			local y = emsmenu.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= emsmenu.menu.from and i <= emsmenu.menu.to then
					
					if i == emsmenu.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,emsmenu.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedEmsMenu(button)
					end
				end
			end	
		end
		if emsmenu.opened then
			if IsControlJustPressed(1,202) then
				BackEmsMenu()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if emsmenu.selectedbutton > 1 then
					emsmenu.selectedbutton = emsmenu.selectedbutton -1
					if buttoncount > 10 and emsmenu.selectedbutton < emsmenu.menu.from then
						emsmenu.menu.from = emsmenu.menu.from -1
						emsmenu.menu.to = emsmenu.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if emsmenu.selectedbutton < buttoncount then
					emsmenu.selectedbutton = emsmenu.selectedbutton +1
					if buttoncount > 10 and emsmenu.selectedbutton > emsmenu.menu.to then
						emsmenu.menu.to = emsmenu.menu.to + 1
						emsmenu.menu.from = emsmenu.menu.from + 1
					end
				end	
			end
		end
	end
end)
		    
function DrawMissionTextEmsMenu(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end


diagnostique = {flag = {}, motif = {}}

function ButtonSelectedEmsMenu(button)
	local ped = GetPlayerPed(-1)
	local this = emsmenu.currentmenu
	local btn = button.name
	local vehiclose = GetVehiclePedIsTryingToEnter(ped)
	myvehi2 = GetVehiclePedIsUsing(GetPlayerPed(-1))
	posEmsmenu = GetEntityCoords(GetPlayerPed(-1))
	carTargetEms = GetClosestVehicle(posEmsmenu['x'], posEmsmenu['y'], posEmsmenu['z'], 10.0,0,70)
	
	diagnostique.motif[1] = "Traumatisme crÃ¢nien"
    diagnostique.motif[2] = "Contusion au crÃ¢ne"
    diagnostique.motif[3] = "LÃ©ger saignement au crÃ¢ne"
    diagnostique.motif[4] = "Scoliose (dÃ©formation de la vertÃ¨bre)"
    diagnostique.motif[5] = "Torticolis"
    diagnostique.motif[6] = "Fracture de la clavicule"
    diagnostique.motif[7] = "Luxation de la clavicule"
    diagnostique.motif[8] = "Blessure par balle dans la clavicule gauche"
    diagnostique.motif[9] = "Luxation sterno-claviculaire"
    diagnostique.motif[10] = "Douleurs thoracique"
    diagnostique.motif[11] = "Blessure par balle dans le sternum"
    diagnostique.motif[12] = "Baisse de tension"
    diagnostique.motif[13] = "AVC"
    diagnostique.motif[14] = "Hypertension"
    diagnostique.motif[15] = "DifficultÃ© Ã  la respiration"
    diagnostique.motif[16] = "Pneumonie"
    diagnostique.motif[17] = "Fracture de la cage thoracique"
    diagnostique.motif[18] = "Blessure par balle de la cage thoracique"
    diagnostique.motif[19] = "Fracture de la cÃ´te nÂ°4"
    diagnostique.motif[20] = "Fracture de la cÃ´te nÂ°13"
    diagnostique.motif[21] = "Fracture de la cÃ´te nÂ°15"
    diagnostique.motif[22] = "Fracture de lâ€™humÃ©rus"
    diagnostique.motif[23] = "Tendinite au bras"
    diagnostique.motif[24] = "DÃ©boitements de lâ€™humÃ©rus"
    diagnostique.motif[25] = "Tendinite du poignet"
    diagnostique.motif[26] = "DÃ©placement des vertÃ¨bres lombaires"
    diagnostique.motif[27] = "Lumbago"
    diagnostique.motif[28] = "Fracture du coude"
    diagnostique.motif[29] = "Tendinite au coude"
    diagnostique.motif[30] = "Fracture du bassin"
    diagnostique.motif[31] = "Douleurs de la hanche"
    diagnostique.motif[32] = "Rhume de anche"
    diagnostique.motif[33] = "Fracture du coccyx"
    diagnostique.motif[34] = "Luxation coccygienne"
    diagnostique.motif[35] = "Fracture du radius"
    diagnostique.motif[36] = "Luxation du poignet"
    diagnostique.motif[37] = "Fracture de lâ€™olÃ©crane"
    diagnostique.motif[38] = "LÃ©ger saignement en surface du bras"
    diagnostique.motif[39] = "Fracture de lâ€™index"
    diagnostique.motif[40] = "Fracture du majeur"
    diagnostique.motif[41] = "Luxation du pouce"
    diagnostique.motif[42] = "Fracture du fÃ©mur"
    diagnostique.motif[43] = "Luxation de la tÃªte fÃ©morale"
    diagnostique.motif[44] = "Fracture de la rotule"
    diagnostique.motif[45] = "Luxation de la rotule"
    diagnostique.motif[46] = "Tendinite"
    diagnostique.motif[47] = "Chondromalacie patellaire"
    diagnostique.motif[48] = "Contusion au genou"
    diagnostique.motif[49] = "Entorse des ligaments du genou"
    diagnostique.motif[50] = "Rupture des ligaments croisÃ©s"
    diagnostique.motif[51] = "Fracture du tibia"
    diagnostique.motif[52] = "Fracture de fatigue au tibia"
    diagnostique.motif[53] = "Fissure de lâ€™os"
    diagnostique.motif[54] = "Courbature au grand adducteur"
    diagnostique.motif[55] = "Ã‰longation du jambier extÃ©rieur"
    diagnostique.motif[56] = "Claquage du muscle long pÃ©rioner"
    diagnostique.motif[57] = "Fracture de la jambe"
    diagnostique.motif[58] = "Contusion en surface de la jambe"
    diagnostique.motif[59] = "Entorse de la cheville"
    diagnostique.motif[60] = "Tendinite de la cheville"
    diagnostique.motif[61] = "Rupture du tendon dâ€™Achille"
	
	
    diagnostique.flag[1] = GetRandomIntInRange(1, 61)
	
	diagphrase = diagnostique.motif[diagnostique.flag[1]]
	
	if this == "main" then
		if btn == "RÃ©animer" then
		    Citizen.CreateThread(function()
                    TaskStartScenarioInPlace(GetPlayerPed(-1), "CODE_HUMAN_MEDIC_TEND_TO_DEAD", 0, 1)
					PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
					ShowNotificationEmsMenu("RÃ©animation en cours...")
					Citizen.Wait(10000)
					ClearPedTasksImmediately(GetPlayerPed(-1))

			TriggerServerEvent('CheckRevive',freezetargetEms)
			ShowNotificationEmsMenu("~h~Vous avez ~b~rÃ©animÃ©~w~ un citoyen")
			end)
		elseif btn == "Soigner" then
		     Citizen.CreateThread(function()
                    TaskStartScenarioInPlace(GetPlayerPed(-1), "CODE_HUMAN_MEDIC_KNEEL", 0, 1)
					PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
					ShowNotificationEmsMenu("Soins en cours...")
					Citizen.Wait(7000)
					ClearPedTasksImmediately(GetPlayerPed(-1))
					
			TriggerServerEvent('CheckSoin',freezetargetEms)
			ShowNotificationEmsMenu("~h~Vous avez ~b~soignÃ©~w~ un citoyen")
			end)
		elseif btn == "Diagnostique" then
		    Citizen.CreateThread(function()
                    TaskStartScenarioInPlace(GetPlayerPed(-1), "CODE_HUMAN_MEDIC_TIME_OF_DEATH", 0, 1)
					PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
					ShowNotificationEmsMenu("Diagnostique en cours...")
					Citizen.Wait(5000)
					ClearPedTasksImmediately(GetPlayerPed(-1))
					ShowNotificationEmsMenu("~h~~b~Diagnostique du patient :")
					ShowNotificationEmsMenu("~h~~r~"..diagphrase)
 			end)
			CloseCreatoremsmenu()
			emsmenu.opened = false
			emsmenu.menu.from = 1
			emsmenu.menu.to = 10
			inmenucivil = 0
			inmenuinv = 0
			inmenujob = 0
		elseif btn == "Carte d'identitÃ©e" then
			TriggerServerEvent('IdentTarget2',freezetargetEms)
		
		elseif btn == "Crocheter le vÃ©hicule" then
		    Citizen.CreateThread(function()
                    TaskStartScenarioInPlace(GetPlayerPed(-1), "WORLD_HUMAN_WELDING", 0, 1)
					PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
					ShowNotificationEmsMenu('Crochetage en cours...')
					Citizen.Wait(10000)
					ClearPedTasksImmediately(GetPlayerPed(-1))
					
		     local pos = GetEntityCoords(GetPlayerPed(-1))
			 local car = GetClosestVehicle(pos['x'], pos['y'], pos['z'], 10.0,0,70)

			 SetVehicleDoorsLocked(car, 1)
			 ShowNotificationEmsMenu('La voiture est dÃ©sormais ~g~Ouverte')
		    end)
		elseif btn == "Annuler l'appel" then		
			StopInterEMS()
		end
    elseif this == "citoyen5" then
		
	elseif this == "citoyen1" or this == "citoyen2" or this == "citoyen3" or this == "vehicle1" or this == "vehicle2" then
		TriggerServerEvent('CheckEMSMENU',button.amid)
	
	end
end


RegisterNetEvent('ReviveEMS')
AddEventHandler('ReviveEMS', function()
    clientComa = 0	
	inmenucivil = 0
	inmenuinv = 0
	inmenujob = 0
	
	TriggerServerEvent('resetComa')
	
	if foodlvl <= 80 then
	foodlvl = foodlvl + 20
	else
	foodlvl = 100
	end
	if waterlvl <= 80 then
	waterlvl = waterlvl + 20
	else
	waterlvl = 100
	end
	
	local ped = GetPlayerPed(-1)
	local x, y, z = table.unpack(GetEntityCoords(GetPlayerPed(-1) , true))
	NetworkResurrectLocalPlayer(x, y, z, 1, true, true, false)
    ClearPedTasksImmediately(ped)
    SetEntityHealth(ped, 300)
	ReviveInjuredPed(ped)
    ShowNotificationEmsMenu("~h~Vous avez Ã©tÃ© ~b~rÃ©animÃ©~w~.")	
	
	
	SetTimecycleModifier("Drunk")
	SetPedMotionBlur(GetPlayerPed(-1), true)
	RequestAnimSet("MOVE_M@DRUNK@SLIGHTLYDRUNK")
	while not HasAnimSetLoaded("MOVE_M@DRUNK@SLIGHTLYDRUNK") do
		Citizen.Wait(0)
	end
	SetPedMovementClipset(GetPlayerPed(-1), "MOVE_M@DRUNK@SLIGHTLYDRUNK", true)
	SetPedIsDrunk(GetPlayerPed(-1), true)	 
	Citizen.Wait(60000)
	ClearTimecycleModifier()
	ResetPedMovementClipset(GetPlayerPed(-1), 0)
	SetPedIsDrunk(GetPlayerPed(-1), false)
	SetPedMotionBlur(GetPlayerPed(-1), false)
end)

RegisterNetEvent('SoinEMS')
AddEventHandler('SoinEMS', function()
    local ped = GetPlayerPed(-1)
    SetEntityHealth(ped, 300)
    ShowNotificationEmsMenu("~h~Vous avez Ã©tÃ© ~b~soignÃ©~w~.")
end)

RegisterNetEvent('FinishEmsMenu')
AddEventHandler('FinishEmsMenu', function()
	boughtweapon = true
	CloseCreatoremsmenu()
	emsmenu.opened = false
	emsmenu.menu.from = 1
	emsmenu.menu.to = 10
	inmenucivil = 0
	inmenuinv = 0
	inmenujob = 0
end)

function OpenMenuEmsMenu(menu)
	emsmenu.lastmenu = emsmenu.currentmenu
	if menu == "maininteraction" then
		emsmenu.lastmenu = "main"
	elseif menu == "mainvehicle"  then
		emsmenu.lastmenu = "main"
	elseif menu == 'race_create_objects' then
		emsmenu.lastmenu = "main"
	elseif menu == "race_create_objects_spawn" then
		emsmenu.lastmenu = "race_create_objects"
	end
	emsmenu.menu.from = 1
	emsmenu.menu.to = 10
	emsmenu.selectedbutton = 0
	emsmenu.currentmenu = menu	
end

function BackEmsMenu()
	if backlock then
		return
	end
	backlock = true
	if emsmenu.currentmenu == "main" then
		CloseCreatoremsmenu()
		inmenucivil = 0
		inmenuinv = 0
		inmenujob = 0
	elseif emsmenu.currentmenu == "citoyen1" or emsmenu.currentmenu == "citoyen2" or emsmenu.currentmenu == "citoyen3" or emsmenu.currentmenu == "citoyen4" or emsmenu.currentmenu == "citoyen5" or emsmenu.currentmenu == "vehicle1" or emsmenu.currentmenu == "vehicle2" then
		OpenMenuEmsMenu(emsmenu.lastmenu)
	else
		OpenMenuEmsMenu(emsmenu.lastmenu)
	end
end

function stringstartsEmsMenu(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        local EMSgarage = {
	opened = false,
	title = "Garage",
	currentmenu = "main",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.9,
		y = 0.17,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main"] = { 
			title = "CATEGORIES", 
			name = "main",
			buttons = { 
				{name = "Ambulance", costs = 15, description = {}, model = "ambulance"},
				{name = "SUV Ambulance", costs = 15, description = {}, model = "fbi2"},
				{name = "Camion de Pompier", costs = 15, description = {}, model = "firetruk"},
			}
		},
	}
}

local GarageEMS_locations = {
{polgarage = {1123.69,-1513.852,34.19257}, armurerie = {1123.69,-1513.852,34.19257}, outside = {1123.69,-1513.852,34.19257}},
}

local GarageEMS_blips ={}
local inrangeofGarageEMS = false
local currentlocation = nil
local boughtweapon = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfGarageEMS()
return inrangeofGarageEMS
end

function ShowGarageEMSBlips(bool)
	if bool and #GarageEMS_blips == 0 then
		for station,pos in pairs(GarageEMS_locations) do
			local loc = pos
			pos = pos.outside
			table.insert(GarageEMS_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #GarageEMS_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(GarageEMS_blips) do
					if (clientjobID == 20) and  GetDistanceBetweenCoords(b.pos.polgarage[1],b.pos.polgarage[2],b.pos.polgarage[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.polgarage[1],b.pos.polgarage[2],b.pos.polgarage[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.polgarage[1],b.pos.polgarage[2],b.pos.polgarage[3],GetEntityCoords(LocalPed()),true) < 3 and IsPedInAnyVehicle(LocalPed(), true) == false then
					    -- drawTxt('Appuyez sur ~g~ENTRER~s~ pour choisir votre vehicule',0,1,0.5,0.8,0.6,255,255,255,255)
						Show("Appuyez sur ~INPUT_CONTEXT~ pour choisir un ~b~VÃ©hicule.")
						inrange = true
						end
					end
				end
				inrangeofGarageEMS = inrange
			end
		end)
	elseif bool == false and #GarageEMS_blips > 0 then
		for i,b in ipairs(GarageEMS_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		GarageEMS_blips = {}
	end
end

--Creator Weapon
function OpenCreatorEMSGarage()		
	boughtweapon = false
	local ped = LocalPed()
	local pos = currentlocation.pos.polgarage
	FreezeEntityPosition(ped,true)
	local g = Citizen.InvokeNative(0xC906A7DAB05C8D2B,pos[1],pos[2],pos[3],Citizen.PointerValueFloat(),0)
	SetEntityCoords(ped,pos[1],pos[2],g)
	EMSgarage.currentmenu = "main"
	EMSgarage.opened = true
	EMSgarage.selectedbutton = 0
end
function CloseCreatorEMSGarge()
	Citizen.CreateThread(function()
		local ped = LocalPed()
		if not boughtweapon then
			local pos = currentlocation.pos.polgarage
			SetEntityCoords(ped,pos[1],pos[2],pos[3])
			FreezeEntityPosition(ped,false)
		else
			FreezeEntityPosition(ped,false)
			SetEntityVisible(ped,true)	
		end
		EMSgarage.opened = false
		EMSgarage.menu.from = 1
		EMSgarage.menu.to = 10
	end)
end

--Menu polgarage

function drawMenuButton(button,x,y,selected)
	local menu = EMSgarage.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = EMSgarage.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = EMSgarage.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitle(txt,x,y)
local menu = EMSgarage.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function NotifyEMSGarage(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfGarageEMS() then
			if EMSgarage.opened then
				CloseCreatorEMSGarge()
			else
				OpenCreatorEMSGarage()
			end
		end
		if EMSgarage.opened then
			local ped = LocalPed()
			local menu = EMSgarage.menu[EMSgarage.currentmenu]
			drawTxt(EMSgarage.title,1,1,EMSgarage.menu.x,EMSgarage.menu.y,1.0, 255,255,255,255)
			drawMenuTitle(menu.title, EMSgarage.menu.x,EMSgarage.menu.y + 0.08)
			drawTxt(EMSgarage.selectedbutton.."/"..tablelength(menu.buttons),0,0,EMSgarage.menu.x + EMSgarage.menu.width/2 - 0.0385,EMSgarage.menu.y + 0.067,0.4, 255,255,255,255)
			local y = EMSgarage.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= EMSgarage.menu.from and i <= EMSgarage.menu.to then
					
					if i == EMSgarage.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,EMSgarage.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedEMSGarage(button)
					end
				end
			end	
		end
		if EMSgarage.opened then
			if IsControlJustPressed(1,202) then
				BackEMSGarage()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if EMSgarage.selectedbutton > 1 then
					EMSgarage.selectedbutton = EMSgarage.selectedbutton -1
					if buttoncount > 10 and EMSgarage.selectedbutton < EMSgarage.menu.from then
						EMSgarage.menu.from = EMSgarage.menu.from -1
						EMSgarage.menu.to = EMSgarage.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if EMSgarage.selectedbutton < buttoncount then
					EMSgarage.selectedbutton = EMSgarage.selectedbutton +1
					if buttoncount > 10 and EMSgarage.selectedbutton > EMSgarage.menu.to then
						EMSgarage.menu.to = EMSgarage.menu.to + 1
						EMSgarage.menu.from = EMSgarage.menu.from + 1
					end
				end	
			end
		end
	end
end)

				
function ButtonSelectedEMSGarage(button)
	local ped = GetPlayerPed(-1)
	local this = EMSgarage.currentmenu
	local btn = button.name
	if this == "main" then
		TriggerServerEvent('CheckVehicleEMS',button.model,button.costs)
	end
end


RegisterNetEvent('FinishpolgarageCheckForGarageEMS')
AddEventHandler('FinishpolgarageCheckForGarageEMS', function()
	boughtweapon = true
	CloseCreatorEMSGarge()
	EMSgarage.opened = false
	EMSgarage.menu.from = 1
	EMSgarage.menu.to = 10
	TriggerServerEvent('SetPlateJob')
end)

function OpenMenuEMSGarage(menu)
	EMSgarage.lastmenu = EMSgarage.currentmenu
	if menu == "mainEMS" then
		EMSgarage.lastmenu = "main"
	elseif menu == "mainintervention"  then
		EMSgarage.lastmenu = "main"
	elseif menu == 'race_create_objects' then
		EMSgarage.lastmenu = "main"
	elseif menu == "race_create_objects_spawn" then
		EMSgarage.lastmenu = "race_create_objects"
	end
	EMSgarage.menu.from = 1
	EMSgarage.menu.to = 10
	EMSgarage.selectedbutton = 0
	EMSgarage.currentmenu = menu	
end

function BackEMSGarage()
	if backlock then
		return
	end
	backlock = true
	if EMSgarage.currentmenu == "main" then
		CloseCreatorEMSGarge()
	elseif EMSgarage.currentmenu == "EMS1" or EMSgarage.currentmenu == "EMS2" or EMSgarage.currentmenu == "EMS3" or EMSgarage.currentmenu == "EMS4" or EMSgarage.currentmenu == "EMS5" or EMSgarage.currentmenu == "EMS6" then
		OpenMenuEMSGarage(EMSgarage.lastmenu)
	else
		OpenMenuEMSGarage(EMSgarage.lastmenu)
	end
end

function stringstartsEMSGarage(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowGarageEMSBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                local civilmenu = {
	opened = false,
	title = "Menu Personnel",
	currentmenu = "main",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.1,
		y = 0.32,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main"] = { 
			title = "CATEGORIES", 
			name = "main",
			buttons = { 
				{name = "Enlever son masque", description = ""},
				{name = "Animations", description = ""},
				{name = "Telephone", description = ""},
				{name = "Carte d'identitÃ©", description = ""},
				{name = "Donner de l'argent", description = ""},
				{name = "Sauvegarder ma position", description = ""},
			}
		},
		["mainanimation"] = { 
			title = "Animations",
			name = "mainanimation",
			buttons = { 
				{name = "Applaudire", description = ''},
				{name = "Regarder sa carte", description = ''},
				{name = "Faire du Yoga", description = ''},
				{name = "Faire des pompes", description = ''},
				{name = "Jouer de la musique", description = ''},
				{name = "Filmer", description = ''},
			}
		},
		["maingivemoney"] = { 
			title = "Argent",
			name = "maingivemoney",
			buttons = { 
				{name = "Donner de l'argent", description = ''},
				{name = "Donner de l'argent sale", description = ''},
			}
		},
		["maintelephone"] = { 
			title = "Telephone", 
			name = "maintelephone",
			buttons = { 
				{name = "RÃ©pertoire", description = ''},
				{name = "Police", description = ''},
				{name = "MÃ©decin", description = ''},
				-- {name = "Pompier", description = ''},
				{name = "Taxi", description = ''},
				{name = "DÃ©panneur", description = ''},
				{name = "Journaliste", description = ''},
			}
		},
		["mainrepertoire"] = { 
			title = "Repertoire", 
			name = "mainrepertoire",
			buttons = { 
				
			}
		},
		["mainrepertoire2"] = { 
			title = "Repertoire", 
			name = "mainrepertoire2",
			buttons = { 
				{name = "Envoyer un message", description = ''},
				{name = "Appeler (SOON)", description = ''},
				{name = "Supprimer le contact (SOON)", description = ''},
			}
		},			
	}
}

RegisterNetEvent('MyRepertoire')
AddEventHandler('MyRepertoire', function(tablerep)
	
    local a = tablerep
	
	civilmenu.menu["mainrepertoire"].buttons = {}
	
	table.insert(civilmenu.menu["mainrepertoire"].buttons, {name = "Ajouter un numÃ©ro", description = ''})
	table.insert(civilmenu.menu["mainrepertoire"].buttons, {name = "911", description = ''})
	table.insert(civilmenu.menu["mainrepertoire"].buttons, {name = "CNN", description = ''})

	local i = 1
	while a[i] do
		
	namerepclient = a[i]['player_name']
	numrepclient = a[i]['phone_number']

    table.insert(civilmenu.menu["mainrepertoire"].buttons, {name = namerepclient, description = "", numero = numrepclient})

	i = i + 1
	end

end)


RegisterNetEvent('MyRepertoire2')
AddEventHandler('MyRepertoire2', function()

	civilmenu.currentmenu = "mainrepertoire"
	civilmenu.opened = true
	civilmenu.selectedbutton = 0
	
end)


local function LocalPed()
return GetPlayerPed(-1)
end

	inmenucivil = 0
	inmenuinv = 0
	inmenujob = 0

--Creator Weapon
function OpenCreatorcivilmenu()		
	civilmenu.currentmenu = "main"
	civilmenu.opened = true
	civilmenu.selectedbutton = 0
end
function CloseCreatorcivilmenu()
	Citizen.CreateThread(function()
		civilmenu.opened = false
		civilmenu.menu.from = 1
		civilmenu.menu.to = 10
		inmenucivil = 0
		inmenuinv = 0
		inmenujob = 0
	end)
	Citizen.CreateThread(function()
	end)
end

--Menu pomenu

function drawMenuButton(button,x,y,selected)
	local menu = civilmenu.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = civilmenu.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = civilmenu.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitleCivmen(txt,x,y)
local menu = civilmenu.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,93,166,202,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function NotifyCivilMenu(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

function ShowNotificationMenuCivil2(text)
	SetNotificationTextEntry("STRING")
	AddTextComponentString(text)
	DrawNotification(false, false)
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,288) then
		  -- if IsPedInAnyVehicle(LocalPed(), true) == false then
		  if (inmenuinv == 0) and (inmenujob == 0) then
			if civilmenu.opened then
				CloseCreatorcivilmenu()
				inmenucivil = 0
				inmenuinv = 0
				inmenujob = 0
			else
				civilmenu.menu["main"].buttons = {}
				
			    if clientCrimi == 1 then
					table.insert(civilmenu.menu["main"].buttons, {name = "Zip Ties", description = ''})
				end
				
				table.insert(civilmenu.menu["main"].buttons, {name = "Enlever son masque", description = ''})
				table.insert(civilmenu.menu["main"].buttons, {name = "(re)Mettre son masque", description = ''})				
				table.insert(civilmenu.menu["main"].buttons, {name = "Animations", description = ''})
				table.insert(civilmenu.menu["main"].buttons, {name = "Telephone", description = ''})
				table.insert(civilmenu.menu["main"].buttons, {name = "Carte d'identitÃ©", description = ''})
				table.insert(civilmenu.menu["main"].buttons, {name = "Donner de l'argent", description = ''})
				table.insert(civilmenu.menu["main"].buttons, {name = "Sauvegarder ma position", description = ''})
				
				OpenCreatorcivilmenu()
				freezetargetCiv = totarget
				inmenucivil = 1
				inmenuinv = 0
				inmenujob = 0
			end
		  end
		  -- else
		    -- ShowNotificationMenuCivil2("~r~Vous ne pouvez pas ouvrir le menu dans un vÃ©hicule !")
	      -- end		  
		end
		if civilmenu.opened then
			local ped = LocalPed()
			local menu = civilmenu.menu[civilmenu.currentmenu]
			drawTxt(civilmenu.title,1,1,civilmenu.menu.x,civilmenu.menu.y,1.0, 255,255,255,255)
			drawMenuTitleCivmen(menu.title, civilmenu.menu.x,civilmenu.menu.y + 0.08)
			drawTxt(civilmenu.selectedbutton.."/"..tablelength(menu.buttons),0,0,civilmenu.menu.x + civilmenu.menu.width/2 - 0.0385,civilmenu.menu.y + 0.067,0.4, 255,255,255,255)
			local y = civilmenu.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= civilmenu.menu.from and i <= civilmenu.menu.to then
					
					if i == civilmenu.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,civilmenu.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedCivilMenu(button)
					end
				end
			end	
		end
		if civilmenu.opened then
			if IsControlJustPressed(1,202) then
				BackCivilMenu()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if civilmenu.selectedbutton > 1 then
					civilmenu.selectedbutton = civilmenu.selectedbutton -1
					if buttoncount > 10 and civilmenu.selectedbutton < civilmenu.menu.from then
						civilmenu.menu.from = civilmenu.menu.from -1
						civilmenu.menu.to = civilmenu.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if civilmenu.selectedbutton < buttoncount then
					civilmenu.selectedbutton = civilmenu.selectedbutton +1
					if buttoncount > 10 and civilmenu.selectedbutton > civilmenu.menu.to then
						civilmenu.menu.to = civilmenu.menu.to + 1
						civilmenu.menu.from = civilmenu.menu.from + 1
					end
				end	
			end
		end
	end
end)

inputrep = 0
inputrep911 = 0
inputrep2 = 0
inputmoney = 0
inputmoneysale = 0
havePhone = 0
inputmotifpolice = 0
motifx = 0
motify = 0
motifz = 0
				
function ButtonSelectedCivilMenu(button)
	local ped = GetPlayerPed(-1)
	local this = civilmenu.currentmenu
	local btn = button.name
	callx, cally, callz = table.unpack(GetEntityCoords(GetPlayerPed(-1) , true))
	if this == "main" then
		if btn == "Animations" then
			if IsPedInAnyVehicle(LocalPed(), true) == false then
				OpenMenuCivilmenu('mainanimation')
			else
		    ShowNotificationMenuCivil2("~r~Vous ne pouvez pas ouvrir le menu dans un vÃ©hicule !")
			end
		elseif btn == "Zip Ties" then
			TriggerServerEvent('playerZip')			
		elseif btn == "Enlever son masque" then
			SetPedComponentVariation(GetPlayerPed(-1), 1, 0, 0, 0)
			CloseCreatorcivilmenu()
			inmenucivil = 0
			inmenuinv = 0
			inmenujob = 0
					
		elseif btn == "(re)Mettre son masque" then
			clearPed()
			CloseCreatorcivilmenu()
			inmenucivil = 0
			inmenuinv = 0
			inmenujob = 0
			
		elseif btn == "Telephone" then
			TriggerServerEvent('playerPhone')
		elseif btn == "Carte d'identitÃ©" then
			TriggerServerEvent('MyIdent')
		elseif btn == "Donner de l'argent" then
			if IsPedInAnyVehicle(LocalPed(), true) == false then
				OpenMenuCivilmenu('maingivemoney')
			else
		    ShowNotificationMenuCivil2("~r~Vous ne pouvez pas ouvrir le menu dans un vÃ©hicule !")
			end
		elseif btn == "Sauvegarder ma position" then
			TriggerServerEvent('SavePosServer', {table.unpack(GetEntityCoords(ped)) })
			ShowNotificationMenuCivil2("~h~~b~Position sauvegardÃ©e.")
			CloseCreatorcivilmenu()
			inmenucivil = 0
			inmenuinv = 0
			inmenujob = 0	
		end
	elseif this == "mainanimation" then
		if btn == "Applaudire" then
		    Citizen.CreateThread(function()
                    TaskStartScenarioInPlace(GetPlayerPed(-1), "WORLD_HUMAN_CHEERING", 0, 1)
					PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
					Citizen.Wait(5000)
					ClearPedTasksImmediately(GetPlayerPed(-1))
			end)
			
		elseif btn == "Filmer" then
		    Citizen.CreateThread(function()
                    TaskStartScenarioInPlace(GetPlayerPed(-1), "WORLD_HUMAN_MOBILE_FILM_SHOCKING", 0, 1)
					PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
					Citizen.Wait(5000)
					ClearPedTasksImmediately(GetPlayerPed(-1))
			end)
		elseif btn == "Jouer de la musique" then
		    Citizen.CreateThread(function()
                    TaskStartScenarioInPlace(GetPlayerPed(-1), "WORLD_HUMAN_MUSICIAN", 0, 1)
					PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
					Citizen.Wait(20000)
					ClearPedTasksImmediately(GetPlayerPed(-1))
			end)			
		elseif btn == "Regarder sa carte" then
		    Citizen.CreateThread(function()
                    TaskStartScenarioInPlace(GetPlayerPed(-1), "WORLD_HUMAN_TOURIST_MAP", 0, 1)
					PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
					Citizen.Wait(10000)
					ClearPedTasksImmediately(GetPlayerPed(-1))
			end)			
		elseif btn == "Faire du Yoga" then
		    Citizen.CreateThread(function()
                    TaskStartScenarioInPlace(GetPlayerPed(-1), "WORLD_HUMAN_YOGA", 0, 1)
					PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
					Citizen.Wait(20000)
					ClearPedTasksImmediately(GetPlayerPed(-1))
			end)		
		elseif btn == "Faire des pompes" then
		    Citizen.CreateThread(function()
                    TaskStartScenarioInPlace(GetPlayerPed(-1), "WORLD_HUMAN_PUSH_UPS", 0, 1)
					PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
					Citizen.Wait(20000)
					ClearPedTasksImmediately(GetPlayerPed(-1))
			end)			
		
		end
	elseif this == "maintelephone" then
		if btn == "Police" then
		    DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
			ShowNotificationCall911("~b~ENTREZ UNE RAISON DE L'APPEL...")
			inputmotifpolice = 1
			motifx = callx
			motify = cally
			motifz = callz
			CloseCreatorcivilmenu()
			
		elseif btn == "Taxi" then
		    TriggerServerEvent('CallTaxi', callx, cally, callz)
			
		elseif btn == "DÃ©panneur" then
		    TriggerServerEvent('CallDep', callx, cally, callz)
			
		elseif btn == "Pompier" then
		    TriggerServerEvent('CallPomp', callx, cally, callz)
			
		elseif btn == "MÃ©decin" then
		    TriggerServerEvent('CallDoc', callx, cally, callz)
				
		elseif btn == "Journaliste" then
		    TriggerServerEvent('CallCnn', callx, cally, callz)
			
		elseif btn == "RÃ©pertoire" then
		   TriggerServerEvent('MyRep')
			
		end
	elseif this == "mainrepertoire" then
		if btn == "Ajouter un numÃ©ro" then
			DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
			inputrep = 1
			CloseCreatorcivilmenu()
			inmenucivil = 0
			inmenuinv = 0
			inmenujob = 0
		elseif btn == "911" then
			DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
			inputrep911 = 1
			CloseCreatorcivilmenu()
			inmenucivil = 0
			inmenuinv = 0
			inmenujob = 0
		elseif btn == "CNN" then
			DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
			inputrepCNN = 1
			CloseCreatorcivilmenu()
			inmenucivil = 0
			inmenuinv = 0
			inmenujob = 0
		else
		    OpenMenuCivilmenu('mainrepertoire2')
		    nameSMStarget = button.name
			numeroSMStarget = button.numero
		end
	elseif this == "mainrepertoire2" then
		if btn == "Envoyer un message" then
			DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
			inputrep2 = 1
			CloseCreatorcivilmenu()
			inmenucivil = 0
			inmenuinv = 0
			inmenujob = 0
		elseif btn == "Supprimer le contact" then
		
		end
	elseif this == "maingivemoney" then
		if btn == "Donner de l'argent" then
			DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
			inputmoney = 1
			CloseCreatorcivilmenu()
			inmenucivil = 0
			inmenuinv = 0
			inmenujob = 0
		elseif btn == "Donner de l'argent sale" then
		    DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
			inputmoneysale = 1
		    CloseCreatorcivilmenu()
			inmenucivil = 0
			inmenuinv = 0
			inmenujob = 0
		end
	end
end

--MOTIF CALL POLICE
Citizen.CreateThread(function()
	while true do
		Wait(0)
		if inputmotifpolice == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputmotifpolice = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputmotifclient = GetOnscreenKeyboardResult()
					if string.len(inputmotifclient) > 0 then
						ResultMotifAdd = inputmotifclient
						inputmotifpolice = 2
					else
						inputmotifpolice = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputmotifpolice = 0
			end
		end
		if inputmotifpolice == 2 then
		    TriggerServerEvent('Call911', motifx, motify, motifz, ResultMotifAdd)
			inputmotifpolice = 0
		end
	end
end)
--REPERTOIRE
Citizen.CreateThread(function()
	while true do
		Wait(0)
		if inputrep == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputrep = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputrepclient = GetOnscreenKeyboardResult()
					if string.len(inputrepclient) > 0 then
						ResultRepAdd = inputrepclient
						inputrep = 2
					else
						inputrep = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputrep = 0
			end
		end
		if inputrep == 2 then
		    TriggerServerEvent('AddNameInRep', ResultRepAdd)
			inputrep = 0
		end
		if inputmoney == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputmoney = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputemoneyclient = GetOnscreenKeyboardResult()
					if string.len(inputemoneyclient) > 0 then
						Resultmoney = inputemoneyclient
						inputmoney = 2
					else
						inputmoney = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputmoney = 0
			end
		end
		if inputmoney == 2 then
		    TriggerServerEvent('GivemoneyCiv', freezetargetCiv, Resultmoney)
			inputmoney = 0
		end
		if inputmoneysale == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputmoneysale = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputemoneyclient2 = GetOnscreenKeyboardResult()
					if string.len(inputemoneyclient2) > 0 then
						Resultmoneysale = inputemoneyclient2
						inputmoneysale = 2
					else
						inputmoneysale = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputmoneysale = 0
			end
		end
		if inputmoneysale == 2 then
		    TriggerServerEvent('GivemoneyCivSale', freezetargetCiv, Resultmoneysale)
			inputmoneysale = 0
		end
		if inputrep2 == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputrep2 = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputsmsclient = GetOnscreenKeyboardResult()
					if string.len(inputsmsclient) > 0 then
						ResultSmsAdd = inputsmsclient
						inputrep2 = 2
					else
						inputrep2 = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputrep2 = 0
			end
		end
		if inputrep2 == 2 then
		    TriggerServerEvent('ReceiveSMS', nameSMStarget, numeroSMStarget, ResultSmsAdd)
			inputrep2 = 0
		end
		if inputrep911 == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputrep911 = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputsmsclient911 = GetOnscreenKeyboardResult()
					if string.len(inputsmsclient911) > 0 then
						ResultSmsAdd911 = inputsmsclient911
						inputrep911 = 2
					else
						inputrep911 = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputrep911 = 0
			end
		end
		if inputrep911 == 2 then
		    TriggerServerEvent('SMS911', ResultSmsAdd911)
			inputrep911 = 0
		end
		if inputrepCNN == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputrepCNN = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputsmsclientCNN = GetOnscreenKeyboardResult()
					if string.len(inputsmsclientCNN) > 0 then
						ResultSmsAddCNN = inputsmsclientCNN
						inputrepCNN = 2
					else
						inputrepCNN = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputrepCNN = 0
			end
		end
		if inputrepCNN == 2 then
		    TriggerServerEvent('SMSCNN', ResultSmsAddCNN)
			inputrepCNN = 0
		end
	end
end)

RegisterNetEvent('CheckAddinRep')
AddEventHandler('CheckAddinRep', function(name)
    ShowNotificationMenuCivil2("~h~Vous avez ajoutÃ© ~b~"..name.."~w~ Ã  votre rÃ©pertoire.")
end)

RegisterNetEvent('CheckAddinRepFalse')
AddEventHandler('CheckAddinRepFalse', function(num)
    ShowNotificationMenuCivil2("~h~Aucun citoyen n'a le numÃ©ro ~r~"..num)
end)


RegisterNetEvent('CheckDejaNum')
AddEventHandler('CheckDejaNum', function()
    ShowNotificationMenuCivil2("~h~~r~Vous avez dÃ©jÃ  ce numÃ©ro.")
end)

---MESSAGE RECU
affichesms = false
smsattente = 0
-- sonnerie = 0

RegisterNetEvent('OpenSMS')
AddEventHandler('OpenSMS', function(author, msg)
	
	
	if affichesms == false then
		affichesms = true
	
		authorForSMS = author
		messageForSMS = msg
		
	elseif affichesms == true then
	
	    smsattente = 1
	    authorForSMS2 = author
		messageForSMS2 = msg
		
	end
	
end)

Citizen.CreateThread(function()
	while true do
	Citizen.Wait(0)
        if smsattente == 1 then
		Citizen.Wait(20000)
		affichesms = true
		authorForSMS = authorForSMS2
		messageForSMS = messageForSMS2
		smsattente = 0
		end
	end
end)

Citizen.CreateThread(function()
	while true do
	Citizen.Wait(0)
        if affichesms == true then
		-- sonnerie = 1
		Citizen.Wait(20000)
		affichesms = false
		end
	end
end)

-- Citizen.CreateThread(function()
	-- while true do
	-- Citizen.Wait(0)
        -- if sonnerie == 1 then
		-- PlaySoundFrontend(GetPlayerPed(-1), "Hack_Success", "DLC_HEIST_BIOLAB_PREP_HACKING_SOUNDS", 0)
		-- sonnerie = 0
		-- end
	-- end
-- end)



RegisterNetEvent('OpenSMSForAuthor')
AddEventHandler('OpenSMSForAuthor', function(name)
	
    ShowNotificationMenuCivil2("~h~Vous avez envoyÃ© un message Ã  ~b~"..name.."~w~.")
end)


Citizen.CreateThread(function()
	while true do
        Citizen.Wait(0)	
		    			
			if (affichesms == true) then
			
		    DrawRect(0.912000000000001, 0.292, 0.185, 0.205, 0, 0, 0, 150)
			DrawAdvancedText(0.966000000000001, 0.220, 0.005, 0.0028, 0.7, "~h~MESSAGE", 255, 255, 255, 255, 1, 1)
			DrawAdvancedText(0.924000000000001, 0.278, 0.005, 0.0028, 0.4, "de ~h~~b~"..authorForSMS, 255, 255, 255, 255, 6, 1)
			DrawAdvancedText(0.924000000000001, 0.322, 0.005, 0.0028, 0.4, messageForSMS, 255, 255, 255, 255, 6, 1)		
			
			end
	end
end)


RegisterNetEvent('FinishMenuCivil')
AddEventHandler('FinishMenuCivil', function()
	civilmenu.opened = false
	civilmenu.menu.from = 1
	civilmenu.menu.to = 10
	inmenucivil = 0
	inmenuinv = 0
	inmenujob = 0
end)

function ShowInfoCarteIdentite(text, state)
	SetTextComponentFormat("STRING")
	AddTextComponentString(text)
	DisplayHelpTextFromStringLabel(0, state, 0, -1)
end

function OpenMenuCivilmenu(menu)
	civilmenu.lastmenu = civilmenu.currentmenu
	if menu == "mainanimation" then
		civilmenu.lastmenu = "main"
	elseif menu == "maintelephone"  then
		civilmenu.lastmenu = "main"
	elseif menu == 'mainrepertoire' then
		civilmenu.lastmenu = "maintelephone"
	elseif menu == "race_create_objects_spawn" then
		civilmenu.lastmenu = "race_create_objects"
	end
	civilmenu.menu.from = 1
	civilmenu.menu.to = 10
	civilmenu.selectedbutton = 0
	civilmenu.currentmenu = menu	
end


function BackCivilMenu()
	if backlock then
		return
	end
	backlock = true
	if civilmenu.currentmenu == "main" then
		CloseCreatorcivilmenu()
		inmenucivil = 0
		inmenuinv = 0
		inmenujob = 0
	else
		OpenMenuCivilmenu(civilmenu.lastmenu)
	end
end

function stringstartsCivilMenu(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end


RegisterNetEvent('ZipOK')
AddEventHandler('ZipOK', function(haveZip)
    if haveZip ~= null then
		TriggerServerEvent('CheckCuff2', totarget)
    else
        ShowNotificationMenuCivil2("~h~~r~Vous n'avez de Zip Tie !")
    end
end)

RegisterNetEvent('PhoneOK')
AddEventHandler('PhoneOK', function(havetel)
    if havetel ~= null then
        OpenMenuCivilmenu('maintelephone')
    else
        ShowNotificationMenuCivil2("~h~~r~Vous n'avez de tÃ©lÃ©phone !")
    end
end)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              function DrawMissionText3(m_text, showtime)
		ClearPrints()
		SetTextEntry_2("STRING")
		AddTextComponentString(m_text)
		DrawSubtitleTimed(showtime, 1)
		end
		
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlPressed(1, 323) and IsPedInAnyVehicle(GetPlayerPed(-1), true) == false then --Start holding X
			TaskHandsUp(GetPlayerPed(-1), 1000, GetPlayerPed(-1), -1, true) -- Perform animation.
		end
	end
end)



Citizen.CreateThread(function()

	while true do
		Citizen.Wait(1)
		
		entitytarget = Citizen.InvokeNative(0x2975C866E6713290, PlayerId(), Citizen.PointerValueInt(), Citizen.ResultAsInteger(entitytarget))
			
		
			local pos = GetEntityCoords(GetPlayerPed(-1))
            local t = 0
			for i = 0,2000 do
				if(GetPlayerServerId(i))then
					if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(GetPlayerPed(i))) > 3.0001 then
					    -- totarget = 0
					else
						
					    if(NetworkIsPlayerTalking(i)) then
						--if(NetworkIsPlayerActive(i))then
						t = t + 1

						    if(t == 1)then
							
								--DrawMissionText3("[DEBUG] Civil Proche "..GetPlayerServerId(i), 1000)
								totarget = GetPlayerServerId(i)
								
						    end
					    end
					end
				end
			end
	end
end)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
local invmenu = {
	opened = false,
	title = "Inventaire",
	currentmenu = "main",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.1,
		y = 0.32,
		width = 0.2,
		height = 0.04,
		buttons = 9,
		from = 1,
		to = 9,
		scale = 0.4,
		font = 0,
		["main"] = { 
			title = "", 
			name = "main",
			buttons = {
				
			}
		},
		["itemmenu"] = { 
			title = "", 
			name = "itemmenu",
			buttons = { 
				{name = "Utiliser", description = ''},
				{name = "Donner", description = ''},
				{name = "Supprimer", description = ''},
			}
		},
	}
}


RegisterNetEvent('MyInvClient')
AddEventHandler('MyInvClient', function(playerinventory,iteminfo,playername)
	-- inmenucivil = 0
	-- inmenuinv = 1
	-- inmenujob = 0
	iteminuse = 0
	local insrt = table.insert
	invmenu.menu["main"].title = playername
	invmenu.menu["main"].buttons = {}
	local counttable = tablelength(playerinventory)
	local countbutton = 0
	local i = 1
	--local invWeight = calcInventoryWeight(playerinventory)
	--local showWeight = "Poids - "..invWeight.."/"..MaxInventory 
	--insrt(invmenu.menu["main"].buttons, {name = showWeight, description = "", ref = "weight"})
	while countbutton ~= counttable do
		item = playerinventory[iteminfo[i]['item_price_name']]
		if item ~= null then
			if item > 1 then
				nametext = iteminfo[i]['name_pluriel']
			else
				nametext = iteminfo[i]['name_singulier']
			end
			finaltext = item.." "..nametext
			refname = iteminfo[i]['item_price_name']
			fct = iteminfo[i]['function_use_item']
			reftext = iteminfo[i]['name_singulier']
			insrt(invmenu.menu["main"].buttons, {name = finaltext, description = "", ref = refname, itemnumber = item,textsing = reftext, use = fct})
			countbutton = countbutton + 1
		end
		i = i + 1
	end

	invmenu.currentmenu = "main"
	invmenu.opened = true
	invmenu.selectedbutton = 0
end)

--NOTIFICATION 
RegisterNetEvent('GiveTarget')
AddEventHandler('GiveTarget', function(item, name, nb)
    if (item == "GPS") then
		gpsacitve = 1
	end
	ShowNotificationMain("~h~Vous avez reÃ§us ~g~"..nb.." "..item.."~w~ de la part de ~b~"..name.."~w~.")
end)

RegisterNetEvent('GiveSource')
AddEventHandler('GiveSource', function(item, name, nb)
	ShowNotificationMain("~h~Vous avez donnÃ© ~g~"..nb.." "..item.."~w~ Ã  ~b~"..name.."~w~.")
end)

RegisterNetEvent('Deletesource')
AddEventHandler('Deletesource', function(item)
	ShowNotificationMain("~h~Vous avez supprimÃ© ~r~un "..item.."~w~.")
end)

local function LocalPed()
return GetPlayerPed(-1)
end

function CloseCreatorinvmenu()
	Citizen.CreateThread(function()
		invmenu.opened = false
		invmenu.menu.from = 1
		invmenu.menu.to = 10
		inmenucivil = 0
		inmenuinv = 0
		inmenujob = 0
	end)
end

--Menu pomenu

function drawMenuButton(button,x,y,selected)
	local menu = invmenu.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuTitleInv(txt,x,y)
local menu = invmenu.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,93,166,202,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function Notifyinvmenu(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,289) then
		if IsPedInAnyVehicle(LocalPed(), true) == false then
		if (inmenucivil == 0) and (inmenujob == 0) then
			if invmenu.opened then
				CloseCreatorinvmenu()
			else
				TriggerServerEvent('MyInv')		
				inmenucivil = 0
				inmenuinv = 1
				inmenujob = 0
			end
		end
		else
		    ShowNotificationMenuCivil2("~r~Vous ne pouvez pas ouvrir le menu dans un vÃ©hicule !")
	    end
		end
		if invmenu.opened then
			local ped = LocalPed()
			local menu = invmenu.menu[invmenu.currentmenu]
			drawTxt(invmenu.title,1,1,invmenu.menu.x,invmenu.menu.y,1.0, 255,255,255,255)
			drawMenuTitleInv(menu.title, invmenu.menu.x,invmenu.menu.y + 0.08)
			drawTxt(invmenu.selectedbutton.."/"..tablelength(menu.buttons),0,0,invmenu.menu.x + invmenu.menu.width/2 - 0.0385,invmenu.menu.y + 0.067,0.4, 255,255,255,255)
			local y = invmenu.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= invmenu.menu.from and i <= invmenu.menu.to then
					
					if i == invmenu.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,invmenu.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedinvmenu(button)
					end
				end
			end	
		end
		if invmenu.opened then
			if IsControlJustPressed(1,202) then
				Backinvmenu()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if invmenu.selectedbutton > 1 then
					invmenu.selectedbutton = invmenu.selectedbutton -1
					if buttoncount > 10 and invmenu.selectedbutton < invmenu.menu.from then
						invmenu.menu.from = invmenu.menu.from -1
						invmenu.menu.to = invmenu.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if invmenu.selectedbutton < buttoncount then
					invmenu.selectedbutton = invmenu.selectedbutton +1
					if buttoncount > 10 and invmenu.selectedbutton > invmenu.menu.to then
						invmenu.menu.to = invmenu.menu.to + 1
						invmenu.menu.from = invmenu.menu.from + 1
					end
				end	
			end
		end
	end
end)


				
function ButtonSelectedinvmenu(button)
	local ped = GetPlayerPed(-1)
	local this = invmenu.currentmenu
	local btn = button.name
	callx, cally, callz = table.unpack(GetEntityCoords(GetPlayerPed(-1) , true))
	if this == "main" then
		if button.ref ~= "weight" then
			useitem = button.use
			itemref = button.ref
			nameofitem = button.textsing
			actualnumber = button.itemnumber
			invmenu.menu["itemmenu"].title = nameofitem
			OpenMenuinvmenu('itemmenu')
		end
	elseif this == "itemmenu" then
		if btn == "Utiliser" then
			if useitem == "" then
				ShowNotificationMain("~h~Cet objet n'est pas utilisable.")
			else	
				if iteminuse == 1 then
					ShowNotificationMain("~h~Hum..le mÃ©lange n'est jamais bon !'")
				else
					fctuse = load(useitem.."()")
					iteminuse = 1
					CloseCreatorinvmenu()
				end
			end
		elseif btn =="Donner" then
		    if (itemref == "gps") and (actualnumber == 1) then
			    gpsacitve = 0
			end
			targetid = totarget
			itemref2 = itemref
			nameofitem2 = nameofitem
			DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
			inputgiveitem = 1
			actualnumber = actualnumber -1
			-- if actualnumber <= 0 then
				-- CloseCreatorinvmenu()
			-- end
			CloseCreatorinvmenu()

		elseif btn =="Supprimer" then
		    if (itemref == "gps") and (actualnumber == 1) then
			    gpsacitve = 0
			end
			TriggerServerEvent('InvDelete',itemref,nameofitem)
			actualnumber = actualnumber -1
			if actualnumber <= 0 then
				CloseCreatorinvmenu()
			end
			
		end
	end
end

inputgiveitem = 0

--RETRAIT ITEM
Citizen.CreateThread(function()
	while true do
		Wait(0)
		if inputgiveitem == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputgiveitem = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputgiveitem2 = GetOnscreenKeyboardResult()
					if string.len(inputgiveitem2) > 0 then
						nbgiveitem = inputgiveitem2
						inputgiveitem = 2
					else
						inputgiveitem = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputgiveitem = 0
			end
		end
		if inputgiveitem == 2 then
			TriggerServerEvent('InvGive',targetid,itemref,nameofitem, nbgiveitem)
			TriggerServerEvent('MyInv')
			inputgiveitem = 0
		end
	end
end)

function OpenMenuinvmenu(menu)
	invmenu.lastmenu = invmenu.currentmenu
	if menu == "itemmenu" then
		invmenu.lastmenu = "main"
	end
	invmenu.menu.from = 1
	invmenu.menu.to = 10
	invmenu.selectedbutton = 0
	invmenu.currentmenu = menu	
end


function Backinvmenu()
	if backlock then
		return
	end
	backlock = true
	if invmenu.currentmenu == "main" then
		CloseCreatorinvmenu()
	end
	if invmenu.currentmenu == "itemmenu" then
		invmenu.opened = false
		invmenu.menu.from = 1
		invmenu.menu.to = 10
		TriggerServerEvent('MyInv')	
	else
		OpenMenuinvmenu(invmenu.lastmenu)
	end
end

function stringstartsinvmenu(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end


                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
function ShowNotificationSpawn(text)
	SetNotificationTextEntry("STRING")
	AddTextComponentString(text)
	DrawNotification(false, false)
end


gmPlayerJoinedGlobal = 0

RegisterNetEvent("HasComa")
AddEventHandler('HasComa', function(message)
    Citizen.CreateThread(function()
        Citizen.Wait(50)
		clientComa = tonumber(message)
		
		if (clientComa == 1) then
		    TriggerServerEvent("resetMoney")
			TriggerEvent("teleportSpawning", source)
			foodlvl = 100
			waterlvl = 100
			inmenucivil = 0
			inmenuinv = 0
			inmenujob = 0
			incomatocall = 0
			gpsacitve = 0
			postcoma = 1	
			ShowNotificationSpawn('Bienvenue sur ~h~Faily~g~V')
			TriggerServerEvent("resetComa")
			clientComa = 0
		end
		
    end)
end)


AddEventHandler('playerSpawned', function(spawn)
	
	if gmPlayerJoinedGlobal == 1 then
	    TriggerServerEvent("resetMoney")
		TriggerEvent("teleportSpawning", source)
		foodlvl = 100
		waterlvl = 100
		inmenucivil = 0
		inmenuinv = 0
		inmenujob = 0
		incomatocall = 0
		gpsacitve = 0
		postcoma = 1
		clientComa = 0
		TriggerServerEvent("resetComa")		
	else
		ShowNotificationSpawn('Bienvenue sur ~h~Faily~g~V')
		gmPlayerJoinedGlobal = 1
	end	
	TriggerServerEvent("onPlayerConnect")
end)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  RegisterNetEvent("setHealth")
RegisterNetEvent("setArmour")

AddEventHandler("setHealth", function(health)
	SetEntityHealth(GetPlayerPed(-1), 200)
end)

local playerVehicle = nil
local lastSpawnedVehicle = nil

AddEventHandler("setArmour", function(armour)
	SetPedArmour(GetPlayerPed(-1), armour)
end)

RegisterNetEvent("createCarAtPlayerPos")
AddEventHandler('createCarAtPlayerPos', function(message, personal)
    Citizen.CreateThread(function()
        Citizen.Wait(50)
        local carid = GetHashKey(message)
        local playerPed = GetPlayerPed(-1)
        if playerPed and playerPed ~= -1 then
            RequestModel(carid)
            while not HasModelLoaded(carid) do
                Citizen.Wait(0)
            end
            local playerCoords = GetEntityCoords(playerPed)
            playerCoords = playerCoords + vector3(0, 2, 0)
			
            lastSpawnedVehicle = CreateVehicle(carid, playerCoords, 0.0, true, false)
			TaskWarpPedIntoVehicle(playerPed, lastSpawnedVehicle, -1)
			
			if(personal)then
				playerVehicle = lastSpawnedVehicle
			end
        end
    end)
end)

invehpolice = false

RegisterNetEvent("PlayerAtVeh")
AddEventHandler('PlayerAtVeh', function()
    Citizen.CreateThread(function()
        Citizen.Wait(50)
		local carid = GetHashKey("police")
		local carid2 = GetHashKey("police2")
		local carid3 = GetHashKey("police3")
		local carid4 = GetHashKey("fbi")
		local carid5 = GetHashKey("fbi2")
		local carid6 = GetHashKey("sheriff")
		local carid7 = GetHashKey("sheriff2")
		local carid8 = GetHashKey("policet")
		local carid9 = GetHashKey("police4")
		local carid10 = GetHashKey("policeb")
		
        local playerPed = GetPlayerPed(-1)
		local pos = GetEntityCoords(GetPlayerPed(-1))
		
	    local carclosest = GetClosestVehicle(pos['x'], pos['y'], pos['z'], 10.0,carid,70)
	    local carclosest2 = GetClosestVehicle(pos['x'], pos['y'], pos['z'], 10.0,carid2,70)
	    local carclosest3 = GetClosestVehicle(pos['x'], pos['y'], pos['z'], 10.0,carid3,70)
	    local carclosest4 = GetClosestVehicle(pos['x'], pos['y'], pos['z'], 10.0,carid4,70)
	    local carclosest5 = GetClosestVehicle(pos['x'], pos['y'], pos['z'], 10.0,carid5,70)
	    local carclosest6 = GetClosestVehicle(pos['x'], pos['y'], pos['z'], 10.0,carid6,70)
	    local carclosest7 = GetClosestVehicle(pos['x'], pos['y'], pos['z'], 10.0,carid7,70)
	    local carclosest8 = GetClosestVehicle(pos['x'], pos['y'], pos['z'], 10.0,carid8,70)
	    local carclosest9 = GetClosestVehicle(pos['x'], pos['y'], pos['z'], 10.0,carid9,70)
	    local carclosest9 = GetClosestVehicle(pos['x'], pos['y'], pos['z'], 10.0,carid10,70)
		
		local carinusing = GetVehiclePedIsUsing(playerPed)
		
        if playerPed and playerPed ~= -1 then
		
		    if invehpolice == false then
            handCuffed = false
			Wait(1000)
			
			TaskEnterVehicle(playerPed, carclosest, -1, 2, 2.0001, 1)
			TaskEnterVehicle(playerPed, carclosest2, -1, 2, 2.0001, 1)
			TaskEnterVehicle(playerPed, carclosest3, -1, 2, 2.0001, 1)
			TaskEnterVehicle(playerPed, carclosest4, -1, 2, 2.0001, 1)
			TaskEnterVehicle(playerPed, carclosest5, -1, 2, 2.0001, 1)
			TaskEnterVehicle(playerPed, carclosest6, -1, 2, 2.0001, 1)
			TaskEnterVehicle(playerPed, carclosest7, -1, 2, 2.0001, 1)
			TaskEnterVehicle(playerPed, carclosest8, -1, 2, 2.0001, 1)
			TaskEnterVehicle(playerPed, carclosest9, -1, 2, 2.0001, 1)
			TaskEnterVehicle(playerPed, carclosest10, -1, 2, 2.0001, 1)
			
			Wait(5000)
			handCuffed = true
			
			invehpolice = true
			
			elseif invehpolice == true then
			handCuffed = false
			Wait(1000)
			
			TaskLeaveVehicle(playerPed, carinusing, 0)
			
			Wait(1000)
			handCuffed = true
			
			invehpolice = false
			end	
        end
    end)
end)

RegisterNetEvent("PlayerFollowme")
AddEventHandler('PlayerFollowme', function(idpol)
    Citizen.CreateThread(function()
        Citizen.Wait(50)
        local playerPed = GetPlayerPed(-1)
			TaskFollowToOffsetOfEntity(playerPed, idpol, 1, 1, 1, 1, 1, 2, 1)
    end)
end)

RegisterNetEvent("createCarAtPlayerPos2")
AddEventHandler('createCarAtPlayerPos2', function(message, personal)
    Citizen.CreateThread(function()
        Citizen.Wait(50)
        local carid = GetHashKey(message)
        local playerPed = GetPlayerPed(-1)
        if playerPed and playerPed ~= -1 then
            RequestModel(carid)
            while not HasModelLoaded(carid) do
                Citizen.Wait(0)
            end
            local playerCoords = GetEntityCoords(playerPed)
            playerCoords = playerCoords + vector3(0, 2, 0)
			
            lastSpawnedVehicle = CreateVehicle(carid, playerCoords, 0.0, true, false)
			TaskWarpPedIntoVehicle(playerPed, lastSpawnedVehicle, -1)
        end
    end)
end)

RegisterNetEvent("setskin")
AddEventHandler("setskin", function(message)
    Citizen.CreateThread(function()
        Citizen.Wait(50)
		local modelID = GetHashKey(message)
		local job = tonumber(message2)
		SkinDB = tonumber(message2)
        local playerPed = GetPlayerPed(-1)
            if playerPed and playerPed ~= -1 then
                RequestModel(modelID)
                while not HasModelLoaded(modelID) do
                    Citizen.Wait(0)
                end
                local playerCoords = GetEntityCoords(playerPed)
                playerCoords = playerCoords + vector3(0, 2, 0)
			    
                SetPlayerModel(PlayerId(), modelID)
				
				Citizen.Wait(500)
				TriggerServerEvent('spawnWeaponForRespawn')
				Citizen.Wait(500)
				TriggerServerEvent('SetVariationServer')
            end		
    end)
end)

RegisterNetEvent("SetPlateEvent")
AddEventHandler('SetPlateEvent', function(plate)
    Citizen.CreateThread(function()
        Citizen.Wait(5000)
            local ped = GetPlayerPed(-1)
			local car = GetVehiclePedIsUsing(ped)
			
			SetVehicleModKit(car, 0)
			SetVehicleNumberPlateText(car, plate)
    end)
end)

RegisterNetEvent("setvariationclient")
AddEventHandler("setvariationclient", function()
	TriggerServerEvent('SetVariationServer')
end)

RegisterNetEvent("setvariation")
AddEventHandler("setvariation", function(param1, param2, param3, param4)
    Citizen.CreateThread(function()
        Citizen.Wait(500)
		
		SetPedComponentVariation(GetPlayerPed(-1), tonumber(param1),param2,param3,param4)
		TriggerServerEvent("playerGPS")
    end)
end)

RegisterNetEvent("setvariationprops")
AddEventHandler("setvariationprops", function(param1, param2, param3, param4)
    Citizen.CreateThread(function()
        Citizen.Wait(500)
		
		SetPedPropIndex(GetPlayerPed(-1), tonumber(param1),param2,param3,param4)
    end)
end)

RegisterNetEvent("setskinadmin")
AddEventHandler("setskinadmin", function(message, skin)
    Citizen.CreateThread(function()
        Citizen.Wait(50)
		local modelID = GetHashKey(message)
        local playerPed = GetPlayerPed(-1)
            if playerPed and playerPed ~= -1 then
                RequestModel(modelID)
                while not HasModelLoaded(modelID) do
                    Citizen.Wait(0)
                end
                local playerCoords = GetEntityCoords(playerPed)
                playerCoords = playerCoords + vector3(0, 2, 0)
			    
                lastSkin = SetPlayerModel(PlayerId(), modelID)
			    SetPedRandomComponentVariation(GetPlayerPed(-1))
				SetPedRandomProps(GetPlayerPed(-1))
				GetPedDrawableVariation(GetPlayerPed(-1))
				SetPedHelmet(GetPlayerPed(-1))
			    
			    if(skin)then
		    		playerSkin = lastSkin
		    	end
            end
    end)
end)

RegisterNetEvent("revive")
AddEventHandler("revive", function(message)
    Citizen.CreateThread(function()
        Citizen.Wait(50)
		local ped = tonumber(message)
		ReviveInjuredPed(ped)
    end)
end)


RegisterNetEvent("Adminlevel")
AddEventHandler("Adminlevel", function(message)

	clientAdminlevel = tonumber(message)

end)

RegisterNetEvent("cuffed")
AddEventHandler("cuffed", function()
    Citizen.CreateThread(function()
    local pid = PlayerPedId()
	RequestAnimDict("mp_prison_break")
    while (not HasAnimDictLoaded("mp_prison_break")) do Citizen.Wait(0) end
        TaskPlayAnim(pid,"mp_prison_break","handcuffed",1.0,-1.0, 5000, 0, 1, true, true, true)
	end)
end)

RegisterNetEvent("arrestme")
AddEventHandler("arrestme", function()
    Citizen.CreateThread(function()
    local pid = PlayerPedId()
    RequestAnimDict("random")
    RequestAnimDict("random@arrests")
    RequestAnimDict("random@arrests@busted")
    while (not HasAnimDictLoaded("random@arrests@busted")) do Citizen.Wait(0) end
        TaskPlayAnim(pid,"random@arrests","idle_2_hands_up",1.0,-1.0, 5000, 0, 1, true, true, true)
	end)
end)

RegisterNetEvent("GarageGouvHeli")
AddEventHandler('GarageGouvHeli', function(message, personal)
    Citizen.CreateThread(function()
        Citizen.Wait(50)
        local carid = GetHashKey(message)
        local playerPed = GetPlayerPed(-1)
        if playerPed and playerPed ~= -1 then
            RequestModel(carid)
            while not HasModelLoaded(carid) do
                Citizen.Wait(0)
            end
			local playerCoords = GetEntityCoords(playerPed)
            playerCoords = playerCoords + vector3(0, 2, 0)
			
            lastSpawnedVehicle = CreateVehicle(carid, -455.6062,1144.49,324.5046, 0.0, true, false)
			TaskWarpPedIntoVehicle(playerPed, lastSpawnedVehicle, -1)
			
			if(personal)then
				playerVehicle = lastSpawnedVehicle
			end

        end
    end)
end)

RegisterNetEvent("GarageGouvVehi")
AddEventHandler('GarageGouvVehi', function(message, personal)
    Citizen.CreateThread(function()
        Citizen.Wait(50)
        local carid = GetHashKey(message)
        local playerPed = GetPlayerPed(-1)
        if playerPed and playerPed ~= -1 then
            RequestModel(carid)
            while not HasModelLoaded(carid) do
                Citizen.Wait(0)
            end
			local playerCoords = GetEntityCoords(playerPed)
            playerCoords = playerCoords + vector3(0, 2, 0)
			
            lastSpawnedVehicle = CreateVehicle(carid, -403.33,1060.87,323.8412, 0.0, true, false)
			TaskWarpPedIntoVehicle(playerPed, lastSpawnedVehicle, -1)
			
			if(personal)then
				playerVehicle = lastSpawnedVehicle
			end

        end
    end)
end)

RegisterNetEvent("GaragePV")
AddEventHandler('GaragePV', function(message)
    Citizen.CreateThread(function()
        Citizen.Wait(50)
        local carid = GetHashKey(message)
        local playerPed = GetPlayerPed(-1)
        if playerPed and playerPed ~= -1 then
            RequestModel(carid)
            while not HasModelLoaded(carid) do
                Citizen.Wait(0)
            end
            local playerCoords = GetEntityCoords(playerPed)
            playerCoords = playerCoords + vector3(0, 2, 0)
			
            local lastSpawnedVehiclePV = CreateVehicle(carid, playerCoords, 0.0, true, false)
			TaskWarpPedIntoVehicle(playerPed, lastSpawnedVehiclePV, -1)
            SetVehicleNumberPlateText(lastSpawnedVehiclePV, plate)
			
        end
    end)
end)

RegisterNetEvent("GaragePVwithPlate")
AddEventHandler('GaragePVwithPlate', function(message,plate)
    Citizen.CreateThread(function()
        Citizen.Wait(50)
        local carid = GetHashKey(message)
        local playerPed = GetPlayerPed(-1)
        if playerPed and playerPed ~= -1 then
            RequestModel(carid)
            while not HasModelLoaded(carid) do
                Citizen.Wait(0)
            end
            local playerCoords = GetEntityCoords(playerPed)
            playerCoords = playerCoords + vector3(0, 2, 0)
			
            local lastSpawnedVehicle = CreateVehicle(carid, playerCoords, 0.0, true, false)
			TaskWarpPedIntoVehicle(playerPed, lastSpawnedVehicle, -1)
            SetVehicleNumberPlateText(lastSpawnedVehicle, plate)
			
        end
    end)
end)

RegisterNetEvent("GarageHelicoEMSPOL")
AddEventHandler('GarageHelicoEMSPOL', function(message)
    Citizen.CreateThread(function()
        Citizen.Wait(50)
        local carid = GetHashKey(message)
        local playerPed = GetPlayerPed(-1)
        if playerPed and playerPed ~= -1 then
            RequestModel(carid)
            while not HasModelLoaded(carid) do
                Citizen.Wait(0)
            end
			
			if (lastSpawnedVehicle2 ~= nil) then			
            deleteCar(lastSpawnedVehicle2)
			end
			
			
            local playerCoords = GetEntityCoords(playerPed)
            playerCoords = playerCoords + vector3(0, 2, 0)
			
            lastSpawnedVehicle2 = CreateVehicle(carid, playerCoords, 0.0, true, false)
			TaskWarpPedIntoVehicle(playerPed, lastSpawnedVehicle2, -1)
			
        end
    end)
end)

RegisterNetEvent("GaragePB")
AddEventHandler('GaragePB', function(message)
    Citizen.CreateThread(function()
        Citizen.Wait(50)
        local carid = GetHashKey(message)
        local playerPed = GetPlayerPed(-1)
        if playerPed and playerPed ~= -1 then
            RequestModel(carid)
            while not HasModelLoaded(carid) do
                Citizen.Wait(0)
            end

            lastSpawnedVehicle = CreateVehicle(carid, -869.3359,-1336.833,-0.08679427, 0.0, true, false)
			TaskWarpPedIntoVehicle(playerPed, lastSpawnedVehicle, -1)

        end
    end)
end)

RegisterNetEvent("ClientJob2")
AddEventHandler("ClientJob2", function(message)
clientjobID = tonumber(message)
end)


RegisterNetEvent("clientPlayerLevel")
AddEventHandler("clientPlayerLevel", function(lvl, rank, name)
clientlevel = tonumber(lvl)
clientrankid = tonumber(rank)
clientrankname = name
end)

RegisterNetEvent("Clientwanted2")
AddEventHandler("Clientwanted2", function(message)
ClientWanted = tonumber(message)
end)

RegisterNetEvent("SpawnJob")
AddEventHandler("SpawnJob", function(message, coord1, coord2, coord3)

    Citizen.CreateThread(function()
	Citizen.Wait(50)
	clientjobID = tonumber(message)
	
	local playerPed = GetPlayerPed(-1)
    SetEntityCoords(playerPed, tonumber(coord1), tonumber(coord2), tonumber(coord3))  			
	end)
	
end)


RegisterNetEvent("HasCrimi")
AddEventHandler("HasCrimi", function(message)

	clientCrimi = tonumber(message)
end)

RegisterNetEvent('BoughtPv')
AddEventHandler('BoughtPv', function(veh)
	-- lastSpawnedVehicle = veh
	-- playerVehicle = veh
end)

RegisterNetEvent("upgradePlayerVehicle")
AddEventHandler("upgradePlayerVehicle", function()

    local ped = GetPlayerPed(-1)
    local car = GetVehiclePedIsUsing(ped)
	
		SetVehicleModKit(car, 0)
		ToggleVehicleMod(car, 18, true)
		ToggleVehicleMod(car, 22, true)
		SetVehicleMod(car, 16, 4, true)
		SetVehicleMod(car, 12, 2, true)
		SetVehicleMod(car, 11, 2, true)
		SetVehicleMod(car, 14, 1, true)
		SetVehicleMod(car, 15, 3, true)
		SetVehicleMod(car, 13, 2, true)
		SetVehicleWheelType(car, 3)
		SetVehicleWindowTint(car, 1)
		SetVehicleMod(car, 23, 6, true)
		SetVehicleColours(car, 12)
		SetVehicleExtraColours(car, 12)
		SetVehicleNumberPlateText(car,"GOUV USA")
		SetVehicleFixed(car)
		SetVehicleDirtLevel(car, 0.0)
		
end)

RegisterNetEvent("FixAdmin")
AddEventHandler("FixAdmin", function()

    local ped = GetPlayerPed(-1)
    local car = GetVehiclePedIsUsing(ped)
	
		SetVehicleFixed(car)
		SetVehicleDirtLevel(car, 0.0)
		
end)

RegisterNetEvent("fixPersonalVehicle")
AddEventHandler("fixPersonalVehicle", function()
	if(playerVehicle ~= nil)then
		SetVehicleFixed(playerVehicle)
	end
end)

RegisterNetEvent("personalVehicleColor")
AddEventHandler("personalVehicleColor", function(r, g, b)
	if(playerVehicle ~= nil)then
		SetVehicleCustomPrimaryColour(playerVehicle, tonumber(r), tonumber(g), tonumber(b))
		SetVehicleCustomSecondaryColour(playerVehicle, tonumber(r), tonumber(g), tonumber(b))
	end
end)

RegisterNetEvent("personalVehicleColorPrimary")
AddEventHandler("personalVehicleColorPrimary", function(r, g, b)
	if(playerVehicle ~= nil)then
		SetVehicleCustomPrimaryColour(playerVehicle, tonumber(r), tonumber(g), tonumber(b))
	end
end)

RegisterNetEvent("personalVehicleColorSecondary")
AddEventHandler("personalVehicleColorSecondary", function(r, g, b)
	if(playerVehicle ~= nil)then
		SetVehicleCustomSecondaryColour(playerVehicle, tonumber(r), tonumber(g), tonumber(b))
	end
end)

RegisterNetEvent("deletecaradmin")
AddEventHandler('deletecaradmin', function()
    Citizen.CreateThread(function()
        Citizen.Wait(50)
        local playerPed = GetPlayerPed(-1)
        local lastSpawnedVehicle = GetVehiclePedIsUsing(playerPed)
            
        if(lastSpawnedVehicle ~= nil)then                
            deleteCar(lastSpawnedVehicle)
        end
    end)
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  AddEventHandler('playerSpawned', function(spawn)
	TriggerEvent("AwesomeGod", false)
    Citizen.CreateThread(function()
        Citizen.Wait(0) --run it
        for i = 0,31 do
            if NetworkIsPlayerConnected(i) then
                if NetworkIsPlayerConnected(i) and GetPlayerPed(i) ~= nil then
                    SetCanAttackFriendly(GetPlayerPed(i), true, true)
                    NetworkSetFriendlyFireOption(true)
                end                
            end
        end
    end)
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      RegisterNetEvent("AwesomeFreeze")
RegisterNetEvent("AwesomeInvisible")
RegisterNetEvent("AwesomeGod")
RegisterNetEvent("spawnWeaponForPlayer")
RegisterNetEvent("spawnWeaponForPlayer2")
RegisterNetEvent("spawnWeaponForPlayer3")
RegisterNetEvent("spawnWeaponForPlayer4")
RegisterNetEvent("AwesomeSetWanted")
RegisterNetEvent("getTopPlayer")

-- Spawning
-- Spawn stuff
SpawnPositions = {
	{-455.2633, -341.817, 34.36349},
	{-455.2633, -341.817, 34.36349},
	{-455.2633, -341.817, 34.36349},
	{-455.2633, -341.817, 34.36349}
}

--[[
exports.spawnmanager:setAutoSpawnCallback(function()
	local spawnPos = SpawnPositions[math.random(1, 4)]
	exports.spawnmanager:spawnPlayer({ x = spawnPos[1], y = spawnPos[2], z = spawnPos[3], model = 'player_one'}, function()
		Citizen.Trace("spowned!\n")
	end)
end)
]]

AddEventHandler('AwesomeSetWanted', function(level)
	SetPlayerWantedLevel(PlayerId(), level, false)
	SetPlayerWantedLevelNow(PlayerId(), false)
end)

AddEventHandler('AwesomeFreeze', function(freeze)
    Citizen.CreateThread(function()
		Citizen.Wait(500)
		local ped = GetPlayerPed(-1)

		if not freeze then
			FreezeEntityPosition(ped, false)
			SetPlayerControl(ped, true, true)
		else
			FreezeEntityPosition(ped, true)
			SetPlayerControl(ped, false, false)
			if not IsPedFatallyInjured(ped) then
				ClearPedTasksImmediately(ped)
			end
		end
    end)
end)

AddEventHandler('AwesomeGod', function(godmode)
    Citizen.CreateThread(function()
		Citizen.Wait(500)
		local ped = GetPlayerPed(-1)

		if not godmode then
			SetEntityInvincible(GetPlayerPed(-1), false)
		else
			SetEntityInvincible(GetPlayerPed(-1), true)
		end
    end)
end)


AddEventHandler('spawnWeaponForPlayer', function(weapon)
	Citizen.CreateThread(function()
        Citizen.Wait(50)
        local weaponid = GetHashKey(weapon)
        local playerPed = GetPlayerPed(-1)
        if playerPed and playerPed ~= -1 then
			GiveWeaponToPed(playerPed, weaponid, 500, true, true)			
        end
    end)
end)

AddEventHandler('spawnWeaponForPlayer2', function()
	Citizen.CreateThread(function()
        Citizen.Wait(50)
        local playerPed = GetPlayerPed(-1)
        if playerPed and playerPed ~= -1 then
			GiveWeaponToPed(playerPed, 1737195953, 500, true)
			GiveWeaponToPed(playerPed, 453432689, 500, true)	
			GiveWeaponToPed(playerPed, 911657153, 500, true)
			GiveWeaponToPed(playerPed, 101631238, 500, true)
			GiveWeaponToPed(playerPed, 4256991824, 500, true)
			GiveWeaponToPed(playerPed, 487013001, 500, true)
			GiveWeaponToPed(playerPed, 3494679629, 500, true)
        end
    end)
end)

AddEventHandler('spawnWeaponForPlayer3', function()
	Citizen.CreateThread(function()
        Citizen.Wait(5000)
        local playerPed = GetPlayerPed(-1)
        if playerPed and playerPed ~= -1 then
			GiveWeaponToPed(playerPed, 984333226, 500, true)
			GiveWeaponToPed(playerPed, 157823901, 500, true)
			GiveWeaponToPed(playerPed, 205991906, 500, true)
			GiveWeaponToPed(playerPed, 1305664598, 500, true)
			GiveWeaponToPed(playerPed, 2726580491, 500, true)
			GiveWeaponToPed(playerPed, 2481070269, 500, true)
			GiveWeaponToPed(playerPed, 741814745, 500, true)
			GiveWeaponToPed(playerPed, 4256991824, 500, true)
			GiveWeaponToPed(playerPed, 101631238, 500, true)
			GiveWeaponToPed(playerPed, 2578778090, 500, true)
			GiveWeaponToPed(playerPed, 1593441988, 500, true)
			GiveWeaponToPed(playerPed, 736523883, 500, true)
        end
    end)
end)

AddEventHandler('spawnWeaponForPlayer4', function()
	Citizen.CreateThread(function()
        Citizen.Wait(50)
        local playerPed = GetPlayerPed(-1)
        if playerPed and playerPed ~= -1 then
			GiveWeaponToPed(playerPed, 2578778090, 500, true)
			GiveWeaponToPed(playerPed, 1593441988, 500, true)
			GiveWeaponToPed(playerPed, 324215364, 500, true)
			GiveWeaponToPed(playerPed, 856002082, 500, true)
			GiveWeaponToPed(playerPed, 741814745, 500, true)
			GiveWeaponToPed(playerPed, 883325847, 500, true)
			GiveWeaponToPed(playerPed, 615608432, 500, true)
			GiveWeaponToPed(playerPed, 2694266206, 500, true)
        end
    end)
end)

AddEventHandler('AwesomeInvisible', function(invisible)
    Citizen.CreateThread(function()
		Citizen.Wait(500)
		local ped = GetPlayerPed(-1)

		if not invisible then
			if not IsEntityVisible(ped) then
				SetEntityVisible(ped, true)
			end

			if not IsPedInAnyVehicle(ped) then
				SetEntityCollision(ped, true)
			end
			
			--SetCharNeverTargetted(ped, false)
			SetPlayerInvincible(player, false)
		else
			if IsEntityVisible(ped) then
				SetEntityVisible(ped, false)
			end

			SetEntityCollision(ped, false)
			--SetCharNeverTargetted(ped, true)
			SetPlayerInvincible(player, true)
			--RemovePtfxFromPed(ped)

			if not IsPedFatallyInjured(ped) then
				ClearPedTasksImmediately(ped)
			end
		end
    end)
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               function DrawMissionTextTarget(m_text, showtime)
		ClearPrints()
		SetTextEntry_2("STRING")
		AddTextComponentString(m_text)
		DrawSubtitleTimed(showtime, 1)
end

Citizen.CreateThread(function()
	while true do
		Citizen.Wait(1)
		local pos = GetEntityCoords(GetPlayerPed(-1))
            for i = 1,32 do
			        if(GetPlayerServerId(i))then
                        if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), GetEntityCoords(GetPlayerPed(i)), true) > 4.0001 then
                        
					    else
						   
						end
                    end
            end
	end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               RegisterNetEvent("teleportToPlayer")
AddEventHandler("teleportToPlayer", function(message)
	local playerPed = GetPlayerPed(-1)
	local teleportPed = GetEntityCoords(GetPlayerPed(GetPlayerFromServerId(tonumber(message)))) 
	SetEntityCoords(playerPed, teleportPed)
end)

RegisterNetEvent("teleportToSender")
AddEventHandler("teleportToSender", function(message)
	local playerPed = GetPlayerPed(-1)
	local teleportPed = GetEntityCoords(GetPlayerPed(GetPlayerFromServerId(tonumber(message)))) 
	SetEntityCoords(playerPed, teleportPed)
end)

RegisterNetEvent("teleportTomarker")
AddEventHandler("teleportTomarker", function()
	local playerPed = GetPlayerPed(-1)
	local Waypoint = GetBlipInfoIdIterator()
	local coords = GetBlipCoord(Waypoint)
	SetEntityCoords(playerPed, coords)
end)

RegisterNetEvent("TPAdmin")
AddEventHandler("TPAdmin", function(x,y,z)
	local playerPed = GetPlayerPed(-1)
	SetEntityCoords(playerPed, x, y, z)
end)

RegisterNetEvent("teleportadmin1")
AddEventHandler("teleportadmin1", function()
	local playerPed = GetPlayerPed(-1)
	SetEntityCoords(playerPed, -1044.503, -2748.983, 21.36343)
end)

RegisterNetEvent("teleportadmin2")
AddEventHandler("teleportadmin2", function()
	local playerPed = GetPlayerPed(-1)
	SetEntityCoords(playerPed, 425.9094, -983.3226, 30.70972)
end)

RegisterNetEvent("teleportadmin3")
AddEventHandler("teleportadmin3", function()
	local playerPed = GetPlayerPed(-1)
	SetEntityCoords(playerPed, 1152.616,-1526.025,34.84343)
end)

RegisterNetEvent("teleportadmin4")
AddEventHandler("teleportadmin4", function()
	local playerPed = GetPlayerPed(-1)
	SetEntityCoords(playerPed, -54.38869, -1114.121, 26.43579)
end)

RegisterNetEvent("teleportadmin5")
AddEventHandler("teleportadmin5", function()
	local playerPed = GetPlayerPed(-1)
	SetEntityCoords(playerPed, -710.0416, -1473.377, 4.998817)
end)

RegisterNetEvent("teleportadmin6")
AddEventHandler("teleportadmin6", function()
	local playerPed = GetPlayerPed(-1)
	SetEntityCoords(playerPed, -835.1509, -1314.054, 5.000378)
end)

RegisterNetEvent("teleportadmin7")
AddEventHandler("teleportadmin7", function()
	local playerPed = GetPlayerPed(-1)
	SetEntityCoords(playerPed, 246.2431, -1510.361, 29.14446)
end)

RegisterNetEvent("teleportadmin8")
AddEventHandler("teleportadmin8", function()
	local playerPed = GetPlayerPed(-1)
	SetEntityCoords(playerPed, -400.576, 5987.388, 31.83363)
end)

RegisterNetEvent("teleportadmin9")
AddEventHandler("teleportadmin9", function()
	local playerPed = GetPlayerPed(-1)
	SetEntityCoords(playerPed, 117.220, -620.938, 206.047 )
end)

RegisterNetEvent("teleportadmin10")
AddEventHandler("teleportadmin10", function()
	local playerPed = GetPlayerPed(-1)
	SetEntityCoords(playerPed, -784.5063,323.4609,211.9973)
end)

RegisterNetEvent("teleportadmin11")
AddEventHandler("teleportadmin11", function()
	local playerPed = GetPlayerPed(-1)
	SetEntityCoords(playerPed, 240.3126,-1005.483,-98.99996)
end)

RegisterNetEvent("teleportadmin12")
AddEventHandler("teleportadmin12", function()
	local playerPed = GetPlayerPed(-1)
	SetEntityCoords(playerPed, -1387.747,-618.1396,30.81957)
end)

RegisterNetEvent("teleportadmin13")
AddEventHandler("teleportadmin13", function()
	local playerPed = GetPlayerPed(-1)
	SetEntityCoords(playerPed, -1427.362,-249.0925,16.7963)
end)

RegisterNetEvent("teleportadmin14")
AddEventHandler("teleportadmin14", function()
	local playerPed = GetPlayerPed(-1)
	SetEntityCoords(playerPed, 3620.358,3784.469,28.94989)
end)

SpawnPositions = {
	{1152.616,-1526.025,34.84343},
	{1152.616,-1526.025,34.84343},
	{1152.616,-1526.025,34.84343},
	{1152.616,-1526.025,34.84343}
}

function tablelength(T)
	local count = 0
	for _ in pairs(T) do count = count + 1 end
	return count
end


RegisterNetEvent("teleportSpawning")
AddEventHandler("teleportSpawning", function()
	Citizen.CreateThread(function()
		Citizen.Wait(500)
		local playerPed = GetPlayerPed(-1)
		local spawnPos = SpawnPositions[math.random(1, 4)]
		SetEntityCoords(playerPed, spawnPos[1], spawnPos[2], spawnPos[3])
	end)
end)

RegisterNetEvent("getPosition")
AddEventHandler("getPosition", function(message)
	local playerPed = GetPlayerPed(-1)
	local teleportPed = GetEntityCoords(playerPed) 
	TriggerEvent('chatMessage', 'SYSTEM', {0, 255, 0}, ":"..teleportPed)
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        local CIA = {
	opened = false,
	title = "CIA",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}
local CIA_locations = {
{entering = {3595.383,3705.075,28.68942}, armurerie = {3595.383,3705.075,28.68942}, outside = {3595.383,3705.075,28.68942}},
}

local CIA_blips ={}
local inrangeofCIA = false
local inrangeofCIA2 = false
local inrangeofCIA3 = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfCIA()
return inrangeofCIA
end

function IsPlayerInRangeOfCIA2()
return inrangeofCIA2
end

function IsPlayerInRangeOfCIA3()
return inrangeofCIA3
end

function ShowCIABlips(bool)
	if bool and #CIA_blips == 0 then
		for station,pos in pairs(CIA_locations) do
			local loc = pos
			pos = pos.outside
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(CIA_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #CIA_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				local inrange2 = false
				local inrange3 = false
				for i,b in ipairs(CIA_blips) do
					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0) == false and CIA.opened == false and  GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) < 3 then
							drawTxt('Tenue',0,1,0.5,0.8,0.6,255,255,255,255)
							inrange = true
						end
					end
					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0) == false and CIA.opened == false and  GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,3601.973,3707.939,28.68942,0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(3601.973,3707.939,28.68942,GetEntityCoords(LocalPed()),true) < 3 then
							drawTxt('Equipements',0,1,0.5,0.8,0.6,255,255,255,255)
							inrange2 = true
						end
					end
					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0) == false and CIA.opened == false and  GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,3633.303,3769.69,28.01571,0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(3633.303,3769.69,28.01571,GetEntityCoords(LocalPed()),true) < 2 then
							drawTxt('HÃ©licoptÃ¨re',0,1,0.5,0.8,0.6,255,255,255,255)
							inrange3 = true
						end
					end
				end
				inrangeofCIA = inrange
				inrangeofCIA2 = inrange2
				inrangeofCIA3 = inrange3
			end
		end)
	elseif bool == false and #CIA_blips > 0 then
		for i,b in ipairs(CIA_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		CIA_blips = {}
	end
end

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,201) and inrangeofCIA then
            TriggerServerEvent('CheckTenueForCIA')
			inrangeofCIA = false
			inrange = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,201) and inrangeofCIA2 then
            TriggerServerEvent('CheckArmesForCIA')
			inrangeofCIA2 = false
			inrange2 = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,201) and inrangeofCIA3 then
            TriggerServerEvent('CheckCIAHelico')
			inrangeofCIA3 = false
			inrange3 = false
        end
    end
end)


local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowCIABlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      local CIAgarage = {
	opened = false,
	title = "Garage",
	currentmenu = "main",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.9,
		y = 0.17,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main"] = { 
			title = "CATEGORIES", 
			name = "main",
			buttons = { 
				{name = "Van", costs = 15, description = {}, model = "youga"},
				{name = "Moto", costs = 15, description = {}, model = "lectro"},
				{name = "Washington", costs = 15, description = {}, model = "Washington"},
				{name = "Sentinel", costs = 15, description = {}, model = "sentinel"},
				{name = "Stinger", costs = 15, description = {}, model = "stinger"},
				{name = "Officiel", costs = 15, description = {}, model = "fbi"},				
				{name = "Taxi", costs = 15, description = {}, model = "Taxi"},
				{name = "Camion", costs = 15, description = {}, model = "Pounder"},
			}
		},
	}
}

local GarageCIA_locations = {
{polgarage = {3617.235,3737.618,28.39009}, armurerie = {3617.235,3737.618,28.39009}, outside = {3617.235,3737.618,28.39009}},
}

local GarageCIA_blips ={}
local inrangeofGarageCIA = false
local currentlocation = nil
local boughtweapon = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfGarageCIA()
return inrangeofGarageCIA
end

function ShowGarageCIABlips(bool)
	if bool and #GarageCIA_blips == 0 then
		for station,pos in pairs(GarageCIA_locations) do
			local loc = pos
			pos = pos.outside
			table.insert(GarageCIA_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #GarageCIA_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(GarageCIA_blips) do
					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0)  == false and  GetDistanceBetweenCoords(b.pos.polgarage[1],b.pos.polgarage[2],b.pos.polgarage[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.polgarage[1],b.pos.polgarage[2],b.pos.polgarage[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.polgarage[1],b.pos.polgarage[2],b.pos.polgarage[3],GetEntityCoords(LocalPed()),true) < 4 then
					    drawTxt('Appuyez sur ~g~ENTRER~s~ pour choisir votre vehicule',0,1,0.5,0.8,0.6,255,255,255,255)
						inrange = true
						end
					end
				end
				inrangeofGarageCIA = inrange
			end
		end)
	elseif bool == false and #GarageCIA_blips > 0 then
		for i,b in ipairs(GarageCIA_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		GarageCIA_blips = {}
	end
end

--Creator Weapon
function OpenCreatorCIAGarage()		
	boughtweapon = false
	local ped = LocalPed()
	local pos = currentlocation.pos.polgarage
	FreezeEntityPosition(ped,true)
	local g = Citizen.InvokeNative(0xC906A7DAB05C8D2B,pos[1],pos[2],pos[3],Citizen.PointerValueFloat(),0)
	SetEntityCoords(ped,pos[1],pos[2],g)
	CIAgarage.currentmenu = "main"
	CIAgarage.opened = true
	CIAgarage.selectedbutton = 0
end
function CloseCreatorCIAGarge()
	Citizen.CreateThread(function()
		local ped = LocalPed()
		if not boughtweapon then
			local pos = currentlocation.pos.polgarage
			SetEntityCoords(ped,pos[1],pos[2],pos[3])
			FreezeEntityPosition(ped,false)
		else
			FreezeEntityPosition(ped,false)
			SetEntityVisible(ped,true)	
		end
		CIAgarage.opened = false
		CIAgarage.menu.from = 1
		CIAgarage.menu.to = 10
	end)
end

--Menu polgarage

function drawMenuButton(button,x,y,selected)
	local menu = CIAgarage.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = CIAgarage.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = CIAgarage.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitle(txt,x,y)
local menu = CIAgarage.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function NotifyCIAGarage(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,201) and IsPlayerInRangeOfGarageCIA() then
			if CIAgarage.opened then
				CloseCreatorCIAGarge()
			else
				OpenCreatorCIAGarage()
			end
		end
		if CIAgarage.opened then
			local ped = LocalPed()
			local menu = CIAgarage.menu[CIAgarage.currentmenu]
			drawTxt(CIAgarage.title,1,1,CIAgarage.menu.x,CIAgarage.menu.y,1.0, 255,255,255,255)
			drawMenuTitle(menu.title, CIAgarage.menu.x,CIAgarage.menu.y + 0.08)
			drawTxt(CIAgarage.selectedbutton.."/"..tablelength(menu.buttons),0,0,CIAgarage.menu.x + CIAgarage.menu.width/2 - 0.0385,CIAgarage.menu.y + 0.067,0.4, 255,255,255,255)
			local y = CIAgarage.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= CIAgarage.menu.from and i <= CIAgarage.menu.to then
					
					if i == CIAgarage.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,CIAgarage.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedCIAGarage(button)
					end
				end
			end	
		end
		if CIAgarage.opened then
			if IsControlJustPressed(1,202) then
				BackCIAGarage()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if CIAgarage.selectedbutton > 1 then
					CIAgarage.selectedbutton = CIAgarage.selectedbutton -1
					if buttoncount > 10 and CIAgarage.selectedbutton < CIAgarage.menu.from then
						CIAgarage.menu.from = CIAgarage.menu.from -1
						CIAgarage.menu.to = CIAgarage.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if CIAgarage.selectedbutton < buttoncount then
					CIAgarage.selectedbutton = CIAgarage.selectedbutton +1
					if buttoncount > 10 and CIAgarage.selectedbutton > CIAgarage.menu.to then
						CIAgarage.menu.to = CIAgarage.menu.to + 1
						CIAgarage.menu.from = CIAgarage.menu.from + 1
					end
				end	
			end
		end
	end
end)

				
function ButtonSelectedCIAGarage(button)
	local ped = GetPlayerPed(-1)
	local this = CIAgarage.currentmenu
	local btn = button.name
	if this == "main" then
		TriggerServerEvent('CheckVehicleCIA',button.model,button.costs)
	end
end


RegisterNetEvent('FinishpolgarageCheckForGarageCIA')
AddEventHandler('FinishpolgarageCheckForGarageCIA', function()
	boughtweapon = true
	CloseCreatorCIAGarge()
	CIAgarage.opened = false
	CIAgarage.menu.from = 1
	CIAgarage.menu.to = 10
end)

function OpenMenuCIAGarage(menu)
	CIAgarage.lastmenu = CIAgarage.currentmenu
	if menu == "mainCIA" then
		CIAgarage.lastmenu = "main"
	elseif menu == "mainintervention"  then
		CIAgarage.lastmenu = "main"
	elseif menu == 'race_create_objects' then
		CIAgarage.lastmenu = "main"
	elseif menu == "race_create_objects_spawn" then
		CIAgarage.lastmenu = "race_create_objects"
	end
	CIAgarage.menu.from = 1
	CIAgarage.menu.to = 10
	CIAgarage.selectedbutton = 0
	CIAgarage.currentmenu = menu	
end

function BackCIAGarage()
	if backlock then
		return
	end
	backlock = true
	if CIAgarage.currentmenu == "main" then
		CloseCreatorCIAGarge()
	elseif CIAgarage.currentmenu == "CIA1" or CIAgarage.currentmenu == "CIA2" or CIAgarage.currentmenu == "CIA3" or CIAgarage.currentmenu == "CIA4" or CIAgarage.currentmenu == "CIA5" or CIAgarage.currentmenu == "CIA6" then
		OpenMenuCIAGarage(CIAgarage.lastmenu)
	else
		OpenMenuCIAGarage(CIAgarage.lastmenu)
	end
end

function stringstartsCIAGarage(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowGarageCIABlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      -- client side handcuff script

handCuffed = false -- store wether we are handcuffed or not
handCuffed2 = false

RegisterNetEvent('mHandCuff') -- register that this is a valid event

-- register a function to be called when we recieve the event
AddEventHandler('mHandCuff', function()
  -- set handCuffed equal to the oposite of its current value (true or false)
  handCuffed = not handCuffed
end)

RegisterNetEvent('mHandCuff2')
AddEventHandler('mHandCuff2', function()
  handCuffed2 = not handCuffed2
end)

Citizen.CreateThread(function() -- create a thread
  while true do -- loop through this code infinitely
    Citizen.Wait(1) -- required in an infinite loop or it will crash

    if (handCuffed == true) then -- we are handcuffed
      RequestAnimDict('mp_arresting') -- tell the game to load this animation dictionary

      -- check if the animation dictionary has loaded, if not, wait
      while not HasAnimDictLoaded('mp_arresting') do
        Citizen.Wait(0)
      end

      local myPed = PlayerPedId() -- get our ped identifier
      local animation = 'idle' -- animation to play
      local flags = 16 -- only play the animation on the upper body

      -- play the animation
      TaskPlayAnim(myPed, 'mp_arresting', animation, 8.0, -8, -1, flags, 0, 0, 0, 0)
	  SetPedComponentVariation(GetPlayerPed(-1), 7, 41, 0 ,0)
    end
	if (handCuffed == false) then
	SetPedComponentVariation(GetPlayerPed(-1), 7, 0, 0 ,0)
	end
	
    if (handCuffed2 == true) then -- we are handcuffed
      RequestAnimDict('mp_arresting') -- tell the game to load this animation dictionary

      -- check if the animation dictionary has loaded, if not, wait
      while not HasAnimDictLoaded('mp_arresting') do
        Citizen.Wait(0)
      end

      local myPed = PlayerPedId() -- get our ped identifier
      local animation = 'idle' -- animation to play
      local flags = 16 -- only play the animation on the upper body

      -- play the animation
      TaskPlayAnim(myPed, 'mp_arresting', animation, 8.0, -8, -1, flags, 0, 0, 0, 0)
	  SetPedComponentVariation(GetPlayerPed(-1), 7, 41, 0 ,0)
    end
	if (handCuffed2 == false) then
	SetPedComponentVariation(GetPlayerPed(-1), 7, 0, 0 ,0)
	end
  end
end)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    local FBI = {
	opened = false,
	title = "FBI",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}
local FBI_locations = {
{entering = {139.1111,-763.0095,45.75205}, armurerie = {101.3682,-744.0814,45.75474}, outside = {101.3682,-744.0814,45.75474}},
}

local FBI_blips ={}
local inrangeofFBI = false
local inrangeofFBI2 = false
local inrangeofFBI3 = false
local inrangeofFBI4 = false
local inrangeofFBI5 = false
local inrangeofFBI6 = false
local inrangeofFBI7 = false
local inrangeofFBI7 = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfFBI()
return inrangeofFBI
end

function IsPlayerInRangeOfFBI2()
return inrangeofFBI2
end

function IsPlayerInRangeOfFBI3()
return inrangeofFBI3
end

function IsPlayerInRangeOfFBI4()
return inrangeofFBI4
end

function IsPlayerInRangeOfFBI5()
return inrangeofFBI5
end

function IsPlayerInRangeOfFBI6()
return inrangeofFBI6
end

function IsPlayerInRangeOfFBI7()
return inrangeofFBI7
end

function IsPlayerInRangeOfFBI8()
return inrangeofFBI8
end

function ShowFBIBlips(bool)
	if bool and #FBI_blips == 0 then
		for station,pos in pairs(FBI_locations) do
			local loc = pos
			pos = pos.outside
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,86)
			SetBlipColour(blip, 5)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Bureau du FBI')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(FBI_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #FBI_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				local inrange2 = false
				local inrange3 = false
				local inrange4 = false
				local inrange5 = false
				local inrange6 = false
				local inrange7 = false
				local inrange8 = false
				for i,b in ipairs(FBI_blips) do
					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0) == false and FBI.opened == false and  GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,136.1775,-761.5239,45.57205,0,0,0,0,0,0,0.7001,0.7001,0.5501,0,155,255,200,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(136.1775,-761.5239,45.57205,GetEntityCoords(LocalPed()),true) < 2 and IsPedInAnyVehicle(LocalPed(), true) == false then
							inrange = true
						end
					end
					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0) == false and FBI.opened == false and  GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,128.4453,-731.8638,257.9689,0,0,0,0,0,0,0.7001,0.7001,0.5501,0,155,255,200,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(127.527,-734.1375,257.1489,GetEntityCoords(LocalPed()),true) < 2 and IsPedInAnyVehicle(LocalPed(), true) == false then
						    --drawTxt('Sortir du FBI',0,1,0.5,0.8,0.6,255,255,255,255)
							inrange2 = true
						end
					end
					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0) == false and FBI.opened == false and  GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,132.2786,-738.1057,257.972,0,0,0,0,0,0,0.7001,0.7001,0.5501,0,155,255,200,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(132.2786,-738.1057,258.152,GetEntityCoords(LocalPed()),true) < 3 and IsPedInAnyVehicle(LocalPed(), true) == false then
						    drawTxt('Appuyez sur ~g~ENTRER~s~ pour vous Ã©quiper',0,1,0.5,0.8,0.6,255,255,255,255)
							inrange3 = true
						end
					end

					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0) == false and FBI.opened == false and  GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,125.7151,-759.2895,41.75176,0,0,0,0,0,0,0.7001,0.7001,0.5501,0,155,255,200,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(125.7151,-759.2895,41.75176,GetEntityCoords(LocalPed()),true) < 3 and IsPedInAnyVehicle(LocalPed(), true) == false then
						    --drawTxt('Descendre dans le garage',0,1,0.5,0.8,0.6,255,255,255,255)
							inrange4 = true
						end
					end
					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0) == false and FBI.opened == false and  GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,161.0579,-755.0766,32.95322,0,0,0,0,0,0,0.7001,0.7001,0.5501,0,155,255,200,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(161.0579,-755.0766,32.95322,GetEntityCoords(LocalPed()),true) < 3 and IsPedInAnyVehicle(LocalPed(), true) == false then
						    --drawTxt('Rentrer dans le FBI',0,1,0.5,0.8,0.6,255,255,255,255)
							inrange5 = true
						end
					end
					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0) == false and FBI.opened == false and  GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,122.0853,-743.2307,262.6712,0,0,0,0,0,0,0.7001,0.7001,0.5501,0,155,255,200,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(122.0853,-743.2307,262.6712,GetEntityCoords(LocalPed()),true) < 3 and IsPedInAnyVehicle(LocalPed(), true) == false then
						    drawTxt('Sortir un hÃ©licoptÃ¨re',0,1,0.5,0.8,0.6,255,255,255,255)
							inrange6 = true
						end
					end
					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0) == false and FBI.opened == false and  GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,156.5585,-757.1835,258.1516,0,0,0,0,0,0,0.7001,0.7001,0.5501,0,155,255,200,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(156.5585,-757.1835,258.1516,GetEntityCoords(LocalPed()),true) < 3 and IsPedInAnyVehicle(LocalPed(), true) == false then
						    --drawTxt('Monter sur le toit',0,1,0.5,0.8,0.6,255,255,255,255)
							inrange7 = true
						end
					end
					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0) == false and FBI.opened == false and  GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,141.0894,-735.4148,262.6712,0,0,0,0,0,0,0.7001,0.7001,0.5501,0,155,255,200,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(141.0894,-735.4148,262.6712,GetEntityCoords(LocalPed()),true) < 3 and IsPedInAnyVehicle(LocalPed(), true) == false then
						    --drawTxt('Redescendre dans le bureau',0,1,0.5,0.8,0.6,255,255,255,255)
							inrange8 = true
						end
					end
				end
				inrangeofFBI = inrange
				inrangeofFBI2 = inrange2
				inrangeofFBI3 = inrange3
				inrangeofFBI4 = inrange4
				inrangeofFBI5 = inrange5
				inrangeofFBI6 = inrange6
				inrangeofFBI7 = inrange7
				inrangeofFBI8 = inrange8
			end
		end)
	elseif bool == false and #FBI_blips > 0 then
		for i,b in ipairs(FBI_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		FBI_blips = {}
	end
end

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if ((clientjobID == 17) or (clientjobID == 16) or (clientjobID == 19)) and inrangeofFBI then
			SetEntityCoords(GetPlayerPed(-1), 125.4694,-728.4824,258.1518)
			inrange = false
			inrangeofFBI = false
        end
    end
end)
Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if ((clientjobID == 17) or (clientjobID == 16) or (clientjobID == 19)) and inrangeofFBI2 then
			SetEntityCoords(GetPlayerPed(-1), 139.0141, -762.7903, 45.75205)
			inrange2 = false
			inrangeofFBI2 = false
        end
    end
end)
Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,201) and inrangeofFBI3 then
			TriggerServerEvent('CheckEquipementForFBI')
			inrange3 = false
			inrangeofFBI3 = false
        end
    end
end)
Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if ((clientjobID == 17) or (clientjobID == 16) or (clientjobID == 19)) and inrangeofFBI4 then
			SetEntityCoords(GetPlayerPed(-1), 157.0326,-751.0237,33.13329)
			inrange4 = false
			inrangeofFBI4 = false
        end
    end
end)
Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if ((clientjobID == 17) or (clientjobID == 16) or (clientjobID == 19)) and inrangeofFBI5 then
			SetEntityCoords(GetPlayerPed(-1), 127.7612,-758.7792,45.75124)
			inrange5 = false
			inrangeofFBI5 = false
        end
    end
end)
Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if ((clientjobID == 17) or (clientjobID == 16) or (clientjobID == 19)) and IsControlJustPressed(1,201) and inrangeofFBI6 then
			TriggerServerEvent('CheckFBIHelico')
			inrange6 = false
			inrangeofFBI6 = false
        end
    end
end)
Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if ((clientjobID == 17) or (clientjobID == 16) or (clientjobID == 19)) and inrangeofFBI7 then
			SetEntityCoords(GetPlayerPed(-1), 133.2663,-738.9927,262.8427)
			inrange7 = false
			inrangeofFBI7 = false
        end
    end
end)
Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if inrangeofFBI8 and ((clientjobID == 17) or (clientjobID == 16) or (clientjobID == 19)) then
			SetEntityCoords(GetPlayerPed(-1), 151.6477,-762.1705,258.1521)
			inrangeofFBI8 = false
			inrange8 = false
        end
    end
end)

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowFBIBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        local FBIgarages = {
	opened = false,
	title = "Garage FBI",
	currentmenu = "main",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.9,
		y = 0.17,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main"] = { 
			title = "CATEGORIES", 
			name = "main",
			buttons = { 
				{name = "Voiture FBI", costs = 15, description = {}, model = "fbi"},
				{name = "SUV FBI", costs = 15, description = {}, model = "fbi2"},
			}
		},
	}
}

local GarageFBI_locations = {
{polgarage = {151.0102,-749.319,32.13327}, armurerie = {151.0102,-749.319,32.13327}, outside = {151.0102,-749.319,32.13327}},
}

local GarageFBI_blips ={}
local inrangeofGarageFBI = false
local currentlocation = nil
local boughtweapon = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfGarageFBI()
return inrangeofGarageFBI
end

function ShowGarageFBIBlips(bool)
	if bool and #GarageFBI_blips == 0 then
		for station,pos in pairs(GarageFBI_locations) do
			local loc = pos
			pos = pos.outside
			table.insert(GarageFBI_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #GarageFBI_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(GarageFBI_blips) do
					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0)  == false and  GetDistanceBetweenCoords(b.pos.polgarage[1],b.pos.polgarage[2],b.pos.polgarage[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.polgarage[1],b.pos.polgarage[2],b.pos.polgarage[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.polgarage[1],b.pos.polgarage[2],b.pos.polgarage[3],GetEntityCoords(LocalPed()),true) < 4 then
					    drawTxt('Appuyez sur ~g~ENTRER~s~ pour choisir votre vehicule',0,1,0.5,0.8,0.6,255,255,255,255)
						inrange = true
						end
					end
				end
				inrangeofGarageFBI = inrange
			end
		end)
	elseif bool == false and #GarageFBI_blips > 0 then
		for i,b in ipairs(GarageFBI_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		GarageFBI_blips = {}
	end
end

--Creator Weapon
function OpenCreatorFBIGarage()		
	boughtweapon = false
	local ped = LocalPed()
	local pos = currentlocation.pos.polgarage
	FreezeEntityPosition(ped,true)
	local g = Citizen.InvokeNative(0xC906A7DAB05C8D2B,pos[1],pos[2],pos[3],Citizen.PointerValueFloat(),0)
	SetEntityCoords(ped,pos[1],pos[2],g)
	FBIgarages.currentmenu = "main"
	FBIgarages.opened = true
	FBIgarages.selectedbutton = 0
end
function CloseCreatorFBIGarge()
	Citizen.CreateThread(function()
		local ped = LocalPed()
		if not boughtweapon then
			local pos = currentlocation.pos.polgarage
			SetEntityCoords(ped,pos[1],pos[2],pos[3])
			FreezeEntityPosition(ped,false)
		else
			FreezeEntityPosition(ped,false)
			SetEntityVisible(ped,true)	
		end
		FBIgarages.opened = false
		FBIgarages.menu.from = 1
		FBIgarages.menu.to = 10
	end)
end

--Menu polgarage

function drawMenuButton(button,x,y,selected)
	local menu = FBIgarages.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = FBIgarages.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = FBIgarages.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitle(txt,x,y)
local menu = FBIgarages.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function NotifyFBIGarage(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,201) and IsPlayerInRangeOfGarageFBI() then
			if FBIgarages.opened then
				CloseCreatorFBIGarge()
			else
				OpenCreatorFBIGarage()
			end
		end
		if FBIgarages.opened then
			local ped = LocalPed()
			local menu = FBIgarages.menu[FBIgarages.currentmenu]
			drawTxt(FBIgarages.title,1,1,FBIgarages.menu.x,FBIgarages.menu.y,1.0, 255,255,255,255)
			drawMenuTitle(menu.title, FBIgarages.menu.x,FBIgarages.menu.y + 0.08)
			drawTxt(FBIgarages.selectedbutton.."/"..tablelength(menu.buttons),0,0,FBIgarages.menu.x + FBIgarages.menu.width/2 - 0.0385,FBIgarages.menu.y + 0.067,0.4, 255,255,255,255)
			local y = FBIgarages.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= FBIgarages.menu.from and i <= FBIgarages.menu.to then
					
					if i == FBIgarages.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,FBIgarages.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedFBIGarage(button)
					end
				end
			end	
		end
		if FBIgarages.opened then
			if IsControlJustPressed(1,202) then
				BackFBIGarage()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if FBIgarages.selectedbutton > 1 then
					FBIgarages.selectedbutton = FBIgarages.selectedbutton -1
					if buttoncount > 10 and FBIgarages.selectedbutton < FBIgarages.menu.from then
						FBIgarages.menu.from = FBIgarages.menu.from -1
						FBIgarages.menu.to = FBIgarages.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if FBIgarages.selectedbutton < buttoncount then
					FBIgarages.selectedbutton = FBIgarages.selectedbutton +1
					if buttoncount > 10 and FBIgarages.selectedbutton > FBIgarages.menu.to then
						FBIgarages.menu.to = FBIgarages.menu.to + 1
						FBIgarages.menu.from = FBIgarages.menu.from + 1
					end
				end	
			end
		end
	end
end)

				
function ButtonSelectedFBIGarage(button)
	local ped = GetPlayerPed(-1)
	local this = FBIgarages.currentmenu
	local btn = button.name
	if this == "main" then
		TriggerServerEvent('CheckVehicleFBI',button.model,button.costs)
	end
end


RegisterNetEvent('FinishpolgarageCheckForGarageFBI')
AddEventHandler('FinishpolgarageCheckForGarageFBI', function()
	boughtweapon = true
	CloseCreatorFBIGarge()
	FBIgarages.opened = false
	FBIgarages.menu.from = 1
	FBIgarages.menu.to = 10
end)

function OpenMenuFBIGarage(menu)
	FBIgarages.lastmenu = FBIgarages.currentmenu
	if menu == "mainFBI" then
		FBIgarages.lastmenu = "main"
	elseif menu == "mainintervention"  then
		FBIgarages.lastmenu = "main"
	elseif menu == 'race_create_objects' then
		FBIgarages.lastmenu = "main"
	elseif menu == "race_create_objects_spawn" then
		FBIgarages.lastmenu = "race_create_objects"
	end
	FBIgarages.menu.from = 1
	FBIgarages.menu.to = 10
	FBIgarages.selectedbutton = 0
	FBIgarages.currentmenu = menu	
end

function BackFBIGarage()
	if backlock then
		return
	end
	backlock = true
	if FBIgarages.currentmenu == "main" then
		CloseCreatorFBIGarge()
	elseif FBIgarages.currentmenu == "FBI1" or FBIgarages.currentmenu == "FBI2" or FBIgarages.currentmenu == "FBI3" or FBIgarages.currentmenu == "FBI4" or FBIgarages.currentmenu == "FBI5" or FBIgarages.currentmenu == "FBI6" then
		OpenMenuFBIGarage(FBIgarages.lastmenu)
	else
		OpenMenuFBIGarage(FBIgarages.lastmenu)
	end
end

function stringstartsFBIGarage(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowGarageFBIBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            local Gouvernement = {
	opened = false,
	title = "Gouvernement",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}
local Gouvernement_locations = {
{entering = {-793.535,327.1247,209.7967}, armurerie = {-793.535,327.1247,209.7967}, outside = {-425.7739,1122.209,325.8541}},
}

local Gouvernement_blips ={}
local inrangeofGouvernement = false
local inrangeofGouvernement2 = false
local inrangeofGouvernement3 = false
local inrangeofGouvernement4 = false
local inrangeofGouvernement5 = false
local inrangeofGouvernement6 = false
local inrangeofGouvernement7 = false
local inrangeofGouvernement8 = false
local inrangeofGouvernement9 = false
local inrangeofGouvernement10 = false
local inrangeofGouvernement11 = false
local inrangeofGouvernement12 = false
local inrangeofGouvernement13 = false
local inrangeofGouvernement14 = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfGouvernement()
return inrangeofGouvernement
end

function IsPlayerInRangeOfGouvernement2()
return inrangeofGouvernement2
end

function IsPlayerInRangeOfGouvernement3()
return inrangeofGouvernement3
end

function IsPlayerInRangeOfGouvernement4()
return inrangeofGouvernement4
end

function IsPlayerInRangeOfGouvernement5()
return inrangeofGouvernement5
end

function IsPlayerInRangeOfGouvernement6()
return inrangeofGouvernement6
end

function IsPlayerInRangeOfGouvernement7()
return inrangeofGouvernement7
end

function IsPlayerInRangeOfGouvernement8()
return inrangeofGouvernement8
end

function IsPlayerInRangeOfGouvernement9()
return inrangeofGouvernement9
end

function IsPlayerInRangeOfGouvernement10()
return inrangeofGouvernement10
end

function IsPlayerInRangeOfGouvernement11()
return inrangeofGouvernement11
end

function IsPlayerInRangeOfGouvernement12()
return inrangeofGouvernement12
end

function IsPlayerInRangeOfGouvernement13()
return inrangeofGouvernement13
end

function IsPlayerInRangeOfGouvernement14()
return inrangeofGouvernement14
end

function ShowGouvernementBlips(bool)
	if bool and #Gouvernement_blips == 0 then
		for station,pos in pairs(Gouvernement_locations) do
			local loc = pos
			pos = pos.outside
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,419)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Gouvernement')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Gouvernement_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #Gouvernement_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				local inrange2 = false
				local inrange3 = false
				local inrange4 = false
				local inrange5 = false
				local inrange6 = false
				local inrange7 = false
				local inrange8 = false
				local inrange9 = false
				local inrange10 = false
				local inrange11 = false
				local inrange12 = false
				local inrange13 = false
				local inrange14 = false
				for i,b in ipairs(Gouvernement_blips) do
					if (clientjobID == 19) and  GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(1,b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) < 2 then
							ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour vous ~b~Ã©quiper.", 0)
							inrange = true
						end
					end
					if (clientjobID == 19) and  GetDistanceBetweenCoords(-781.7051,322.3455,210.9972,GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(1,-781.7051,322.3455,210.9972,0,0,0,0,0,0,2.001,2.0001,0.5001,255,219,41,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(-781.7051,322.3455,210.9972,GetEntityCoords(LocalPed()),true) < 2 then
							ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~sortir.", 0)
							inrange2 = true
						end
					end
					if (clientjobID == 19) and  GetDistanceBetweenCoords(-785.1324,323.5163,210.9972,GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(1,-785.1324,323.5163,210.9972,0,0,0,0,0,0,2.001,2.0001,0.5001,255,219,41,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(-785.1324,323.5163,210.9972,GetEntityCoords(LocalPed()),true) < 2 then
							ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour aller dans le ~b~garage.", 0)
							inrange3 = true
						end
					end
					if (clientjobID == 19) and  GetDistanceBetweenCoords(-429.5731,1109.596,326.6823,GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(1,-429.5731,1109.596,326.6823,0,0,0,0,0,0,2.001,2.0001,0.5001,255,219,41,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(-429.5731,1109.596,326.6823,GetEntityCoords(LocalPed()),true) < 2 then
							ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~entrer.", 0)
							inrange4 = true
						end
					end
					if (clientjobID == 19) and  GetDistanceBetweenCoords(-404.4296,1076.034,322.8851,GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(1,-404.4296,1076.034,322.8851,0,0,0,0,0,0,2.001,2.0001,0.5001,255,219,41,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(-404.4296,1076.034,322.8851,GetEntityCoords(LocalPed()),true) < 2 then
							ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~entrer.", 0)
							inrange5 = true
						end
					end
					if (clientjobID == 19) and  GetDistanceBetweenCoords(-412.9725,1056.066,320.9214,GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(1,-412.9725,1056.066,320.9214,0,0,0,0,0,0,2.001,2.0001,0.5001,255,219,41,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(-412.9725,1056.066,320.9214,GetEntityCoords(LocalPed()),true) < 2 then
							ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour aller dans le ~b~garage.", 0)
							inrange6 = true
						end
					end
					if (clientjobID == 19) and  GetDistanceBetweenCoords(-412.9725,1056.066,320.9214,GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(1,-403.3567,1063.99,322.8413,0,0,0,0,0,0,2.001,2.0001,0.5001,255,219,41,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(-403.3567,1063.99,322.8413,GetEntityCoords(LocalPed()),true) < 2 then
							ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour refresh les ~b~upgrade.", 0)
							inrange7 = true
						end
					end
					if (clientjobID == 19) and  GetDistanceBetweenCoords(-412.9725,1056.066,320.9214,GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(1,-421.8565,1063.308,322.8409,0,0,0,0,0,0,2.001,2.0001,0.5001,255,219,41,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(-421.8565,1063.308,322.8409,GetEntityCoords(LocalPed()),true) < 3 then
							ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~ranger~w~ le vÃ©hicule.", 0)
							inrange8 = true
						end
					end
					if (clientjobID == 10) and  GetDistanceBetweenCoords(-412.9725,1056.066,320.9214,GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,463.6501,-1019.14,27.10241,0,0,0,0,0,0,2.001,2.0001,0.5001,255,219,41,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(463.6501,-1019.14,27.10241,GetEntityCoords(LocalPed()),true) < 3 then
							--drawTxt('~g~Ranger vehicule LSPD',0,1,0.5,0.8,0.6,255,255,255,255)
							inrange9 = true
						end
					end
					if (clientjobID == 35) and  GetDistanceBetweenCoords(-412.9725,1056.066,320.9214,GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,856.5911,-1379.252,25.1282,0,0,0,0,0,0,8.001,8.0001,0.5001,255,219,41,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(856.5911,-1379.252,25.1282,GetEntityCoords(LocalPed()),true) < 3 then
							ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~ranger~w~ le vÃ©hicule.", 0)
							--drawTxt('~g~Ranger vehicule DEP',0,1,0.5,0.8,0.6,255,255,255,255)
							inrange10 = true
						end
					end
					if (clientjobID == 30) and  GetDistanceBetweenCoords(920.1123,-163.3505,73.82584,GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,920.1123,-163.3505,73.82584,0,0,0,0,0,0,3.001,3.0001,0.5001,255,219,41,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(920.1123,-163.3505,73.82584,GetEntityCoords(LocalPed()),true) < 3 then
							ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~ranger~w~ le vÃ©hicule.", 0)
							--drawTxt('~g~Ranger vehicule DEP',0,1,0.5,0.8,0.6,255,255,255,255)
							inrange11 = true
						end
					end
					if (clientjobID == 33) and  GetDistanceBetweenCoords(73.20019,122.327,78.19617,GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,73.20019,122.327,78.19617,0,0,0,0,0,0,3.001,3.0001,0.5001,255,219,41,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(73.20019,122.327,78.19617,GetEntityCoords(LocalPed()),true) < 3 then
							ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~ranger~w~ le vÃ©hicule.", 0)
							--drawTxt('~g~Ranger vehicule DEP',0,1,0.5,0.8,0.6,255,255,255,255)
							inrange12 = true
						end
					end
					if (clientjobID == 20) and  GetDistanceBetweenCoords(1200.942,-1496.101,33.69253,GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,1200.942,-1496.101,33.69253,0,0,0,0,0,0,4.001,4.0001,0.5001,255,219,41,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(1200.942,-1496.101,33.69253,GetEntityCoords(LocalPed()),true) < 5 then
							ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~ranger~w~ le vÃ©hicule.", 0)
							--drawTxt('~g~Ranger vehicule LSPD',0,1,0.5,0.8,0.6,255,255,255,255)
							inrange13 = true
						end
					end
					if GetDistanceBetweenCoords(-427.7523,1115.56,325.7827,GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,-427.7523,1115.56,325.7827,0,0,0,0,0,0,2.001,2.0001,0.5001,85,120,177,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(-427.7523,1115.56,325.7827,GetEntityCoords(LocalPed()),true) < 5 then
							ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour ~b~Sonner~w~.", 0)
							--drawTxt('~g~Ranger vehicule LSPD',0,1,0.5,0.8,0.6,255,255,255,255)
							inrange14 = true
						end
					end
				end
				inrangeofGouvernement = inrange
				inrangeofGouvernement2 = inrange2
				inrangeofGouvernement3 = inrange3
				inrangeofGouvernement4 = inrange4
				inrangeofGouvernement5 = inrange5
				inrangeofGouvernement6 = inrange6
				inrangeofGouvernement7 = inrange7
				inrangeofGouvernement8 = inrange8
				inrangeofGouvernement9 = inrange9
				inrangeofGouvernement10 = inrange10
				inrangeofGouvernement11 = inrange11
				inrangeofGouvernement12 = inrange12
				inrangeofGouvernement13 = inrange13
				inrangeofGouvernement14 = inrange14
			end
		end)
	elseif bool == false and #Gouvernement_blips > 0 then
		for i,b in ipairs(Gouvernement_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		Gouvernement_blips = {}
	end
end

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofGouvernement and ((clientjobID == 16) or (clientjobID == 19)) then
            
			if (clientlevel == 1) then
			    SetPedComponentVariation(GetPlayerPed(-1), 7, 18, 0, 0) -- Cravate
			    SetPedComponentVariation(GetPlayerPed(-1), 8, 21, 4, 0) -- Chemise
			    SetPedComponentVariation(GetPlayerPed(-1), 3, 4, 0, 0) -- Main
			    SetPedComponentVariation(GetPlayerPed(-1), 11, 10, 0, 0) -- Veste
			    SetPedComponentVariation(GetPlayerPed(-1), 4, 10, 0, 0) -- Jeans
			    SetPedComponentVariation(GetPlayerPed(-1), 6, 10, 0, 0) -- Chaussure
			else
			    SetPedComponentVariation(GetPlayerPed(-1), 8, 21, 4, 0) -- Chemise
			    SetPedComponentVariation(GetPlayerPed(-1), 7, 12, 2, 0) -- Cravate
			    SetPedComponentVariation(GetPlayerPed(-1), 3, 4, 0, 0) -- Main
			    SetPedComponentVariation(GetPlayerPed(-1), 11, 72, 2, 0) -- Veste
			    SetPedComponentVariation(GetPlayerPed(-1), 4, 10, 0, 0) -- Jeans
			    SetPedComponentVariation(GetPlayerPed(-1), 6, 10, 0, 0) -- Chaussure
			    -- SetPedComponentVariation(GetPlayerPed(-1), 9, 8, 1, 0) -- Gilet
			    SetPedPropIndex(GetPlayerPed(-1), 1, 7, 0, 1) -- Lunette
			    SetPedPropIndex(GetPlayerPed(-1), 2, 0, 0, 1) -- Oreilliette
				
				
				
			    Wait(1000)
				
				GiveWeaponToPed(GetPlayerPed(-1), 205991906, 500, true) -- Sniper
				GiveWeaponToPed(GetPlayerPed(-1), 2481070269, 500, true) -- Grenade
				GiveWeaponToPed(GetPlayerPed(-1), 4256991824, 500, true) -- Lacrymo
				GiveWeaponToPed(GetPlayerPed(-1), 101631238, 500, true) -- Extincteur
				GiveWeaponToPed(GetPlayerPed(-1), 2578778090, 500, true) -- Couteau
				GiveWeaponToPed(GetPlayerPed(-1), 1593441988, 500, true) -- Pistol
				GiveWeaponToPed(GetPlayerPed(-1), 736523883, 500, true) -- Smg
			end			
			Wait(1000)
			SetPedArmour(GetPlayerPed(-1), 500)
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofGouvernement2 and ((clientjobID == 16) or (clientjobID == 19)) then
			SetEntityCoords(GetPlayerPed(-1), -429.4273,1109.798,327.6823)
			inrange2 = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if  IsControlJustPressed(1,38) and inrangeofGouvernement3 and ((clientjobID == 16) or (clientjobID == 19)) then
			SetEntityCoords(GetPlayerPed(-1), 240.431,-1004.874,-98.99996)
			inrange3 = false
        end
    end
end)


Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofGouvernement4 and ((clientjobID == 16) or (clientjobID == 19)) then
			SetEntityCoords(GetPlayerPed(-1), -776.0043,323.7258,212.0324)
			inrange4 = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofGouvernement5 and ((clientjobID == 16) or (clientjobID == 19)) then
			SetEntityCoords(GetPlayerPed(-1), -776.0043,323.7258,212.0324)
			inrange5 = false
        end
    end
end)


Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofGouvernement6 and ((clientjobID == 16) or (clientjobID == 19)) then
			SetEntityCoords(GetPlayerPed(-1), 240.431,-1004.874,-98.99996)
			inrange6 = false
        end
    end
end)


Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofGouvernement7 and ((clientjobID == 16) or (clientjobID == 19)) then
			TriggerServerEvent('CheckVehicleGouvUp', source)
			inrange7 = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofGouvernement8 and ((clientjobID == 16) or (clientjobID == 19)) then
		
			local playerPed = GetPlayerPed(-1)
			local lastSpawnedVehicle = GetVehiclePedIsUsing(playerPed)
			
			if(lastSpawnedVehicle ~= nil)then				
				deleteCar(lastSpawnedVehicle)
			end
			
			SetEntityCoords(playerPed, -421.9499,1063.349,323.8428)
			
			inrange8 = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if inrangeofGouvernement9 then
		
			local playerPed = GetPlayerPed(-1)
			local lastSpawnedVehicle = GetVehiclePedIsUsing(playerPed)
			
			if(lastSpawnedVehicle ~= nil)then				
				deleteCar(lastSpawnedVehicle)
			end
			
			SetEntityCoords(playerPed, 454.6566,-1016.651,28.42507)
			
			inrange9 = false
        end
    end
end)


Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofGouvernement10 then
		
		    local playerPed = GetPlayerPed(-1)
			local lastSpawnedVehicle = GetVehiclePedIsUsing(playerPed)
			
			if(lastSpawnedVehicle ~= nil)then				
				deleteCar(lastSpawnedVehicle)
			end
			
			--SetEntityCoords(playerPed, 410.6971,-1624.645,29.29193)
			
			inrange10 = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofGouvernement11 then
		
			local playerPed = GetPlayerPed(-1)
			local lastTaxiVeh = GetVehiclePedIsUsing(playerPed)
			
			if(lastTaxiVeh ~= nil)then				
				deleteCar(lastTaxiVeh)
			end
			
			--SetEntityCoords(playerPed, 410.6971,-1624.645,29.29193)
			
			inrange11 = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofGouvernement12 then
		
			local playerPed = GetPlayerPed(-1)
			local lastLivreurVeh = GetVehiclePedIsUsing(playerPed)
			
			if(lastLivreurVeh ~= nil)then				
				deleteCar(lastLivreurVeh)
			end
			
			--SetEntityCoords(playerPed, 410.6971,-1624.645,29.29193)
			
			inrange12 = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofGouvernement13 then
		
			local playerPed = GetPlayerPed(-1)
			local lastEMSVeh = GetVehiclePedIsUsing(playerPed)
			
			if(lastEMSVeh ~= nil)then				
				deleteCar(lastEMSVeh)
			end
			
			--SetEntityCoords(playerPed, 410.6971,-1624.645,29.29193)
			
			inrange13 = false
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofGouvernement14 then
		    TriggerServerEvent('CallGouv')
			ShowNotificationCall911("~h~Vous avez sonnÃ© au ~b~Gouvernement~w~...")
			inrange14 = false
        end
    end
end)


RegisterNetEvent('MarkerCallGouv')
AddEventHandler('MarkerCallGouv', function(namecallPol)
	ShowNotificationCall911("~h~~b~GOUVERNEMENT~n~~h~~b~"..namecallPol.."~w~ vient de sonner a la porte du Gouvernement !~n~")
end)

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowGouvernementBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      local gouvgarages = {
	opened = false,
	title = "Garage Gouvernement",
	currentmenu = "main",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.9,
		y = 0.17,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main"] = { 
			title = "CATEGORIES", 
			name = "main",
			buttons = { 
				{name = "SUV Secret service", costs = 15, description = {}, model = "XLS2"},
				{name = "SUV Gouv", costs = 15, description = {}, model = "cavalcade2"},
				{name = "Limousine", costs = 15, description = {}, model = "alpha"},
				{name = "Voiture Secretaire d'Etat", costs = 15, description = {}, model = "Cognoscenti"},
				{name = "Cognoscenti BlindÃ©e", costs = 15, description = {}, model = "Cognoscenti2"},
				{name = "Voiture BlindÃ©e", costs = 15, description = {}, model = "schafter5"},
				{name = "Kuruma BlindÃ©e", costs = 15, description = {}, model = "kuruma2"},
				{name = "Ambulance", costs = 15, description = {}, model = "ambulance"},
				{name = "Interceptor", costs = 15, description = {}, model = "police3"},
				{name = "Sherrif", costs = 15, description = {}, model = "sheriff2"},
			}
		},
	}
}

local GarageGouv_locations = {
{polgarage = {231.8008,-1005.989,-98.99995}, armurerie = {231.8008,-1005.989,-98.99995}, outside = {231.8008,-1005.989,-98.99995}},
}

local GarageGouv_blips ={}
local inrangeofGarageGouv = false
local currentlocation = nil
local boughtweapon = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfGarageGouv()
return inrangeofGarageGouv
end

function ShowGarageGouvBlips(bool)
	if bool and #GarageGouv_blips == 0 then
		for station,pos in pairs(GarageGouv_locations) do
			local loc = pos
			pos = pos.outside
			table.insert(GarageGouv_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #GarageGouv_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(GarageGouv_blips) do
					if (clientjobID == 19) and  GetDistanceBetweenCoords(b.pos.polgarage[1],b.pos.polgarage[2],b.pos.polgarage[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.polgarage[1],b.pos.polgarage[2],b.pos.polgarage[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.polgarage[1],b.pos.polgarage[2],b.pos.polgarage[3],GetEntityCoords(LocalPed()),true) < 4 and IsPedInAnyVehicle(LocalPed(), true) == false then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour choisir votre ~b~VÃ©hicule.", 0)
						inrange = true
						end
					end
				end
				inrangeofGarageGouv = inrange
			end
		end)
	elseif bool == false and #GarageGouv_blips > 0 then
		for i,b in ipairs(GarageGouv_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		GarageGouv_blips = {}
	end
end

--Creator Weapon
function OpenCreatorGouvGarage()		
	boughtweapon = false
	local ped = LocalPed()
	local pos = currentlocation.pos.polgarage
	FreezeEntityPosition(ped,true)
	local g = Citizen.InvokeNative(0xC906A7DAB05C8D2B,pos[1],pos[2],pos[3],Citizen.PointerValueFloat(),0)
	SetEntityCoords(ped,pos[1],pos[2],g)
	gouvgarages.currentmenu = "main"
	gouvgarages.opened = true
	gouvgarages.selectedbutton = 0
end
function CloseCreatorGouvGarge()
	Citizen.CreateThread(function()
		local ped = LocalPed()
		if not boughtweapon then
			local pos = currentlocation.pos.polgarage
			SetEntityCoords(ped,pos[1],pos[2],pos[3])
			FreezeEntityPosition(ped,false)
		else
			FreezeEntityPosition(ped,false)
			SetEntityVisible(ped,true)	
		end
		gouvgarages.opened = false
		gouvgarages.menu.from = 1
		gouvgarages.menu.to = 10
	end)
end

--Menu polgarage

function drawMenuButton(button,x,y,selected)
	local menu = gouvgarages.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = gouvgarages.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = gouvgarages.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitle(txt,x,y)
local menu = gouvgarages.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function NotifyGouvGarage(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfGarageGouv() and (clientjobID == 19) then
			if gouvgarages.opened then
				CloseCreatorGouvGarge()
			else
				OpenCreatorGouvGarage()
			end
		end
		if gouvgarages.opened then
			local ped = LocalPed()
			local menu = gouvgarages.menu[gouvgarages.currentmenu]
			drawTxt(gouvgarages.title,1,1,gouvgarages.menu.x,gouvgarages.menu.y,1.0, 255,255,255,255)
			drawMenuTitle(menu.title, gouvgarages.menu.x,gouvgarages.menu.y + 0.08)
			drawTxt(gouvgarages.selectedbutton.."/"..tablelength(menu.buttons),0,0,gouvgarages.menu.x + gouvgarages.menu.width/2 - 0.0385,gouvgarages.menu.y + 0.067,0.4, 255,255,255,255)
			local y = gouvgarages.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= gouvgarages.menu.from and i <= gouvgarages.menu.to then
					
					if i == gouvgarages.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,gouvgarages.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedGouvGarage(button)
					end
				end
			end	
		end
		if gouvgarages.opened then
			if IsControlJustPressed(1,202) then
				BackGouvGarage()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if gouvgarages.selectedbutton > 1 then
					gouvgarages.selectedbutton = gouvgarages.selectedbutton -1
					if buttoncount > 10 and gouvgarages.selectedbutton < gouvgarages.menu.from then
						gouvgarages.menu.from = gouvgarages.menu.from -1
						gouvgarages.menu.to = gouvgarages.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if gouvgarages.selectedbutton < buttoncount then
					gouvgarages.selectedbutton = gouvgarages.selectedbutton +1
					if buttoncount > 10 and gouvgarages.selectedbutton > gouvgarages.menu.to then
						gouvgarages.menu.to = gouvgarages.menu.to + 1
						gouvgarages.menu.from = gouvgarages.menu.from + 1
					end
				end	
			end
		end
	end
end)

				
function ButtonSelectedGouvGarage(button)
	local ped = GetPlayerPed(-1)
	local this = gouvgarages.currentmenu
	local btn = button.name
	if this == "main" then
		TriggerServerEvent('CheckVehicleGouv',button.model,button.costs)
	end
end

local OnVehicle = 0

RegisterNetEvent('FinishpolgarageCheckForGarageGouv')
AddEventHandler('FinishpolgarageCheckForGarageGouv', function()
	boughtweapon = true
	CloseCreatorGouvGarge()
	local ped = GetPlayerPed(-1)
	local veh = GetVehiclePedIsUsing(ped)
	gouvgarages.opened = false
	gouvgarages.menu.from = 1
	gouvgarages.menu.to = 10
	OnVehicle = 1
end)

Citizen.CreateThread(function()
	while true do
		Citizen.Wait(1000)
	if OnVehicle == 1 then
	TriggerEvent("upgradePlayerVehicle")
	Wait(50)
	OnVehicle = 0
	end

	end
end)

function OpenMenuGouvGarage(menu)
	gouvgarages.lastmenu = gouvgarages.currentmenu
	if menu == "mainGouv" then
		gouvgarages.lastmenu = "main"
	elseif menu == "mainintervention"  then
		gouvgarages.lastmenu = "main"
	elseif menu == 'race_create_objects' then
		gouvgarages.lastmenu = "main"
	elseif menu == "race_create_objects_spawn" then
		gouvgarages.lastmenu = "race_create_objects"
	end
	gouvgarages.menu.from = 1
	gouvgarages.menu.to = 10
	gouvgarages.selectedbutton = 0
	gouvgarages.currentmenu = menu	
end

function BackGouvGarage()
	if backlock then
		return
	end
	backlock = true
	if gouvgarages.currentmenu == "main" then
		CloseCreatorGouvGarge()
	elseif gouvgarages.currentmenu == "Gouv1" or gouvgarages.currentmenu == "Gouv2" or gouvgarages.currentmenu == "Gouv3" or gouvgarages.currentmenu == "Gouv4" or gouvgarages.currentmenu == "Gouv5" or gouvgarages.currentmenu == "Gouv6" then
		OpenMenuGouvGarage(gouvgarages.lastmenu)
	else
		OpenMenuGouvGarage(gouvgarages.lastmenu)
	end
end

function stringstartsGouvGarage(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowGarageGouvBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        local GouvHelico = {
	opened = false,
	title = "Garage Helico",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}
local GouvHelico_locations = {
{entering = {224.4084,-1006.672,-99.99995}, inside = {224.4084,-1006.672,-99.99995}, outside = {224.4084,-1006.672,-99.99995}},
}

local GouvHelico_blips ={}
local inrangeofGouvHelico = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfGouvHelico()
return inrangeofGouvHelico
end

function ShowGouvHelicoBlips(bool)
	if bool and #GouvHelico_blips == 0 then
		for station,pos in pairs(GouvHelico_locations) do
			local loc = pos
			pos = pos.entering
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(GouvHelico_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #GouvHelico_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(GouvHelico_blips) do
					if (clientjobID == 19) and  GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) < 4 and IsPedInAnyVehicle(LocalPed(), true) == false then
							ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour sortir ~b~Marine One.", 0)
						    inrange = true
						end
					end
				end
				inrangeofGouvHelico = inrange
			end
		end)
	elseif bool == false and #GouvHelico_blips > 0 then
		for i,b in ipairs(GouvHelico_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		GouvHelico_blips = {}
	end
end

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofGouvHelico and (clientjobID == 19) then
            TriggerServerEvent('CheckGouvHelico')
        end
    end
end)



local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowGouvHelicoBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       local weaponshop = {
	opened = false,
	title = "Armurerie",
	currentmenu = "mainpolice",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.9,
		y = 0.20,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["mainpolice"] = { 
			title = "Los Santos Police Department", 
			name = "mainpolice",
			buttons = { 
			}
		},
	}
}

RegisterNetEvent('PoliceWeapon1')
AddEventHandler('PoliceWeapon1', function()
	
	weaponshop.menu["mainpolice"].buttons = {}
	
	    table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Equipement Auto", description = {}, model = ""})
		table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Matraque", description = {}, model = "WEAPON_NIGHTSTICK"})
		table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Pistolet", description = {}, model = "WEAPON_PISTOL"})
		table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Tazer", description = {}, model = "WEAPON_STUNGUN"})
		table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Lampe", description = {}, model = "WEAPON_FLASHLIGHT"})
		table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Extincteur", description = {}, model = "WEAPON_FIREEXTINGUISHER"})
	if (clientrankid == 28) then --Sergent
				table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Pistol.50", description = {}, model = "WEAPON_PISTOL50"})
				-- table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Gaz lacrymogÃ¨ne", description = {}, model = "WEAPON_SMOKEGRENADE"})
				table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Mitraillette", description = {}, model = "WEAPON_SMG"})
	
	elseif (clientrankid == 29) then --SergentChef
				table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Mitraillette", description = {}, model = "WEAPON_SMG"})
				table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Pistol.50", description = {}, model = "WEAPON_PISTOL50"})
				-- table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Gaz lacrymogÃ¨ne", description = {}, model = "WEAPON_SMOKEGRENADE"})
				-- table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Fusil d'assaut", description = {}, model = "WEAPON_BULLPUPRIFLE"})
	elseif (clientrankid == 30) then --Lieutenant
				table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Mitraillette", description = {}, model = "WEAPON_SMG"})
				-- table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Fusil d'assaut", description = {}, model = "WEAPON_BULLPUPRIFLE"})
				table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Heavy Pistol", description = {}, model = "WEAPON_HEAVYPISTOL"})
				-- table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Bombe collante", description = {}, model = "WEAPON_STICKYBOMB"})
				-- table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Gaz lacrymogÃ¨ne", description = {}, model = "WEAPON_SMOKEGRENADE"})
				table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Sniper", description = {}, model = "WEAPON_SNIPERRIFLE"})
	elseif (clientrankid == 3) then --Capitaine
				table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Mitraillette", description = {}, model = "WEAPON_SMG"})
				-- table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Fusil d'assaut", description = {}, model = "WEAPON_BULLPUPRIFLE"})
				table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Heavy Pistol", description = {}, model = "WEAPON_HEAVYPISTOL"})
				-- table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Bombe collante", description = {}, model = "WEAPON_STICKYBOMB"})
				table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Grenade", description = {}, model = "WEAPON_GRENADE"})
				-- table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Gaz lacrymogÃ¨ne", description = {}, model = "WEAPON_SMOKEGRENADE"})
				table.insert(weaponshop.menu["mainpolice"].buttons, {name = "Sniper", description = {}, model = "WEAPON_SNIPERRIFLE"})
	end 
	
end)


RegisterNetEvent('PoliceWeapon2')
AddEventHandler('PoliceWeapon2', function()

	weaponshop.currentmenu = "mainpolice"
	weaponshop.opened = true
	weaponshop.selectedbutton = 0
	
end)

				
function ShowInfoComico(text, state)
	SetTextComponentFormat("STRING")
	AddTextComponentString(text)
	DisplayHelpTextFromStringLabel(0, state, 0, -1)
end


local Police_locations = {
{cafe = {435.9244,-985.8205,30.6896}, armurerie = {452.3714,-979.9858,29.6896}, outside = {441.3279,-983.8997,30.6896}},
}

TelCall911 = 0
local Police_blips ={}
local inrangeofPolice2 = false
local inrangeofPolice3 = false
local currentlocation = nil
local boughtweapon = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfPolice2()
return inrangeofPolice2
end

function IsPlayerInRangeOfPolice3()
return inrangeofPolice3
end

function ShowPoliceBlips(bool)
	if bool and #Police_blips == 0 then
		for station,pos in pairs(Police_locations) do
			local loc = pos
			pos = pos.outside
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,60)
			SetBlipColour(blip, 38)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Poste de Police')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Police_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #Police_blips > 0 do
				Citizen.Wait(0)
				local inrange2 = false
				local inrange3 = false
				for i,b in ipairs(Police_blips) do
					if (clientjobID == 10) and  GetDistanceBetweenCoords(b.pos.armurerie[1],b.pos.armurerie[2],b.pos.armurerie[3],GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(1,b.pos.armurerie[1],b.pos.armurerie[2],b.pos.armurerie[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.armurerie[1],b.pos.armurerie[2],b.pos.armurerie[3],GetEntityCoords(LocalPed()),true) < 3 then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour choisir vos ~b~Armes.", 0)
						inrange2 = true
						end
					end
					if GetDistanceBetweenCoords(b.pos.cafe[1],b.pos.cafe[2],b.pos.cafe[3],GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(1,b.pos.cafe[1],b.pos.cafe[2],b.pos.cafe[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.cafe[1],b.pos.cafe[2],b.pos.cafe[3],GetEntityCoords(LocalPed()),true) < 1 then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour acheter un ~b~CafÃ©~w~ (~g~2$~w~).", 0)
						inrange3 = true
						end
					end
				end
				
				inrangeofPolice2 = inrange2
				inrangeofPolice3 = inrange3
			end
		end)
	elseif bool == false and #Police_blips > 0 then
		for i,b in ipairs(Police_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		Police_blips = {}
	end
end

--Creator Weapon
function OpenCreatorWeapon()		
	boughtweapon = false
	local ped = LocalPed()
	local pos = currentlocation.pos.armurerie
	local g = Citizen.InvokeNative(0xC906A7DAB05C8D2B,pos[1],pos[2],pos[3],Citizen.PointerValueFloat(),0)
	-- SetEntityCoords(ped,pos[1],pos[2],g)
	weaponshop.currentmenu = "mainpolice"
	weaponshop.opened = true
	weaponshop.selectedbutton = 0
end
function CloseCreatorWeapon()
	Citizen.CreateThread(function()
		local ped = LocalPed()
		if not boughtweapon then
			local pos = currentlocation.pos.armurerie
			-- SetEntityCoords(ped,pos[1],pos[2],pos[3])
		else
			SetEntityVisible(ped,true)				
		end
		weaponshop.opened = false
		weaponshop.menu.from = 1
		weaponshop.menu.to = 10
	end)
end

--Menu Weapon

function drawMenuButton(button,x,y,selected)
	local menu = weaponshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = weaponshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = weaponshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitle(txt,x,y)
local menu = weaponshop.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end

function Notify3(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

local Back3lock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if not inrangeofPolice2 then
			weaponshop.opened = false
		end
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfPolice2() then
			if weaponshop.opened then
				
			else
				TriggerServerEvent('OpenArmupol')
			end
		end
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfPolice3() then
			TriggerServerEvent('CheckCafe')
		end
		if weaponshop.opened then
			local ped = LocalPed()
			local menu = weaponshop.menu[weaponshop.currentmenu]
			drawTxt(weaponshop.title,1,1,weaponshop.menu.x,weaponshop.menu.y,1.0, 255,255,255,255)
			drawMenuTitle(menu.title, weaponshop.menu.x,weaponshop.menu.y + 0.08)
			drawTxt(weaponshop.selectedbutton.."/"..tablelength(menu.buttons),0,0,weaponshop.menu.x + weaponshop.menu.width/2 - 0.0385,weaponshop.menu.y + 0.067,0.4, 255,255,255,255)
			local y = weaponshop.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= weaponshop.menu.from and i <= weaponshop.menu.to then
					
					if i == weaponshop.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,weaponshop.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelected3(button)
					end
				end
			end	
		end
		if weaponshop.opened then
			if IsControlJustPressed(1,202) then
				Back3()
			end
			if IsControlJustReleased(1,202) then
				Back3lock = false
			end
			if IsControlJustPressed(1,188) then
				if weaponshop.selectedbutton > 1 then
					weaponshop.selectedbutton = weaponshop.selectedbutton -1
					if buttoncount > 10 and weaponshop.selectedbutton < weaponshop.menu.from then
						weaponshop.menu.from = weaponshop.menu.from -1
						weaponshop.menu.to = weaponshop.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if weaponshop.selectedbutton < buttoncount then
					weaponshop.selectedbutton = weaponshop.selectedbutton +1
					if buttoncount > 10 and weaponshop.selectedbutton > weaponshop.menu.to then
						weaponshop.menu.to = weaponshop.menu.to + 1
						weaponshop.menu.from = weaponshop.menu.from + 1
					end
				end	
			end
		end
	end
end)

function ButtonSelected3(button)
	local ped = GetPlayerPed(-1)
	local this = weaponshop.currentmenu
	local btn = button.name
	if this == "mainpolice" then
		if btn == "Cadet" then
			OpenMenu3('police1')
		else
		   TriggerServerEvent('CheckWeaponForPolice',button.model)
		   -- weaponshop.opened = false
		   -- weaponshop.menu.from = 1
		   -- weaponshop.menu.to = 10
		end
	else
		-- TriggerServerEvent('CheckWeaponForPolice',button.model,button.costs)
	end
end

RegisterNetEvent('FinishWeaponCheckForPolice')
AddEventHandler('FinishWeaponCheckForPolice', function()
	boughtweapon = true
end)


RegisterNetEvent('FinishCafe')
AddEventHandler('FinishCafe', function()
	ShowNotificationCall911('~h~Vous avez achetÃ© ~g~un CafÃ©~w~.')
end)

function OpenMenu3(menu)
	weaponshop.lastmenu = weaponshop.currentmenu
	if menu == "mainpolice" then
		weaponshop.lastmenu = "main"
	elseif menu == "mainswat"  then
		weaponshop.lastmenu = "main"
	elseif menu == 'race_create_objects' then
		weaponshop.lastmenu = "main"
	elseif menu == "race_create_objects_spawn" then
		weaponshop.lastmenu = "race_create_objects"
	end
	weaponshop.menu.from = 1
	weaponshop.menu.to = 10
	weaponshop.selectedbutton = 0
	weaponshop.currentmenu = menu	
end

function DrawMissionTextCall911(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

function ShowNotificationCall911(text)
	SetNotificationTextEntry("STRING")
	AddTextComponentString(text)
	DrawNotification(false, false)
end


function StopInterPolice()
		if blipTelcall911 ~= nil and DoesBlipExist(blipTelcall911) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(blipTelcall911))
			blipTelcall911 = nil
			inmissionpolice = 0
			policeflag = 0
			callencourspolice = 2
		end
		if blipTelcall911for911 ~= nil and DoesBlipExist(blipTelcall911for911) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(blipTelcall911for911))
			blipTelcall911for911 = nil
			inmissionpolice = 0
			policeflag = 0
			callencourspolice = 2
		end
		if blipcall911 ~= nil and DoesBlipExist(blipcall911) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(blipcall911))
			blipcall911 = nil
			inmissionpolice = 0
			policeflag = 0
			callencourspolice = 2
		end
end


callencourspolice = 2
inmissionpolice = 0

RegisterNetEvent('HaveCall911')
AddEventHandler('HaveCall911', function()

    ShowNotificationCall911('~h~VOUS AVEZ APPELÃ‰ LA ~b~POLICE~w~.')
end)

RegisterNetEvent('HaveAcceptCall911')
AddEventHandler('HaveAcceptCall911', function()
    ShowNotificationCall911('~h~UNE ~b~PATROUILLE~w~ EST EN ROUTE...')
end)

RegisterNetEvent('HaveAcceptCall911ForCop')
AddEventHandler('HaveAcceptCall911ForCop', function(namepol, namecaller)
    ShowNotificationCall911("~h~~b~"..namepol.."~w~ a ~g~acceptÃ©~w~ l'appel de ~b~"..namecaller.."~w~.")
	callencourspolice = 1
end)

RegisterNetEvent('Marker911')
AddEventHandler('Marker911', function(coordcallbraquage)

    ShowNotificationCall911('~h~~r~CODE 3~n~ ~w~LSPD ~n~~h~~r~BRAQUAGE EN COURS !~n~ ~w~Lieu :~b~ Pacific standard Bank')
    ShowNotificationCall911("Pour accepter l'appel appuyez sur ~h~~b~Y")
	
	callencourspolice = 3
	posBraco = coordcallbraquage
end)

RegisterNetEvent('Marker9112')
AddEventHandler('Marker9112', function(coordcallbraquage)

    ShowNotificationCall911('~h~~r~CODE 3~n~ ~w~LSPD ~n~~h~~r~BRAQUAGE EN COURS !~n~ ~w~Lieu :~b~ Fleeca Bank')
    ShowNotificationCall911("Pour accepter l'appel appuyez sur ~h~~b~Y")
	
	callencourspolice = 3
	posBraco = coordcallbraquage
end)

RegisterNetEvent('Marker9113')
AddEventHandler('Marker9113', function(coordcallbraquageSuperet)

    ShowNotificationCall911('~h~~r~CODE 3~n~ ~w~LSPD ~n~~h~~r~BRAQUAGE EN COURS !~n~ ~w~Lieu :~b~ Superette de Los Santos')
    ShowNotificationCall911("Pour accepter l'appel appuyez sur ~h~~b~Y")
	callencourspolice = 3
	posBraco = coordcallbraquageSuperet
end)

RegisterNetEvent('MarkerTel911')
AddEventHandler('MarkerTel911', function(namecallPol, coordcall911x, coordcall911y, coordcall911z, motif)
    
	ShowNotificationCall911("~h~~r~CODE 2~n~ ~w~LSPD ~n~~h~~w~ ~n~~h~~b~"..namecallPol.."~w~ vient d'appeler la Police !~n~")
	ShowNotificationCall911("~h~~b~RAISON : ~w~"..motif)
    ShowNotificationCall911("Pour accepter l'appel appuyez sur ~h~~b~Y")
	callencourspolice = 0
	posCallTel911xSave = coordcall911x
	posCallTel911ySave = coordcall911y
	posCallTel911zSave = coordcall911z
	LastCallerPol = namecallPol
end)

RegisterNetEvent('MarkerTel911for911')
AddEventHandler('MarkerTel911for911', function(namecallPol, coordcall911x, coordcall911y, coordcall911z)
    
	ShowNotificationCall911("~h~~r~CODE ROUGE~n~ ~w~LSPD ~n~~h~~w~ ~n~~h~L'agent ~b~"..namecallPol.."~w~ a besoin de renfort !~n~")
	posCallTel911xSave2 = coordcall911x
	posCallTel911ySave2 = coordcall911y
	posCallTel911zSave2 = coordcall911z
	policeflag = 5
	inmissionpolice = 1
end)

Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
	    if IsControlJustPressed(1,246) and (clientjobID == 10) then
			
			if (inmissionpolice == 0) then
				if (callencourspolice == 0) then
					policeflag = 3
					ShowNotificationCall911('CoordonnÃ©e envoyÃ©e sur votre GPS...')
					TriggerServerEvent('CheckAcceptCall911', LastCallerPol)
					TriggerServerEvent('CheckAcceptCall911ForCop', LastCallerPol)
					posCallTel911x = posCallTel911xSave
					posCallTel911y = posCallTel911ySave
					posCallTel911z = posCallTel911zSave
					inmissionpolice = 1
				elseif (callencourspolice == 3) then
					policeflag = 1
					ShowNotificationCall911('CoordonnÃ©e envoyÃ©e sur votre GPS...')
					-- TriggerServerEvent('CheckAcceptCall911', "BRAQUAGE")
					-- TriggerServerEvent('CheckAcceptCall911ForCop', "BRAQUAGE")
					posCall911 = posBraco
					inmissionpolice = 1
				elseif (callencourspolice == 1) then
				    ShowNotificationCall911("~h~L'appel a dÃ©jÃ  Ã©tÃ© pris.")
				elseif (callencourspolice == 2) then
				    ShowNotificationCall911("~h~Aucun appel pour le moment.")
				end
			elseif (inmissionpolice == 1) then
			    ShowNotificationCall911("~h~Vous Ãªtes dÃ©jÃ  en intervention.")
			end
	    end
	end
end)

Citizen.CreateThread(function()
	while true do
	Wait(0)
		if policeflag == 1 then
			    blipcall911 = AddBlipForCoord(posCall911[1],posCall911[2],posCall911[3])
				N_0x80ead8e2e1d5d52e(blipcall911)
				
				SetBlipSprite(blipcall911,4)
				BeginTextCommandSetBlipName("STRING")
				AddTextComponentString('BRAQUAGE EN COURS')
				EndTextCommandSetBlipName(blipcall911)
				
				SetBlipRoute(blipcall911, 1)
				policeflag = 2
		end
		if policeflag == 2 then
				if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), posCall911[1],posCall911[2],posCall911[3], true) > 4.0001 then
					DrawMarker(1, posCall911[1],posCall911[2],posCall911[3]-1.0001, 0, 0, 0, 0, 0, 0, 4.0, 4.0, 2.0, 11, 80, 169, 255, 0, 0, 1, 0, 0, 0, 0)
				else
					if blipcall911 ~= nil and DoesBlipExist(blipcall911) then
						Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(blipcall911))
						blipcall911 = nil
						inmissionpolice = 0
						policeflag = 0
						callencourspolice = 2
					end
				end	
		end
		if policeflag == 3 then
			    blipTelcall911 = AddBlipForCoord(posCallTel911x, posCallTel911y, posCallTel911z)
				N_0x80ead8e2e1d5d52e(blipTelcall911)
				
				SetBlipSprite(blipTelcall911,4)
				BeginTextCommandSetBlipName("STRING")
				AddTextComponentString('CITOYEN EN BESOIN')
				EndTextCommandSetBlipName(blipTelcall911)
				
				SetBlipRoute(blipTelcall911, 1)
				policeflag = 4
		end
		if policeflag == 4 then
				if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), posCallTel911x, posCallTel911y, posCallTel911z, true) > 4.0001 then
					DrawMarker(1, posCallTel911x, posCallTel911y, posCallTel911z-1.0001, 0, 0, 0, 0, 0, 0, 4.0, 4.0, 2.0, 11, 80, 169, 255, 0, 0, 1, 0, 0, 0, 0)
				else
					if blipTelcall911 ~= nil and DoesBlipExist(blipTelcall911) then
						Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(blipTelcall911))
						blipTelcall911 = nil
						inmissionpolice = 0
						policeflag = 0
						callencourspolice = 2
					end
				end	
		end
		if policeflag == 5 then
			    blipTelcall911for911 = AddBlipForCoord(posCallTel911xSave2, posCallTel911ySave2, posCallTel911zSave2)
				N_0x80ead8e2e1d5d52e(blipTelcall911for911)
				
				SetBlipSprite(blipTelcall911for911,4)
				BeginTextCommandSetBlipName("STRING")
				AddTextComponentString('POLICIER EN BESOIN')
				EndTextCommandSetBlipName(blipTelcall911for911)
				
				SetBlipRoute(blipTelcall911for911, 1)
				policeflag = 6
		end
		if policeflag == 6 then
				if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), posCallTel911xSave2, posCallTel911ySave2, posCallTel911zSave2, true) > 4.0001 then
					DrawMarker(1, posCallTel911xSave2, posCallTel911ySave2, posCallTel911zSave2-1.0001, 0, 0, 0, 0, 0, 0, 4.0, 4.0, 2.0, 11, 80, 169, 255, 0, 0, 1, 0, 0, 0, 0)
				else
					if blipTelcall911for911 ~= nil and DoesBlipExist(blipTelcall911for911) then
						Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(blipTelcall911for911))
						blipTelcall911for911 = nil
						inmissionpolice = 0
						policeflag = 0
						callencourspolice = 2
					end
				end	
		end
	end
end)

function Back3()
	if Back3lock then
		return
	end
	Back3lock = true
	if weaponshop.currentmenu == "mainpolice" then
		CloseCreatorWeapon()
	elseif weaponshop.currentmenu == "police1" or weaponshop.currentmenu == "police2" or weaponshop.currentmenu == "police3" or weaponshop.currentmenu == "police4" or weaponshop.currentmenu == "police5" or weaponshop.currentmenu == "police6" then
		OpenMenu3(weaponshop.lastmenu)
	else
		OpenMenu3(weaponshop.lastmenu)
	end
end

function stringstarts3(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowPoliceBlips(true)
	if ((clientjobID == 18) or (clientjobID == 17) or (clientjobID == 16) or (clientjobID == 15) or (clientjobID == 14) or (clientjobID == 13) or (clientjobID == 12) or (clientjobID == 11) or (clientjobID == 10)) then
        TelCall911 = 1
	else
	    TelCall911 = 0
    end
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            local polgarageshop = {
	opened = false,
	title = "Garage Police",
	currentmenu = "mainpolice",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.9,
		y = 0.17,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["mainpolice"] = { 
			title = "Los Santos Police Department",  
			name = "mainpolice",
			buttons = { 
			}
		},
	}
}


RegisterNetEvent('PoliceVeh1')
AddEventHandler('PoliceVeh1', function()
	
	polgarageshop.menu["mainpolice"].buttons = {}
	
	    table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Stanier", description = 1, model = "police"})
	if (clientrankid == 28) then --Sergent
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Buffalo", description = 1, model = "police2"})
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Interceptor", description = 1, model = "police3"})	
	elseif (clientrankid == 29) then --SergentChef
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Buffalo", description = 1, model = "police2"})
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Interceptor", description = 1, model = "police3"})
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Moto", description = 1, model = "policeb"})
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Van de Transport", description = 1, model = "policet"})
	elseif (clientrankid == 30) then --Lieutenant
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Buffalo", description = 1, model = "police2"})
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Interceptor", description = 1, model = "police3"})	
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Moto", description = 1, model = "policeb"})
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Van de Transport", description = 1, model = "policet"})
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Bus Prison", description = 1, model = "pbus"})
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Sheriff Cruiser", description = 1, model = "sheriff"})
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "SWAT", description = 1, model = "riot"})
	elseif (clientrankid == 3) then --Capitaine
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Buffalo", description = 1, model = "police2"})
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Interceptor", description = 1, model = "police3"})		
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Moto", description = 1, model = "policeb"})
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Van de Transport", description = 1, model = "policet"})
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Bus Prison", description = 1, model = "pbus"})
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Sheriff Cruiser", description = 1, model = "sheriff"})
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Sheriff SUV", description = 1, model = "sheriff2"})
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "SWAT", description = 1, model = "riot"})
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "VÃ©hicule BanalisÃ©", description = 0, model = "police4"})
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "VÃ©hicule BanalisÃ© 2", description = 0, model = "fbi"})
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Vehicule Civil (blindÃ©)", description = 0, model = "schafter5"})	
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Intruder", description = 0, model = "intruder"})
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Granger", description = 0, model = "granger"})
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Van Youga", description = 0, model = "youga"})
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Sentinel XS", description = 0, model = "sentinel"})
		table.insert(polgarageshop.menu["mainpolice"].buttons, {name = "Schafter", description = 0, model = "schafter2"})
		
	end 
end)

RegisterNetEvent('PoliceVeh2')
AddEventHandler('PoliceVeh2', function()

	polgarageshop.currentmenu = "mainpolice"
	polgarageshop.opened = true
	polgarageshop.selectedbutton = 0
	
end)

local GaragePolice_locations = {
{polgarage = {452.314,-1021.007,27.56479}, armurerie = {449.3099,-9982779,24.74535}, outside = {452.314,-1021.007,27.56479}},
}

local GaragePolice_blips ={}
local inrangeofGaragePolice = false
local currentlocation = nil
local boughtweapon = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfGaragePolice()
return inrangeofGaragePolice
end

function ShowGaragePoliceBlips(bool)
	if bool and #GaragePolice_blips == 0 then
		for station,pos in pairs(GaragePolice_locations) do
			local loc = pos
			pos = pos.outside
			table.insert(GaragePolice_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #GaragePolice_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(GaragePolice_blips) do
					if (clientjobID == 10) and  GetDistanceBetweenCoords(b.pos.polgarage[1],b.pos.polgarage[2],b.pos.polgarage[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.polgarage[1],b.pos.polgarage[2],b.pos.polgarage[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if IsPedInAnyVehicle(LocalPed(), true) == false and GetDistanceBetweenCoords(b.pos.polgarage[1],b.pos.polgarage[2],b.pos.polgarage[3],GetEntityCoords(LocalPed()),true) < 4 then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour choisir votre ~b~VÃ©hicule.", 0)
						inrange = true
						end
					end
				end
				inrangeofGaragePolice = inrange
			end
		end)
	elseif bool == false and #GaragePolice_blips > 0 then
		for i,b in ipairs(GaragePolice_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		GaragePolice_blips = {}
	end
end

--Creator Weapon
function OpenCreatorpolgarage()		
	boughtweapon = false
	local ped = LocalPed()
	local pos = currentlocation.pos.polgarage
	FreezeEntityPosition(ped,true)
	local g = Citizen.InvokeNative(0xC906A7DAB05C8D2B,pos[1],pos[2],pos[3],Citizen.PointerValueFloat(),0)
	-- SetEntityCoords(ped,pos[1],pos[2],g)
	polgarageshop.currentmenu = "mainpolice"
	polgarageshop.opened = true
	polgarageshop.selectedbutton = 0
end
function CloseCreatorpolgarage()
	Citizen.CreateThread(function()
		local ped = LocalPed()
		if not boughtweapon then
			local pos = currentlocation.pos.polgarage
			-- SetEntityCoords(ped,pos[1],pos[2],pos[3])
			FreezeEntityPosition(ped,false)
		else
			FreezeEntityPosition(ped,false)
			SetEntityVisible(ped,true)	
		end
		polgarageshop.opened = false
		polgarageshop.menu.from = 1
		polgarageshop.menu.to = 10
	end)
end

--Menu polgarage

function drawMenuButton(button,x,y,selected)
	local menu = polgarageshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = polgarageshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = polgarageshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitle(txt,x,y)
local menu = polgarageshop.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function NotifyPolGarage(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfGaragePolice() then
			if polgarageshop.opened then
				
			else
				TriggerServerEvent('OpenGaragePolice')
			end
		end
		if polgarageshop.opened then
			local ped = LocalPed()
			local menu = polgarageshop.menu[polgarageshop.currentmenu]
			drawTxt(polgarageshop.title,1,1,polgarageshop.menu.x,polgarageshop.menu.y,1.0, 255,255,255,255)
			drawMenuTitle(menu.title, polgarageshop.menu.x,polgarageshop.menu.y + 0.08)
			drawTxt(polgarageshop.selectedbutton.."/"..tablelength(menu.buttons),0,0,polgarageshop.menu.x + polgarageshop.menu.width/2 - 0.0385,polgarageshop.menu.y + 0.067,0.4, 255,255,255,255)
			local y = polgarageshop.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= polgarageshop.menu.from and i <= polgarageshop.menu.to then
					
					if i == polgarageshop.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,polgarageshop.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedPolGarage(button)
					end
				end
			end	
		end
		if polgarageshop.opened then
			if IsControlJustPressed(1,202) then
				Back4()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if polgarageshop.selectedbutton > 1 then
					polgarageshop.selectedbutton = polgarageshop.selectedbutton -1
					if buttoncount > 10 and polgarageshop.selectedbutton < polgarageshop.menu.from then
						polgarageshop.menu.from = polgarageshop.menu.from -1
						polgarageshop.menu.to = polgarageshop.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if polgarageshop.selectedbutton < buttoncount then
					polgarageshop.selectedbutton = polgarageshop.selectedbutton +1
					if buttoncount > 10 and polgarageshop.selectedbutton > polgarageshop.menu.to then
						polgarageshop.menu.to = polgarageshop.menu.to + 1
						polgarageshop.menu.from = polgarageshop.menu.from + 1
					end
				end	
			end
		end
	end
end)

				
function ButtonSelectedPolGarage(button)
	local ped = GetPlayerPed(-1)
	local this = polgarageshop.currentmenu
	local btn = button.name
	if this == "mainpolice" then
		if btn == "Cadet" then
			OpenMenu4('police1')
		else
		    TriggerServerEvent('CheckpolgarageForGaragePolice',button.model, button.description)
			CloseCreatorpolgarage()
			polgarageshop.opened = false
			polgarageshop.menu.from = 1
			polgarageshop.menu.to = 10
		end
	else
	end
end


RegisterNetEvent('FinishpolgarageCheckForGaragePolice')
AddEventHandler('FinishpolgarageCheckForGaragePolice', function()
	boughtweapon = true
	CloseCreatorpolgarage()
	polgarageshop.opened = false
	polgarageshop.menu.from = 1
	polgarageshop.menu.to = 10
	
end)

function OpenMenu4(menu)
	polgarageshop.lastmenu = polgarageshop.currentmenu
	if menu == "mainpolice" then
		polgarageshop.lastmenu = "main"
	elseif menu == "mainintervention"  then
		polgarageshop.lastmenu = "main"
	elseif menu == 'race_create_objects' then
		polgarageshop.lastmenu = "main"
	elseif menu == "race_create_objects_spawn" then
		polgarageshop.lastmenu = "race_create_objects"
	end
	polgarageshop.menu.from = 1
	polgarageshop.menu.to = 10
	polgarageshop.selectedbutton = 0
	polgarageshop.currentmenu = menu	
end

function Back4()
	if backlock then
		return
	end
	backlock = true
	if polgarageshop.currentmenu == "mainpolice" then
		CloseCreatorpolgarage()
	elseif polgarageshop.currentmenu == "police1" or polgarageshop.currentmenu == "police2" or polgarageshop.currentmenu == "police3" or polgarageshop.currentmenu == "police4" or polgarageshop.currentmenu == "police5" or polgarageshop.currentmenu == "police6" then
		OpenMenu4(polgarageshop.lastmenu)
	else
		OpenMenu4(polgarageshop.lastmenu)
	end
end

function stringstarts4(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowGaragePoliceBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           local polhelicoshop = {
	opened = false,
	title = "Heliport Police",
	currentmenu = "mainpolice",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.9,
		y = 0.20,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["mainpolice"] = { 
			title = "Los Santos Police Department", 
			name = "mainpolice",
			buttons = { 
			}
		},
	}
}


RegisterNetEvent('PoliceHeli1')
AddEventHandler('PoliceHeli1', function()
	
	polhelicoshop.menu["mainpolice"].buttons = {}
	
	if (clientrankid == 27) then --Cadet
	     table.insert(polhelicoshop.menu["mainpolice"].buttons, {name = "Aucun hÃ©licoptÃ¨re disponible", description = {}, model = ""})	
	elseif (clientrankid == 28) then --Sergent
	     table.insert(polhelicoshop.menu["mainpolice"].buttons, {name = "Aucun hÃ©licoptÃ¨re disponible", description = {}, model = ""})
	elseif (clientrankid == 29) then --SergentChef
	     table.insert(polhelicoshop.menu["mainpolice"].buttons, {name = "HelicoptÃ¨re Police", description = {}, model = "polmav"})
	elseif (clientrankid == 30) then --Lieutenant
	     table.insert(polhelicoshop.menu["mainpolice"].buttons, {name = "HelicoptÃ¨re Police", description = {}, model = "polmav"})
	elseif (clientrankid == 3) then --Capitaine
	     table.insert(polhelicoshop.menu["mainpolice"].buttons, {name = "HelicoptÃ¨re Police", description = {}, model = "polmav"})
    else	
	     table.insert(polhelicoshop.menu["mainpolice"].buttons, {name = "HelicoptÃ¨re Police", description = {}, model = "polmav"})
	end 
	
	
end)


RegisterNetEvent('PoliceHeli2')
AddEventHandler('PoliceHeli2', function()

	polhelicoshop.currentmenu = "mainpolice"
	polhelicoshop.opened = true
	polhelicoshop.selectedbutton = 0
	
end)
		

local HeliportPolice_locations = {
{polheli = {448.8877,-981.2548,43.09166}, armurerie = {449.3099,-9982779,24.44535}, outside = {448.8877,-981.2548,43.09166}},
}

local HeliportPolice_blips ={}
local inrangeofHeliportPolice = false
local currentlocation = nil
local boughtweapon = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerinrangeofHeliportPolice()
return inrangeofHeliportPolice
end

function ShowHeliPoliceBlips(bool)
	if bool and #HeliportPolice_blips == 0 then
		for station,pos in pairs(HeliportPolice_locations) do
			local loc = pos
			pos = pos.outside
			table.insert(HeliportPolice_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #HeliportPolice_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(HeliportPolice_blips) do
					if (clientjobID == 10) and  GetDistanceBetweenCoords(b.pos.polheli[1],b.pos.polheli[2],b.pos.polheli[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.polheli[1],b.pos.polheli[2],b.pos.polheli[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.polheli[1],b.pos.polheli[2],b.pos.polheli[3],GetEntityCoords(LocalPed()),true) < 4 then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour choisir votre ~b~HÃ©licoptÃ¨re.", 0)
						inrange = true
						end
					end
				end
				inrangeofHeliportPolice = inrange
			end
		end)
	elseif bool == false and #HeliportPolice_blips > 0 then
		for i,b in ipairs(HeliportPolice_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		HeliportPolice_blips = {}
	end
end

--Creator Weapon
function OpenCreatorpolheli()		
	boughtweapon = false
	local ped = LocalPed()
	local pos = currentlocation.pos.polheli
	FreezeEntityPosition(ped,true)
	local g = Citizen.InvokeNative(0xC906A7DAB05C8D2B,pos[1],pos[2],pos[3],Citizen.PointerValueFloat(),0)
	-- SetEntityCoords(ped,pos[1],pos[2],g)
	polhelicoshop.currentmenu = "mainpolice"
	polhelicoshop.opened = true
	polhelicoshop.selectedbutton = 0
end
function CloseCreatorpolheli()
	Citizen.CreateThread(function()
		local ped = LocalPed()
		if not boughtweapon then
			local pos = currentlocation.pos.polheli
			-- SetEntityCoords(ped,pos[1],pos[2],pos[3])
			FreezeEntityPosition(ped,false)
		else
			FreezeEntityPosition(ped,false)
			SetEntityVisible(ped,true)	
		end
		polhelicoshop.opened = false
		polhelicoshop.menu.from = 1
		polhelicoshop.menu.to = 10
	end)
end

--Menu polheli

function drawMenuButton(button,x,y,selected)
	local menu = polhelicoshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = polhelicoshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = polhelicoshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitle(txt,x,y)
local menu = polhelicoshop.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function Notify5(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,38) and IsPlayerinrangeofHeliportPolice() then
			if polhelicoshop.opened then
				
			else
				TriggerServerEvent('OpenHeliShopPol')
			end
		end
		if polhelicoshop.opened then
			local ped = LocalPed()
			local menu = polhelicoshop.menu[polhelicoshop.currentmenu]
			drawTxt(polhelicoshop.title,1,1,polhelicoshop.menu.x,polhelicoshop.menu.y,1.0, 255,255,255,255)
			drawMenuTitle(menu.title, polhelicoshop.menu.x,polhelicoshop.menu.y + 0.08)
			drawTxt(polhelicoshop.selectedbutton.."/"..tablelength(menu.buttons),0,0,polhelicoshop.menu.x + polhelicoshop.menu.width/2 - 0.0385,polhelicoshop.menu.y + 0.067,0.4, 255,255,255,255)
			local y = polhelicoshop.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= polhelicoshop.menu.from and i <= polhelicoshop.menu.to then
					
					if i == polhelicoshop.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,polhelicoshop.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelected5(button)
					end
				end
			end	
		end
		if polhelicoshop.opened then
			if IsControlJustPressed(1,202) then
				Back5()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if polhelicoshop.selectedbutton > 1 then
					polhelicoshop.selectedbutton = polhelicoshop.selectedbutton -1
					if buttoncount > 10 and polhelicoshop.selectedbutton < polhelicoshop.menu.from then
						polhelicoshop.menu.from = polhelicoshop.menu.from -1
						polhelicoshop.menu.to = polhelicoshop.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if polhelicoshop.selectedbutton < buttoncount then
					polhelicoshop.selectedbutton = polhelicoshop.selectedbutton +1
					if buttoncount > 10 and polhelicoshop.selectedbutton > polhelicoshop.menu.to then
						polhelicoshop.menu.to = polhelicoshop.menu.to + 1
						polhelicoshop.menu.from = polhelicoshop.menu.from + 1
					end
				end	
			end
		end
	end
end)

				
function ButtonSelected5(button)
	local ped = GetPlayerPed(-1)
	local this = polhelicoshop.currentmenu
	local btn = button.name
	if this == "mainpolice" then
		if btn == "Aucun hÃ©licoptÃ¨re disponible" then
			
		else
		     TriggerServerEvent('CheckpolheliForGaragePolice',button.model)
			 CloseCreatorpolheli()
			 polhelicoshop.opened = false
			 polhelicoshop.menu.from = 1
			 polhelicoshop.menu.to = 10	
		end
	else
	
	end
end


RegisterNetEvent('FinishpolheliCheckForGaragePolice')
AddEventHandler('FinishpolheliCheckForGaragePolice', function()
	boughtweapon = true
	CloseCreatorpolheli()
	polhelicoshop.opened = false
	polhelicoshop.menu.from = 1
	polhelicoshop.menu.to = 10
end)

function OpenMenu5(menu)
	polhelicoshop.lastmenu = polhelicoshop.currentmenu
	if menu == "mainpolice" then
		polhelicoshop.lastmenu = "main"
	elseif menu == "mainintervention"  then
		polhelicoshop.lastmenu = "main"
	elseif menu == 'race_create_objects' then
		polhelicoshop.lastmenu = "main"
	elseif menu == "race_create_objects_spawn" then
		polhelicoshop.lastmenu = "race_create_objects"
	end
	polhelicoshop.menu.from = 1
	polhelicoshop.menu.to = 10
	polhelicoshop.selectedbutton = 0
	polhelicoshop.currentmenu = menu	
end

function Back5()
	if backlock then
		return
	end
	backlock = true
	if polhelicoshop.currentmenu == "mainpolice" then
		CloseCreatorpolheli()
	elseif polhelicoshop.currentmenu == "police1" or polhelicoshop.currentmenu == "police2" or polhelicoshop.currentmenu == "police3" or polhelicoshop.currentmenu == "police4" or polhelicoshop.currentmenu == "police5" or polhelicoshop.currentmenu == "police6" then
		OpenMenu5(polhelicoshop.lastmenu)
	else
		OpenMenu5(polhelicoshop.lastmenu)
	end
end

function stringstarts5(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowHeliPoliceBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            local policemenu = {
	opened = false,
	title = "Menu Police",
	currentmenu = "main",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.1,
		y = 0.32,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main"] = { 
			title = "CATEGORIES", 
			name = "main",
			buttons = { 
				{name = "Interaction Citoyen", description = ""},
				{name = "Interaction VÃ©hicule", description = ""},
				{name = "Demande d'appui", description = ""},
				{name = "Radar de vitesse", description = ""},
				{name = "Wanted", description = ""},
				{name = "Annuler l'appel", description = ""},
				-- {name = "CÃ´ne Police", description = ""},
				-- {name = "SupprimÃ© CÃ´nes (Soon)", description = ""},
			}
		},
		["mainwanted"] = { 
			title = "Ajouter un Wanted", 
			name = "mainwanted",
			buttons = { 
			}
		},
		["maininteraction"] = { 
			title = "Interaction Citoyen", 
			name = "maininteraction",
			buttons = { 
				{name = "Carte d'identitÃ©", description = ''},
				{name = "Fouiller", description = ''},
				-- {name = "Casier Judiciaire (SOON)", description = ''},
				{name = "(De)Menotter", description = ''},
				{name = "Couper Zip Ties", description = ''},				
				-- {name = "Escorter (SOON)", description = ''},
				{name = "Mettre dans le vehicule", description = ''},
				{name = "Amende", description = ''},
				{name = "Saisir", description = ''},
			}
		},
		["mainretrait"] = { 
			title = "Saisir", 
			name = "mainretrait",
			buttons = { 
				{name = "Saisir Permis", description = ''},
				{name = "Saisir Armes", description = ''},
				{name = "Saisir Armes (SP)", description = ''},
				{name = "Saisir Argent sale", description = ''},
				{name = "Saisir Argent sale (Discretement)", description = ''},
			}
		},
		["permismenu"] = { 
			title = "Retrait de Permis", 
			name = "permismenu",
			buttons = { 
				{name = "Permis de Voiture", description = ''},
				{name = "Licence du Port d'armes", description = ''},
				{name = "Licence de Pilote", description = ''},
				{name = "Permis de Bateau", description = ''},
			}
		},
		["citoyen1"] = { 
			title = "Carte d'identitÃ©", 
			name = "citoyen1",
			buttons = { 
			}
		},
		["citoyen2"] = { 
			title = "Fouiller", 
			name = "citoyen2",
			buttons = { 
			}
		},
		["citoyen3"] = { 
			title = "Casier Judiciaire", 
			name = "citoyen3",
			buttons = { 
			}
		},
		["citoyen5"] = { 
			title = "Amende", 
			name = "citoyen5",
			buttons = { 
				{name = "Rappel Ã  la loi simple", description = {}, cost = 200, amid = 40},
                {name = "Rappel Ã  la loi grave", description = {}, cost = 500, amid = 41},
                {name = "Insulte Ã  agent", description = {}, cost = 5000, amid = 30},
                {name = "Infraction simple au CR", description = {}, cost = 1000, amid = 25},
                {name = "Infraction grave au CR", description = {}, cost = 5000, amid = 26},
                {name = "DÃ©lit de fuite", description = {}, cost = 20000, amid = 29},
                {name = "Conduite sans permis", description = {}, cost = 10000, amid = 33},
                {name = "Vol de vÃ©hicule", description = {}, cost = 50000, amid = 35},
                {name = "Coups et blessures", description = {}, cost = 7500, amid = 27},
                {name = "Port d'arme sans permis", description = {}, cost = 10000, amid = 32},
                {name = "Agression Ã  main armÃ©e", description = {}, cost = 10000, amid = 28},
                {name = "Tentative de vol Ã  main armÃ©e", description = {}, cost =  5000, amid =  42},
                {name = "Vol Ã  main armÃ©e", description = {}, cost =  15000, amid =  43},
                {name = "Tentative de meurtre", description = {}, cost =  7500, amid =  44},
                {name = "Homicide volontaire", description = {}, cost =  25000, amid =  45},
                {name = "Transport de substance illÃ©gale", description = {}, cost = 30000, amid = 31},
			}
		},
		["mainvehicle"] = { 
			title = "Interaction Vehicule", 
			name = "mainvehicle",
			buttons = { 
				{name = "Plaque d'immatriculation", description = ''},
				{name = "Fouiller", description = ''},
				{name = "Crocheter vÃ©hicule", description = ''},
			}
		},
		["vehicle1"] = { 
			title = "Plaque d'immatriculation", 
			name = "vehicle1",
			buttons = { 
				{name = "HelicoptÃ¨re Police", description = {}, model = "polmav"},
			}
		},
		["vehicle2"] = { 
			title = "Fouiller", 
			name = "vehicle2",
			buttons = { 
				{name = "HelicoptÃ¨re Police", description = {}, model = "polmav"},
			}
		},
	}
}

---Wanted


RegisterNetEvent('OpenWantedlist')
AddEventHandler('OpenWantedlist', function(tableall)
	
    local a = tableall

	policemenu.menu["mainwanted"].buttons = {}
	
	local i = 1
	while a[i] do
		
	nameplayerwanted = a[i]['player_name']
	idplayerwanted = a[i]['ig']
	wantedplayerwanted = a[i]['wanted']
    
	
    table.insert(policemenu.menu["mainwanted"].buttons, {name = nameplayerwanted, description = "", id = idplayerwanted, wanted = wantedplayerwanted})

	i = i + 1
	end

end)


RegisterNetEvent('OpenWantedlist2')
AddEventHandler('OpenWantedlist2', function()

	policemenu.currentmenu = "mainwanted"
	policemenu.opened = true
	policemenu.selectedbutton = 0
	
end)

local boughtweapon = false

local function LocalPed()
return GetPlayerPed(-1)
end

--Creator Weapon
function OpenCreatorPoliceMenu()		
	boughtweapon = false
	policemenu.currentmenu = "main"
	policemenu.opened = true
	policemenu.selectedbutton = 0
end
function CloseCreatorPoliceMenu()
	Citizen.CreateThread(function()
		policemenu.opened = false
		policemenu.menu.from = 1
		policemenu.menu.to = 10
		inmenucivil = 0
		inmenuinv = 0
		inmenujob = 0
	end)
end

--Menu pomenu

function drawMenuButton(button,x,y,selected)
	local menu = policemenu.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = policemenu.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = policemenu.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitlePol(txt,x,y)
local menu = policemenu.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,93,166,202,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function Notify6(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

function ShowNotificationPolMenu(text)
	SetNotificationTextEntry("STRING")
	AddTextComponentString(text)
	DrawNotification(false, false)
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,170) and (clientjobID == 10) then
			if IsPedInAnyVehicle(LocalPed(), true) == false then
			if (inmenuinv == 0) and (inmenucivil == 0) then
				if policemenu.opened then
					CloseCreatorPoliceMenu()
					inmenucivil = 0
				    inmenuinv = 0
				    inmenujob = 0
				else
					OpenCreatorPoliceMenu()
					freezetargetPol = totarget
					inmenucivil = 0
				    inmenuinv = 0
				    inmenujob = 1 --POLICE
				end
			end
		    else
		    ShowNotificationMenuCivil2("~r~Vous ne pouvez pas ouvrir le menu dans un vÃ©hicule !")
	        end
		end
		
		if IsControlJustPressed(1,170) and (clientjobID == 19) then
			if IsPedInAnyVehicle(LocalPed(), true) == false then
			if (inmenuinv == 0) and (inmenucivil == 0) then
				if policemenu.opened then
					CloseCreatorPoliceMenu()
					inmenucivil = 0
				    inmenuinv = 0
				    inmenujob = 0
				else
					OpenCreatorPoliceMenu()
					freezetargetPol = totarget
					inmenucivil = 0
				    inmenuinv = 0
				    inmenujob = 1 --POLICE
				end
			end
		    else
		    ShowNotificationMenuCivil2("~r~Vous ne pouvez pas ouvrir le menu dans un vÃ©hicule !")
	        end
		end
		
		if policemenu.opened then
			local ped = LocalPed()
			local menu = policemenu.menu[policemenu.currentmenu]
			drawTxt(policemenu.title,1,1,policemenu.menu.x,policemenu.menu.y,1.0, 255,255,255,255)
			drawMenuTitlePol(menu.title, policemenu.menu.x,policemenu.menu.y + 0.08)
			drawTxt(policemenu.selectedbutton.."/"..tablelength(menu.buttons),0,0,policemenu.menu.x + policemenu.menu.width/2 - 0.0385,policemenu.menu.y + 0.067,0.4, 255,255,255,255)
			local y = policemenu.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= policemenu.menu.from and i <= policemenu.menu.to then
					
					if i == policemenu.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,policemenu.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelected6(button)
					end
				end
			end	
		end
		if policemenu.opened then
			if IsControlJustPressed(1,202) then
				Back6()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if policemenu.selectedbutton > 1 then
					policemenu.selectedbutton = policemenu.selectedbutton -1
					if buttoncount > 10 and policemenu.selectedbutton < policemenu.menu.from then
						policemenu.menu.from = policemenu.menu.from -1
						policemenu.menu.to = policemenu.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if policemenu.selectedbutton < buttoncount then
					policemenu.selectedbutton = policemenu.selectedbutton +1
					if buttoncount > 10 and policemenu.selectedbutton > policemenu.menu.to then
						policemenu.menu.to = policemenu.menu.to + 1
						policemenu.menu.from = policemenu.menu.from + 1
					end
				end	
			end
		end
	end
end)

function playAnim(ped, animdict, anim, infinite)
	Citizen.CreateThread(function()
		while(not HasAnimDictLoaded(animdict))do
			RequestAnimDict(animdict)
			Citizen.Wait(0)
			
		end
		
						
		TaskPlayAnim(tonumber(ped), animdict, anim, 8.0, 0.0, -1, 0, 0, 1, 1, 1)
	end)
end
				    
function DrawMissionTextPolmenu(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

Cuffed = false

local function RandomNumber()
    return math.random(0,9)
end

OpenRadar = false
inputspeed = 0
BarrierePose = false

function ButtonSelected6(button)
	local ped = GetPlayerPed(-1)
	local this = policemenu.currentmenu
	local btn = button.name
	local vehiclose = GetVehiclePedIsTryingToEnter(ped)
	myvehi = GetVehiclePedIsUsing(GetPlayerPed(-1))
	posPolmenu = GetEntityCoords(GetPlayerPed(-1))
	carTargetPol = GetClosestVehicle(posPolmenu['x'], posPolmenu['y'], posPolmenu['z'], 10.0,0,70)
		if carTargetPol ~=nil then
			platecarTargetPol = GetVehicleNumberPlateText(carTargetPol)
		end
	
	if this == "main" then
		if btn == "Interaction Citoyen" then
			OpenMenuPoliMenu('maininteraction')
		elseif btn == "Interaction VÃ©hicule" then
			OpenMenuPoliMenu('mainvehicle')
		elseif btn == "Radar de vitesse" then
			OpenRadar = not OpenRadar
			if OpenRadar == true then
				DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
				inputspeed = 1
			else
			inputspeed = 0
			end
		elseif btn == "Wanted" then
			TriggerServerEvent('CheckWantedlist')
		elseif btn == "CÃ´ne Police" then
				Citizen.CreateThread(function()
				local ObjectID = GetHashKey("prop_roadcone02c")
				
				RequestModel(ObjectID)
				while not HasModelLoaded(ObjectID) do
				Citizen.Wait(0)
				end
				
				local ped = LocalPed()			
				local playerCoords = GetEntityCoords(ped)
				local playerCoords = playerCoords + vector3(0, -1, -0.87)
				
				CreateObject(ObjectID, playerCoords['x'], playerCoords['y'], playerCoords['z'], true, true, true)
				end)
				ShowNotificationPolMenu("~h~CÃ´ne ~g~posÃ©~w~.")
		elseif btn == "SupprimÃ© CÃ´nes" then
		        Citizen.CreateThread(function()
				local ped = LocalPed()			
				local playerCoords = GetEntityCoords(ped)
				local playerCoords = playerCoords + vector3(0, -1, -0.87)
			    ClearAreaOfObjects(playerCoords['x'], playerCoords['y'], playerCoords['z'], 20.001, 1008436154)
				end)
				ShowNotificationPolMenu("~h~CÃ´nes ~r~supprimÃ©s~w~.")		
		elseif btn == "Demande d'appui" then
		    callxx, callyy, callzz = table.unpack(GetEntityCoords(GetPlayerPed(-1) , true))
			TriggerServerEvent('Call911for911', callxx, callyy, callzz)
			
		elseif btn == "Annuler l'appel" then		
			StopInterPolice()				
	    end
	elseif this == "maininteraction" then
		if btn == "Carte d'identitÃ©" then
			TriggerServerEvent('IdentTarget2',freezetargetPol)
			
		elseif btn == "Fouiller" then
			TriggerServerEvent('TargetInv', freezetargetPol)
			TriggerServerEvent('WeaponFouilleTarget',freezetargetPol)
			CloseCreatorPoliceMenu()
			policemenu.opened = false
			policemenu.menu.from = 1
			policemenu.menu.to = 10
			inmenucivil = 0
			inmenuinv = 0
			inmenujob = 0
		elseif btn == "Casier Judiciaire" then
			OpenMenuPoliMenu('citoyen3')
			
		elseif btn == "(De)Menotter" then
			TriggerServerEvent('CheckCuff',freezetargetPol)	
			
		elseif btn == "Couper Zip Ties" then
			TriggerServerEvent('CheckCuff2',freezetargetPol)	
			
		elseif btn == "Escorter" then
			TriggerServerEvent('PlayerFollowServ', freezetargetPol)
			
	    elseif btn == "Mettre dans le vehicule" then
			TriggerServerEvent('GetPlayerToVeh', freezetargetPol)	
			
		elseif btn == "Amende" then
			OpenMenuPoliMenu('citoyen5')
			
		elseif btn == "Saisir" then
			OpenMenuPoliMenu('mainretrait')		
		
		end
		
	elseif this == "mainretrait" then
	
	    if btn == "Saisir Permis" then
		    OpenMenuPoliMenu('permismenu') 

		elseif btn == "Saisir Armes" then
		    Citizen.CreateThread(function()
                    TaskStartScenarioInPlace(GetPlayerPed(-1), "CODE_HUMAN_POLICE_INVESTIGATE", 0, 1)
					PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
					Citizen.Wait(10000)
					ClearPedTasksImmediately(GetPlayerPed(-1))
		
			TriggerServerEvent('CheckWeaponRetire',freezetargetPol)	
			ShowNotificationPolMenu("~h~Vous avez ~r~saisis ~w~les armes du citoyen.")
			end)
		elseif btn == "Saisir Armes (SP)" then
			TriggerServerEvent('CheckWeaponRetire2',freezetargetPol)	
			ShowNotificationPolMenu("~h~Vous avez ~r~saisis ~w~les armes du citoyen.")
			Citizen.Wait(1000)
			TriggerServerEvent('spawnWeaponForRespawn2', freezetargetPol)
			ShowNotificationPolMenu("~h~Vous avez rendu uniquement les ~b~armes lÃ©git~w~ du citoyen.")
		elseif btn == "Saisir Argent sale" then
			TriggerServerEvent('SaisirMoneyDirty',freezetargetPol)	
		elseif btn == "Saisir Argent sale (Discretement)" then
			TriggerServerEvent('SaisirMoneyDirtyDiscret',freezetargetPol)				
		end
	elseif this == "permismenu" then
		if btn == "Permis de Voiture" then
		    TriggerServerEvent('RetirePermis', freezetargetPol)		
			
		elseif btn == "Licence du Port d'armes" then
		    TriggerServerEvent('RetirePermis2', freezetargetPol)
			
		elseif btn == "Licence de Pilote" then
		    TriggerServerEvent('RetirePermis3', freezetargetPol)
			
		elseif btn == "Permis de Bateau" then
		    TriggerServerEvent('RetirePermis4', freezetargetPol)
			
		end
		
	elseif this == "mainvehicle" then
		if btn == "Plaque d'immatriculation" then
		    Citizen.CreateThread(function()
                    TaskStartScenarioInPlace(GetPlayerPed(-1), "CODE_HUMAN_MEDIC_TIME_OF_DEATH", 0, 1)
					PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
					Citizen.Wait(5000)
					ClearPedTasksImmediately(GetPlayerPed(-1))
		
		    
			TriggerServerEvent('CheckProprio', platecarTargetPol)
			 end)
		elseif btn == "Fouiller" then
		    Citizen.CreateThread(function()
                    TaskStartScenarioInPlace(GetPlayerPed(-1), "CODE_HUMAN_POLICE_INVESTIGATE", 0, 1)
					PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
					Citizen.Wait(10000)
					ClearPedTasksImmediately(GetPlayerPed(-1))
		
		    
		    ShowNotificationPolMenu("~h~~b~Coffre vÃ©hicule : ~w~")
		    ShowNotificationPolMenu("~w~ Vide.")
			end)
		elseif btn == "Crocheter vÃ©hicule" then
		    Citizen.CreateThread(function()
                    TaskStartScenarioInPlace(GetPlayerPed(-1), "WORLD_HUMAN_WELDING", 0, 1)
					PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
					ShowNotificationPolMenu('Crochetage en cours...')
					Citizen.Wait(10000)
					ClearPedTasksImmediately(GetPlayerPed(-1))

		
		    SetVehicleDoorsLocked(vehiclose, 1)
			SetVehicleDoorsLocked(carTargetPol, 1)
			ShowNotificationPolMenu("La voiture est ~g~Ouverte")
			
			end)
			
		end
	elseif this == "mainwanted" then
	    TriggerServerEvent('AddWanted', button.name, button.id, button.wanted)
			CloseCreatorPoliceMenu()
			policemenu.opened = false
			policemenu.menu.from = 1
			policemenu.menu.to = 10
			inmenucivil = 0
			inmenuinv = 0
			inmenujob = 0
    elseif this == "citoyen5" then
		TriggerServerEvent('CheckAmende',freezetargetPol, button.cost, button.amid, button.name)
		
	elseif this == "citoyen1" or this == "citoyen2" or this == "citoyen3" or this == "vehicle1" or this == "vehicle2" then
		TriggerServerEvent('CheckMenuPolice',button.amid)
	
	end
end

--Wanted retire notif

RegisterNetEvent('RetireWanted')
AddEventHandler('RetireWanted', function(name)
    ShowNotificationPolMenu("~h~Vous avez ~r~retirÃ©~w~ le WANTED du citoyen : ~b~"..name.."~w~.")
end)


--RADAR DE VITESSE

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if inputspeed == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputspeed = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputspeedpolice = GetOnscreenKeyboardResult()
					if string.len(inputspeedpolice) > 0 then
						ResultSpeed = inputspeedpolice
						inputspeed = 2
					else
						inputspeed = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputspeed = 0
			end
		end
		if inputspeed == 2 and (OpenRadar == true) then
		     local pos = GetEntityCoords(GetPlayerPed(-1))
			 local carM = GetClosestVehicle(pos['x'], pos['y'], pos['z'], 10.0,0,70)
			 local plate=GetVehicleNumberPlateText(carM)
			 local herSpeedKm= GetEntitySpeed(carM)*3.6
				  
			DrawRect(0.848000000000001, 0.344, 0.185, 0.147, 0, 0, 0, 150)--BG black
			DrawAdvancedText2(0.914000000000001, 0.286, 0.005, 0.0028, 0.8, "Radar", 255, 255, 255, 255, 1, 1)
			if plate ~= nil then
			DrawAdvancedText2(0.913000000000001, 0.343, 0.005, 0.0028, 0.4, "~b~"..plate, 255, 255, 255, 255, 0, 1)
			DrawAdvancedText2(0.915800000000001, 0.386, 0.005, 0.0028, 0.4, "~b~"..math.ceil(herSpeedKm).." ~w~Km/h", 255, 255, 255, 255, 0, 1)
			else
			DrawAdvancedText2(0.898000000000001, 0.350, 0.005, 0.0028, 0.4, "~h~Aucun vÃ©hicule", 255, 255, 255, 255, 0, 1)
			end
			
			--Exces
			if tonumber(herSpeedKm) >= tonumber(ResultSpeed) then
				DrawRect(0.848000000000001, 0.446, 0.185, 0.054, 135, 0, 0, 150)
				DrawAdvancedText2(0.90000000000001, 0.449, 0.005, 0.0028, 0.5, "~h~ExcÃ¨s de vitesse", 255, 255, 255, 255, 1, 1)
			end
		end
	end
end)

RegisterNetEvent("SetUpgrade")
AddEventHandler('SetUpgrade', function()
    Citizen.CreateThread(function()
        Citizen.Wait(1000)
            local ped = GetPlayerPed(-1)
			local car = GetVehiclePedIsUsing(ped)
			
			SetVehicleModKit(car, 0)
			ToggleVehicleMod(car, 18, true)--turbo
			ToggleVehicleMod(car, 22, true)--light
			SetVehicleMod(car, 16, 4, true)--armor
			SetVehicleMod(car, 12, 2, true)--frein
			SetVehicleMod(car, 11, 2, true)--moteur
			local na = RandomNumber()
			local nb = RandomNumber()
			local nc = RandomNumber()
			a = tostring(na)
    		b = tostring(nb)
    		c = tostring(nc)
			local plate = "LSPD-"
			plate = plate..a..b..c
			SetVehicleNumberPlateText(car,plate)			
			SetVehicleDirtLevel(car, 0.0)	
    end)
end)

RegisterNetEvent("SetUpgrade2")
AddEventHandler('SetUpgrade2', function()
    Citizen.CreateThread(function()
        Citizen.Wait(1000)
            local ped = GetPlayerPed(-1)
			local car = GetVehiclePedIsUsing(ped)
			
			SetVehicleModKit(car, 0)
			ToggleVehicleMod(car, 18, true)--turbo
			ToggleVehicleMod(car, 22, true)--light
			SetVehicleMod(car, 16, 4, true)--armor
			SetVehicleMod(car, 12, 2, true)--frein
			SetVehicleMod(car, 11, 2, true)--moteur			
			SetVehicleDirtLevel(car, 0.0)	
    end)
end)

RegisterNetEvent('CheckProprioPlate')
AddEventHandler('CheckProprioPlate', function(proprio)
    ShowNotificationPolMenu("~h~~b~Plaque d'immatriculation : ~w~")
	ShowNotificationPolMenu(platecarTargetPol)
	ShowNotificationPolMenu("~h~~b~PropriÃ©taire : ~w~")
	ShowNotificationPolMenu(proprio)
end)


RegisterNetEvent('CheckSaisisSale')
AddEventHandler('CheckSaisisSale', function(name)
	ShowNotificationPolMenu("~h~~b~"..name.."~w~ vous a ~r~saisi ~w~votre argent sale.")
end)

RegisterNetEvent('CheckSaisisSale2')
AddEventHandler('CheckSaisisSale2', function(name)
	ShowNotificationPolMenu("~h~Vous avez ~r~saisi ~w~l'argent sale de ~b~"..name.."~w~.")
end)


RegisterNetEvent('RetireWeapon')
AddEventHandler('RetireWeapon', function()
    local ped = GetPlayerPed(-1)
	ShowNotificationPolMenu("~h~On vous a ~r~retirÃ© ~w~vos armes")
	RemoveAllPedWeapons(ped)
end)

ammenderecu = 0

RegisterNetEvent('CheckAmendeFinish')
AddEventHandler('CheckAmendeFinish', function(amcost, namepol, nameamende, idamende)
	ShowNotificationPolMenu("~h~Vous avez reÃ§u une amende de ~r~"..amcost.." $ ~w~de la part de ~b~"..namepol)
	ShowNotificationPolMenu("~h~~w~pour ~b~"..nameamende)
	ShowNotificationPolMenu("~h~Pour payer l'amende appuyez sur ~g~Y~w~ pour refuser l'amende appuyez sur ~r~N~w~.")
	ammenderecu = 1
	paramamende1 = amcost
	paramamende2 = idamende
	paramamende3 = nameamende
	paramamende4 = namepol
end)

Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
	    if IsControlJustPressed(1,246) and (ammenderecu == 1) then
			
			TriggerServerEvent('CheckAmende2', paramamende1, paramamende2, paramamende3, paramamende4)
			ammenderecu = 0
	    end
		if IsControlJustPressed(1,249) and (ammenderecu == 1) then
			
			TriggerServerEvent('CheckAmende3', paramamende1, paramamende2, paramamende3, paramamende4)
			ammenderecu = 0
	    end
	end
end)

RegisterNetEvent('CheckAmendeFinish2')
AddEventHandler('CheckAmendeFinish2', function(amcost2, nameinfra, nameamende2)
	ShowNotificationPolMenu("~h~Vous avez mis une amende de ~r~"..amcost2.." $ ~w~Ã  ~b~"..nameinfra)
	ShowNotificationPolMenu("~h~~w~pour ~b~"..nameamende2)
end)

RegisterNetEvent('CheckAmendeFinish3')
AddEventHandler('CheckAmendeFinish3', function(name)
	ShowNotificationPolMenu("~h~~b~"..name.."~w~ a payÃ© son amende.")
end)

RegisterNetEvent('CheckAmendeFinish5')
AddEventHandler('CheckAmendeFinish5', function(name)
	ShowNotificationPolMenu("~h~~b~"..name.."~w~ a ~r~RefusÃ©~w~ de payer son amende.")
end)

RegisterNetEvent('CheckAmendeFinish6')
AddEventHandler('CheckAmendeFinish6', function()
	ShowNotificationPolMenu("~h~Vous avez ~r~RefusÃ©~w~ de payer l'amende.")
end)

RegisterNetEvent('CheckAmendeFinish4')
AddEventHandler('CheckAmendeFinish4', function()
	ShowNotificationPolMenu("~h~Vous avez ~g~payÃ©~w~ l'amende.")
end)

RegisterNetEvent('CheckRetraitPermisFinish')
AddEventHandler('CheckRetraitPermisFinish', function(namepol2)
	ShowNotificationPolMenu("~h~Votre permis de conduire viens d'Ãªtre ~r~ANNULÃ‰ ~w~par ~b~"..namepol2)
end)

RegisterNetEvent('CheckRetraitPermisFinish2')
AddEventHandler('CheckRetraitPermisFinish2', function(nameRetrait)
	ShowNotificationPolMenu("~h~Vous avez ~r~ANNULÃ‰ ~w~le permis de conduire de ~b~"..nameRetrait)
end)

RegisterNetEvent('CheckRetraitPermis2Finish')
AddEventHandler('CheckRetraitPermis2Finish', function(namepol2)
	ShowNotificationPolMenu("~h~Votre permis de port d'armes viens d'Ãªtre ~r~ANNULÃ‰ ~w~par ~b~"..namepol2)
end)

RegisterNetEvent('CheckRetraitPermis2Finish2')
AddEventHandler('CheckRetraitPermis2Finish2', function(nameRetrait)
	ShowNotificationPolMenu("~h~Vous avez ~r~ANNULÃ‰ ~w~le permis de port d'armes de ~b~"..nameRetrait)
end)

RegisterNetEvent('CheckRetraitPermis3Finish')
AddEventHandler('CheckRetraitPermis3Finish', function(namepol2)
	ShowNotificationPolMenu("~h~Votre Licence de Pilote viens d'Ãªtre ~r~ANNULÃ‰ ~w~par ~b~"..namepol2)
end)

RegisterNetEvent('CheckRetraitPermis3Finish2')
AddEventHandler('CheckRetraitPermis3Finish2', function(nameRetrait)
	ShowNotificationPolMenu("~h~Vous avez ~r~ANNULÃ‰ ~w~la Licence de Pilote de ~b~"..nameRetrait)
end)

RegisterNetEvent('CheckRetraitPermis4Finish')
AddEventHandler('CheckRetraitPermis4Finish', function(namepol2)
	ShowNotificationPolMenu("~h~Votre permis de bateau viens d'Ãªtre ~r~ANNULÃ‰ ~w~par ~b~"..namepol2)
end)

RegisterNetEvent('CheckRetraitPermis4Finish2')
AddEventHandler('CheckRetraitPermis4Finish2', function(nameRetrait)
	ShowNotificationPolMenu("~h~Vous avez ~r~ANNULÃ‰ ~w~le permis de bateau de ~b~"..nameRetrait)
end)

RegisterNetEvent('FinishMenuPolice')
AddEventHandler('FinishMenuPolice', function()
	boughtweapon = true
	CloseCreatorPoliceMenu()
	policemenu.opened = false
	policemenu.menu.from = 1
	policemenu.menu.to = 10
	inmenucivil = 0
	inmenuinv = 0
	inmenujob = 0
end)

function OpenMenuPoliMenu(menu)
	policemenu.lastmenu = policemenu.currentmenu
	if menu == "maininteraction" then
		policemenu.lastmenu = "main"
	elseif menu == "mainvehicle"  then
		policemenu.lastmenu = "main"
	else
		policemenu.lastmenu = "main"
	end
	policemenu.menu.from = 1
	policemenu.menu.to = 10
	policemenu.selectedbutton = 0
	policemenu.currentmenu = menu	
end

function Back6()
	if backlock then
		return
	end
	backlock = true
	if policemenu.currentmenu == "main" then
		CloseCreatorPoliceMenu()
		policemenu.opened = false
		policemenu.menu.from = 1
		policemenu.menu.to = 10
		inmenucivil = 0
		inmenuinv = 0
		inmenujob = 0
	elseif policemenu.currentmenu == "citoyen1" or policemenu.currentmenu == "citoyen2" or policemenu.currentmenu == "citoyen3" or policemenu.currentmenu == "citoyen4" or policemenu.currentmenu == "citoyen5" or policemenu.currentmenu == "vehicle1" or policemenu.currentmenu == "vehicle2" then
		OpenMenuPoliMenu(policemenu.lastmenu)
	else
		OpenMenuPoliMenu(policemenu.lastmenu)
	end
end

function stringstarts6(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           local vestiaireshop = {
	opened = false,
	title = "Vestiaire",
	currentmenu = "mainpolice",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.9,
		y = 0.20,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["mainpolice"] = { 
			title = "Los Santos Police Department", 
			name = "mainpolice",
			buttons = { 
				
			}
		},
	}
}

RegisterNetEvent('PoliceVestiaire1')
AddEventHandler('PoliceVestiaire1', function()
	
	vestiaireshop.menu["mainpolice"].buttons = {}
	
	if (clientrankid == 27) then --Cadet
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Uniforme Cadet", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Gilet jaune", description = {}})		
	elseif (clientrankid == 28) then --Sergent
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Uniforme Sergent", description = {}})	 
	    -- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Casquette Police", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Gilet par balle", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Enlever Gilet Par balle", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Cagoule 1", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Cagoule 2", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Cagoule 3", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Enlever Cagoule", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Gilet jaune", description = {}})
	elseif (clientrankid == 29) then --SergentChef
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Uniforme SergentChef", description = {}})	 
	    -- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Casquette Police", description = {}})	 
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Gilet par balle", description = {}}) 
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Enlever Gilet Par balle", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Casque pilote", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Cagoule 1", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Cagoule 2", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Cagoule 3", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Enlever Cagoule", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Gilet jaune", description = {}})
	elseif (clientrankid == 30) then --Lieutenant
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Uniforme Lieutenant", description = {}})	 
	    -- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Casquette Police", description = {}})	 
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Gilet par balle", description = {}}) 
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Enlever Gilet Par balle", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Casque pilote", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Cagoule 1", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Cagoule 2", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Cagoule 3", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Enlever Cagoule", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Gilet jaune", description = {}})
	elseif (clientrankid == 3) then --Capitaine
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Uniforme Capitaine", description = {}})		 
	    -- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Casquette Police", description = {}})  
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Gilet par balle", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Enlever Gilet Par balle", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Casque pilote", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Cagoule 1", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Cagoule 2", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Cagoule 3", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Enlever Cagoule", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Gilet jaune", description = {}})
	else
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Uniforme Cadet", description = {}})
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Gilet jaune", description = {}})
	end
		
	    table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Enlever Gilet jaune", description = {}})
	
	
end)

-- RegisterNetEvent('PoliceVestiaire1')
-- AddEventHandler('PoliceVestiaire1', function()
	
	-- vestiaireshop.menu["mainpolice"].buttons = {}
	
	    -- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Police", description = {}, model = "S_M_Y_Cop_01"})
	-- if (clientrankid == 28) then --Sergent
		-- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Pilote Helicoptere", description = {}, model = "S_M_Y_Pilot_01"})
		-- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Motard", description = {}, model = "S_M_Y_HwayCop_01"})
		-- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Ranger", description = {}, model = "S_M_Y_Ranger_01"})
		-- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Gardien Prison", description = {}, model = "S_M_M_PrisGuard_01"})
	-- elseif (clientrankid == 29) then --SergentChef
		-- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Pilote Helicoptere", description = {}, model = "S_M_Y_Pilot_01"})
		-- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Motard", description = {}, model = "S_M_Y_HwayCop_01"})
		-- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Ranger", description = {}, model = "S_M_Y_Ranger_01"})
		-- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Gardien Prison", description = {}, model = "S_M_M_PrisGuard_01"})
		-- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "NOOSE", description = {}, model = "S_M_Y_Swat_01"})
	-- elseif (clientrankid == 30) then --Lieutenant
		-- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Pilote Helicoptere", description = {}, model = "S_M_Y_Pilot_01"})
		-- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Motard", description = {}, model = "S_M_Y_HwayCop_01"})
		-- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Ranger", description = {}, model = "S_M_Y_Ranger_01"})
		-- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Gardien Prison", description = {}, model = "S_M_M_PrisGuard_01"})
		-- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "NOOSE", description = {}, model = "S_M_Y_Swat_01"})
		-- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Sheriff", description = {}, model = "S_M_Y_Sheriff_01"})
	-- elseif (clientrankid == 3) then --Capitaine
		-- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Pilote Helicoptere", description = {}, model = "S_M_Y_Pilot_01"})
		-- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Motard", description = {}, model = "S_M_Y_HwayCop_01"})
		-- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Ranger", description = {}, model = "S_M_Y_Ranger_01"})
		-- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Gardien Prison", description = {}, model = "S_M_M_PrisGuard_01"})
		-- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "NOOSE", description = {}, model = "S_M_Y_Swat_01"})
		-- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Sheriff", description = {}, model = "S_M_Y_Sheriff_01"})
		-- table.insert(vestiaireshop.menu["mainpolice"].buttons, {name = "Detective", description = {}, model = "U_M_M_ProMourn_01"})
	-- end
	
	
-- end)


RegisterNetEvent('PoliceVestiaire2')
AddEventHandler('PoliceVestiaire2', function()

	vestiaireshop.currentmenu = "mainpolice"
	vestiaireshop.opened = true
	vestiaireshop.selectedbutton = 0
	
end)

local Police_locations = {
{vestiaire = {451.3939,-992.4745,29.6896}, armurerie = {451.3939,-992.4745,29.6896}, outside = {441.3279,-983.8997,30.6896}},
}

local Police_blips ={}
local inrangeofPolice = false
local currentlocation = nil
local boughtweapon = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfPolice()
return inrangeofPolice
end

function ShowPoliceVestaireBlips(bool)
	if bool and #Police_blips == 0 then
		for station,pos in pairs(Police_locations) do
			local loc = pos
			pos = pos.outside
			table.insert(Police_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #Police_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(Police_blips) do
					if (clientjobID == 10) and  GetDistanceBetweenCoords(b.pos.vestiaire[1],b.pos.vestiaire[2],b.pos.vestiaire[3],GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(0,b.pos.vestiaire[1],b.pos.vestiaire[2],b.pos.vestiaire[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.vestiaire[1],b.pos.vestiaire[2],b.pos.vestiaire[3],GetEntityCoords(LocalPed()),true) < 3 then
					    ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour choisir votre ~b~Tenue.", 0)
						inrange = true
						end
					end
				end
				inrangeofPolice = inrange
			end
		end)
	elseif bool == false and #Police_blips > 0 then
		for i,b in ipairs(Police_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		Police_blips = {}
	end
end

--Creator Weapon
function OpenCreatorVestiaire()		
	boughtweapon = false
	local ped = LocalPed()
	local pos = currentlocation.pos.vestiaire
	FreezeEntityPosition(ped,true)
	local g = Citizen.InvokeNative(0xC906A7DAB05C8D2B,pos[1],pos[2],pos[3],Citizen.PointerValueFloat(),0)
	-- SetEntityCoords(ped,pos[1],pos[2],g)
	vestiaireshop.currentmenu = "mainpolice"
	vestiaireshop.opened = true
	vestiaireshop.selectedbutton = 0
end
function CloseCreatorVestiaire()
	Citizen.CreateThread(function()
		local ped = LocalPed()
		if not boughtweapon then
			local pos = currentlocation.pos.vestiaire
			-- SetEntityCoords(ped,pos[1],pos[2],pos[3])
			FreezeEntityPosition(ped,false)
		else
			local model = GetEntityModel(cloth)

			Citizen.InvokeNative(0xEA386986E786A54F, Citizen.PointerValueIntInitialized(cloth))
			local pos = currentlocation.pos.vestiaire

			FreezeEntityPosition(ped,false)
			RequestModel(model)
			while not HasModelLoaded(model) do
				Citizen.Wait(0)
			end
			SetModelAsNoLongerNeeded(model)
			SetClothHasBeenOwnedByPlayer(skin,true)
			local id = NetworkGetNetworkIdFromEntity(skin)
			SetNetworkIdCanMigrate(id, true)
			Citizen.InvokeNative(0x629BFA74418D6239,Citizen.PointerValueIntInitialized(skin))
			SetEntityVisible(ped,true)
			FreezeEntityPosition(ped,false)
			TriggerEvent('BoughtPv',skin)		
		end
		vestiaireshop.opened = false
		vestiaireshop.menu.from = 1
		vestiaireshop.menu.to = 10
	end)
end

--Menu Vestiaire

function drawMenuButton(button,x,y,selected)
	local menu = vestiaireshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = vestiaireshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = vestiaireshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitle(txt,x,y)
local menu = vestiaireshop.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function Notify2(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfPolice() then
			if vestiaireshop.opened then
				
			else
				TriggerServerEvent('OpenVestiairepol')
			end
		end
		if vestiaireshop.opened then
			local ped = LocalPed()
			local menu = vestiaireshop.menu[vestiaireshop.currentmenu]
			drawTxt(vestiaireshop.title,1,1,vestiaireshop.menu.x,vestiaireshop.menu.y,1.0, 255,255,255,255)
			drawMenuTitle(menu.title, vestiaireshop.menu.x,vestiaireshop.menu.y + 0.08)
			drawTxt(vestiaireshop.selectedbutton.."/"..tablelength(menu.buttons),0,0,vestiaireshop.menu.x + vestiaireshop.menu.width/2 - 0.0385,vestiaireshop.menu.y + 0.067,0.4, 255,255,255,255)
			local y = vestiaireshop.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= vestiaireshop.menu.from and i <= vestiaireshop.menu.to then
					
					if i == vestiaireshop.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,vestiaireshop.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelected2(button)
					end
				end
			end	
		end
		if vestiaireshop.opened then
			if IsControlJustPressed(1,202) then
				Back2()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if vestiaireshop.selectedbutton > 1 then
					vestiaireshop.selectedbutton = vestiaireshop.selectedbutton -1
					if buttoncount > 10 and vestiaireshop.selectedbutton < vestiaireshop.menu.from then
						vestiaireshop.menu.from = vestiaireshop.menu.from -1
						vestiaireshop.menu.to = vestiaireshop.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if vestiaireshop.selectedbutton < buttoncount then
					vestiaireshop.selectedbutton = vestiaireshop.selectedbutton +1
					if buttoncount > 10 and vestiaireshop.selectedbutton > vestiaireshop.menu.to then
						vestiaireshop.menu.to = vestiaireshop.menu.to + 1
						vestiaireshop.menu.from = vestiaireshop.menu.from + 1
					end
				end	
			end
		end
	end
end)

				
function ButtonSelected2(button)
	local ped = GetPlayerPed(-1)
	local this = vestiaireshop.currentmenu
	local btn = button.name
	if this == "mainpolice" then
		if btn == "Uniforme Cadet" then
			SetPedComponentVariation(GetPlayerPed(-1), 3, 30, 0, 0)--Gants
			SetPedComponentVariation(GetPlayerPed(-1), 4, 35, 0, 0)--Jean
			SetPedComponentVariation(GetPlayerPed(-1), 6, 24, 0, 0)--Chaussure
			SetPedComponentVariation(GetPlayerPed(-1), 8, 58, 0, 0)--mattraque
			SetPedComponentVariation(GetPlayerPed(-1), 11, 55, 0, 0)--Veste
			SetPedPropIndex(GetPlayerPed(-1), 2, 2, 0, 1)--Oreillete
			SetPedPropIndex(GetPlayerPed(-1), 6, 3, 0, 1)--Montre
			SetPedPropIndex(GetPlayerPed(-1), 1, 7, 0, 1)--Lunette
		elseif btn == "Uniforme Sergent" then
			SetPedComponentVariation(GetPlayerPed(-1), 3, 30, 0, 0)--Gants
			SetPedComponentVariation(GetPlayerPed(-1), 4, 35, 0, 0)--Jean
			SetPedComponentVariation(GetPlayerPed(-1), 6, 24, 0, 0)--Chaussure
			SetPedComponentVariation(GetPlayerPed(-1), 8, 58, 0, 0)--mattraque
			SetPedComponentVariation(GetPlayerPed(-1), 11, 55, 0, 0)--Veste
			SetPedPropIndex(GetPlayerPed(-1), 2, 2, 0, 1)--Oreillete
			SetPedPropIndex(GetPlayerPed(-1), 6, 3, 0, 1)--Montre
			SetPedPropIndex(GetPlayerPed(-1), 1, 7, 0, 1)--Lunette
		elseif btn == "Uniforme SergentChef" then
			SetPedComponentVariation(GetPlayerPed(-1), 3, 30, 0, 0)--Gants
			SetPedComponentVariation(GetPlayerPed(-1), 4, 35, 0, 0)--Jean
			SetPedComponentVariation(GetPlayerPed(-1), 6, 24, 0, 0)--Chaussure
			SetPedComponentVariation(GetPlayerPed(-1), 8, 58, 0, 0)--mattraque
			SetPedComponentVariation(GetPlayerPed(-1), 11, 55, 0, 0)--Veste
			SetPedComponentVariation(GetPlayerPed(-1), 10, 8, 2, 0)--Grade
			SetPedPropIndex(GetPlayerPed(-1), 2, 2, 0, 1)--Oreillete
			SetPedPropIndex(GetPlayerPed(-1), 6, 3, 0, 1)--Montre
			SetPedPropIndex(GetPlayerPed(-1), 1, 7, 0, 1)--Lunette
		elseif btn == "Uniforme Lieutenant" then
			SetPedComponentVariation(GetPlayerPed(-1), 3, 30, 0, 0)--Gants
			SetPedComponentVariation(GetPlayerPed(-1), 4, 35, 0, 0)--Jean
			SetPedComponentVariation(GetPlayerPed(-1), 6, 24, 0, 0)--Chaussure
			SetPedComponentVariation(GetPlayerPed(-1), 8, 58, 0, 0)--mattraque
			SetPedComponentVariation(GetPlayerPed(-1), 11, 55, 0, 0)--Veste
			SetPedComponentVariation(GetPlayerPed(-1), 10, 8, 2, 0)--Grade
			SetPedPropIndex(GetPlayerPed(-1), 2, 2, 0, 1)--Oreillete
			SetPedPropIndex(GetPlayerPed(-1), 6, 3, 0, 1)--Montre
			SetPedPropIndex(GetPlayerPed(-1), 1, 7, 0, 1)--Lunette
		elseif btn == "Uniforme Capitaine" then
			SetPedComponentVariation(GetPlayerPed(-1), 3, 30, 0, 0)--Gants
			SetPedComponentVariation(GetPlayerPed(-1), 4, 35, 0, 0)--Jean
			SetPedComponentVariation(GetPlayerPed(-1), 6, 24, 0, 0)--Chaussure
			SetPedComponentVariation(GetPlayerPed(-1), 8, 58, 0, 0)--mattraque
			SetPedComponentVariation(GetPlayerPed(-1), 11, 55, 0, 0)--Veste
			SetPedComponentVariation(GetPlayerPed(-1), 10, 8, 3, 0)--Grade
			SetPedPropIndex(GetPlayerPed(-1), 2, 2, 0, 1)--Oreillete
			SetPedPropIndex(GetPlayerPed(-1), 6, 3, 0, 1)--Montre
			SetPedPropIndex(GetPlayerPed(-1), 1, 18, 2, 1)--Lunette
		elseif btn == "Casquette Police" then
			SetPedPropIndex(GetPlayerPed(-1), 0, 46, 0, 1)--Lunette
		elseif btn == "Gilet par balle" then
			SetPedComponentVariation(GetPlayerPed(-1), 9, 10, 1, 2)--Gilet
			
		elseif btn == "Enlever Gilet Par balle" then
			SetPedComponentVariation(GetPlayerPed(-1), 9, 14, 1, 2)--Sans Gilet			
			
		elseif btn == "Casque pilote" then
			SetPedPropIndex(GetPlayerPed(-1), 0, 19, 0, 1)--Casque Pilote
			
		elseif btn == "Enlever Gilet jaune" then
			SetPedComponentVariation(GetPlayerPed(-1), 8, 58, 0, 0)--mattraque
			
		elseif btn == "Gilet jaune" then
			SetPedComponentVariation(GetPlayerPed(-1), 8, 59, 0, 0)--GiletJaune
		
		elseif btn == "Cagoule 3" then
			SetPedComponentVariation(GetPlayerPed(-1), 1, 56, 1, 0)--Cagoule
			
		elseif btn == "Cagoule 2" then
			SetPedComponentVariation(GetPlayerPed(-1), 1, 35, 0, 0)--Cagoule
		
		elseif btn == "Cagoule 1" then
			SetPedComponentVariation(GetPlayerPed(-1), 1, 52, 0, 0)--Cagoule
			
		elseif btn == "Enlever Cagoule" then
			SetPedComponentVariation(GetPlayerPed(-1), 1, 0, 0, 0)--Sans Cagoule
			
			
			
		else	
		CloseCreatorVestiaire()
		vestiaireshop.opened = false
		vestiaireshop.menu.from = 1
		vestiaireshop.menu.to = 10
		
		end
	else
		-- TriggerServerEvent('CheckVestiaireForPolice',button.model)
	end
end


RegisterNetEvent('FinishVestiaireCheckForPolice')
AddEventHandler('FinishVestiaireCheckForPolice', function()
	boughtweapon = true
	CloseCreatorVestiaire()
	vestiaireshop.opened = false
	vestiaireshop.menu.from = 1
	vestiaireshop.menu.to = 10
end)

function OpenMenu2(menu)
	vestiaireshop.lastmenu = vestiaireshop.currentmenu
	if menu == "mainintervention"  then
		vestiaireshop.lastmenu = "main"
	elseif menu == 'race_create_objects' then
		vestiaireshop.lastmenu = "main"
	elseif menu == "race_create_objects_spawn" then
		vestiaireshop.lastmenu = "race_create_objects"
	end
	vestiaireshop.menu.from = 1
	vestiaireshop.menu.to = 10
	vestiaireshop.selectedbutton = 0
	vestiaireshop.currentmenu = menu	
end

function Back2()
	if backlock then
		return
	end
	backlock = true
	if vestiaireshop.currentmenu == "mainpolice" then
		CloseCreatorVestiaire()
		vestiaireshop.opened = false
		vestiaireshop.menu.from = 1
		vestiaireshop.menu.to = 10
		
	elseif vestiaireshop.currentmenu == "police1" or vestiaireshop.currentmenu == "police2" or vestiaireshop.currentmenu == "police3" or vestiaireshop.currentmenu == "police4" or vestiaireshop.currentmenu == "police5" or vestiaireshop.currentmenu == "police6" then
		OpenMenu2(vestiaireshop.lastmenu)
	else
		OpenMenu2(vestiaireshop.lastmenu)
	end
end

function stringstarts2(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowPoliceVestaireBlips(true)
	firstspawn = 1
end
end)   local FederalJail = {
	opened = false,
	title = "FederalJail",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}
local FederalJail_locations = {
{enteringjail = {1677.988,2593.735,44.5649}, innutiljail = {-793.535,327.1247,209.7967}, outsidejail = {1812.396,2606.387,45.57418}},
}

local FederalJail_blips ={}
local inrangeofFederalJail = false
local inrangeofFederalJail2 = false
local inrangeofFederalJail3 = false
local inrangeofFederalJail4 = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfFederalJail()
return inrangeofFederalJail
end

function IsPlayerInRangeOfFederalJail2()
return inrangeofFederalJail2
end

function IsPlayerInRangeOfFederalJail3()
return inrangeofFederalJail3
end

function IsPlayerInRangeOfFederalJail4()
return inrangeofFederalJail4
end

function ShowFederalJailBlips(bool)
	if bool and #FederalJail_blips == 0 then
		for station,pos in pairs(FederalJail_locations) do
			local loc = pos
			pos = pos.outsidejail
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,188)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Prison FÃ©dÃ©rale')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(FederalJail_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #FederalJail_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				local inrange2 = false
				local inrange3 = false
				local inrange4 = false
				for i,b in ipairs(FederalJail_blips) do
					-- if IsPlayerWantedLevelGreater(GetPlayerIndex(),0) == false and FederalJail.opened == false and  GetDistanceBetweenCoords(b.pos.enteringjail[1],b.pos.enteringjail[2],b.pos.enteringjail[3],GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(0,b.pos.enteringjail[1],b.pos.enteringjail[2],b.pos.enteringjail[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						-- currentlocation = b
						-- if GetDistanceBetweenCoords(b.pos.enteringjail[1],b.pos.enteringjail[2],b.pos.enteringjail[3],GetEntityCoords(LocalPed()),true) < 2 then
							-- drawTxt('Appuyez sur ~g~ENTRER~s~ pour ~h~entrer',0,1,0.5,0.8,0.6,255,255,255,255)
							-- inrange = true
						-- end
					-- end
					-- if IsPlayerWantedLevelGreater(GetPlayerIndex(),0) == false and FederalJail.opened == false and  GetDistanceBetweenCoords(-781.7051,322.3455,210.9972,GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(0,1770.264,2646.714,44.56492,0,0,0,0,0,0,2.001,2.0001,0.5001,255,219,41,200,0,0,0,0)
						-- currentlocation = b
						-- if GetDistanceBetweenCoords(1770.264,2646.714,44.56492,GetEntityCoords(LocalPed()),true) < 2 then
							-- drawTxt('Appuyez sur ~g~ENTRER~s~ pour ~h~sortir',0,1,0.5,0.8,0.6,255,255,255,255)
							-- inrange2 = true
						-- end
					-- end
					-- if IsPlayerWantedLevelGreater(GetPlayerIndex(),0) == false and FederalJail.opened == false and  GetDistanceBetweenCoords(-785.1324,323.5163,210.9972,GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(0,1690.846,2591.151,44.91372,0,0,0,0,0,0,2.001,2.0001,0.5001,255,219,41,200,0,0,0,0)
						-- currentlocation = b
						-- if GetDistanceBetweenCoords(1690.846,2591.151,44.91372,GetEntityCoords(LocalPed()),true) < 2 then
							-- drawTxt('~g~Entrer Prisonnier',0,1,0.5,0.8,0.6,255,255,255,255)
							-- inrange3 = true
						-- end
					-- end
					-- if IsPlayerWantedLevelGreater(GetPlayerIndex(),0) == false and FederalJail.opened == false and  GetDistanceBetweenCoords(-429.5731,1109.596,326.6823,GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(0,1753.023,2648.314,44.56492,0,0,0,0,0,0,2.001,2.0001,0.5001,255,219,41,200,0,0,0,0)
						-- currentlocation = b
						-- if GetDistanceBetweenCoords(1753.023,2648.314,44.56492,GetEntityCoords(LocalPed()),true) < 2 then
							-- drawTxt('~g~Sortit prisonnier',0,1,0.5,0.8,0.6,255,255,255,255)
							-- inrange4 = true
						-- end
					-- end
					if (clientjobID ~= 10) and GetDistanceBetweenCoords(460.4543,-994.1266,24.91487,GetEntityCoords(LocalPed()),true) > 0 then
						currentlocation = b
						if GetDistanceBetweenCoords(460.4543,-994.1266,24.91487,GetEntityCoords(LocalPed()),true) < 3 then
							inrange4 = true
						end
					end
					if (clientjobID ~= 10) and GetDistanceBetweenCoords(458.8413,-997.6898,24.91485,GetEntityCoords(LocalPed()),true) > 0 then
						currentlocation = b
						if GetDistanceBetweenCoords(458.8413,-997.6898,24.91485,GetEntityCoords(LocalPed()),true) < 3 then
							inrange4 = true
						end
					end
					if (clientjobID ~= 10) and GetDistanceBetweenCoords(459.0847,-1001.829,24.91487,GetEntityCoords(LocalPed()),true) > 0 then
						currentlocation = b
						if GetDistanceBetweenCoords(459.0847,-1001.829,24.91487,GetEntityCoords(LocalPed()),true) < 3 then
							inrange4 = true
						end
					end		
					if (clientjobID ~= 10) and GetDistanceBetweenCoords(440.8971,-981.0792,30.68959,GetEntityCoords(LocalPed()),true) > 0 then
						currentlocation = b
						if GetDistanceBetweenCoords(440.8971,-981.0792,30.68959,GetEntityCoords(LocalPed()),true) < 1 then
							 ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour changer votre ~b~Tenue.", 0)
						     inrange3 = true
						end
					end		
				end
				inrangeofFederalJail = inrange
				inrangeofFederalJail2 = inrange2
				inrangeofFederalJail3 = inrange3
				inrangeofFederalJail4 = inrange4
			end
		end)
	elseif bool == false and #FederalJail_blips > 0 then
		for i,b in ipairs(FederalJail_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		FederalJail_blips = {}
	end
end

injailfede = false

function clearPed()
    ClearAllPedProps(GetPlayerPed(-1))
	TriggerServerEvent('SetVariationServer')
end	

injail = 0
--Tenue Prisonnier
Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if inrangeofFederalJail4 and injail == 0 then
		    
			clearPed()
			Citizen.Wait(1000)
			SetPedComponentVariation(GetPlayerPed(-1), 4, 7, 15, 0)--Pantalon
			SetPedComponentVariation(GetPlayerPed(-1), 11, 5, 0, 0)--Debardeur
			SetPedComponentVariation(GetPlayerPed(-1), 8,15,0,0)
			SetPedComponentVariation(GetPlayerPed(-1), 3, 5, 0, 0)--Bras
			SetPedComponentVariation(GetPlayerPed(-1), 6, 34, 0, 0)--Pied
			SetPedComponentVariation(GetPlayerPed(-1), 1, 0, 0, 0)
			injail = 1			
			inrange4 = false
			injailfede = false
        end
		if not inrangeofFederalJail4 then
		    injail = 0
        end
    end
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if inrangeofFederalJail3 and IsControlJustPressed(1,38) then
			clearPed()
			inrange3 = false
        end
    end
end)

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowFederalJailBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
local invmenutarget = {
	opened = false,
	title = "Inventaire",
	currentmenu = "main",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.1,
		y = 0.32,
		width = 0.2,
		height = 0.04,
		buttons = 9,
		from = 1,
		to = 9,
		scale = 0.4,
		font = 0,
		["main"] = { 
			title = "", 
			name = "main",
			buttons = {
				
			}
		},
		["itemmenu"] = { 
			title = "", 
			name = "itemmenu",
			buttons = { 
				{name = "Saisir", description = ''},
				{name = "Prendre discrÃ¨tement", description = 'Hop dans ma poche...'},
			}
		},
	}
}


RegisterNetEvent('MyInvClientTarget')
AddEventHandler('MyInvClientTarget', function(playerinventory,iteminfo,playername,target)
	playertarget = target
	playernametarget = playername
	inmenucivil = 0
	inmenuinv = 1
	inmenujob = 0
	iteminuse = 0
	local insrt = table.insert
	invmenutarget.menu["main"].title = playername
	invmenutarget.menu["main"].buttons = {}
	local counttable = tablelength(playerinventory)
	local countbutton = 0
	i = 1

	while countbutton ~= counttable do
		item = playerinventory[iteminfo[i]['item_price_name']]
		if item ~= null then
			if item > 1 then
				nametext = iteminfo[i]['name_pluriel']
			else
				nametext = iteminfo[i]['name_singulier']
			end
			finaltext = item.." "..nametext
			refname = iteminfo[i]['item_price_name']
			fct = iteminfo[i]['function_use_item']
			reftext = iteminfo[i]['name_singulier']
			insrt(invmenutarget.menu["main"].buttons, {name = finaltext, description = "", ref = refname, itemnumber = item,textsing = reftext, use = fct})
			countbutton = countbutton + 1
		end
		i = i + 1
	end

	invmenutarget.currentmenu = "main"
	invmenutarget.opened = true
	invmenutarget.selectedbutton = 0
end)

local function LocalPed()
return GetPlayerPed(-1)
end

function CloseCreatorinvmenutarget()
	Citizen.CreateThread(function()
		invmenutarget.opened = false
		invmenutarget.menu.from = 1
		invmenutarget.menu.to = 10
		inmenucivil = 0
		inmenuinv = 0
		inmenujob = 0
		afficheweaponfouille = false
	end)
end

--Fouiller
 
 
 afficheweaponfouille = false
 
 RegisterNetEvent('OpenWeaponFouille')
 AddEventHandler('OpenWeaponFouille', function(weapontable, dirtymoney)
 	afficheweaponfouille = not afficheweaponfouille
 	
 	targetargentsale = dirtymoney
 	
 	tableweapontarget = weapontable	
 	
 end)
 
 Citizen.CreateThread(function()
 	while true do
         Citizen.Wait(0)	
 		    			
 			if (afficheweaponfouille == true) then
 			
 		    DrawRect(0.875000000000001, 0.440, 0.185, 0.330, 0, 0, 0, 150)
 			DrawAdvancedText2(0.928000000000001, 0.300, 0.005, 0.0028, 0.8, "Argent sale", 255, 255, 255, 255, 1, 1)
 			DrawAdvancedText2(0.889000000000001, 0.360, 0.005, 0.0028, 0.4, "~r~"..targetargentsale.." $", 255, 255, 255, 255, 0, 1)
 			DrawAdvancedText2(0.945000000000001, 0.400, 0.005, 0.0028, 0.8, "Armes", 255, 255, 255, 255, 1, 1)
 			
 			local a = tableweapontarget	
 			local i = 1
 			local hauteur = 0.450
 			while a[i] do
 			weaponnametarget = a[i]['weapons_name_reel']
 			DrawAdvancedText2(0.889000000000001, hauteur, 0.005, 0.0028, 0.3, "~b~"..weaponnametarget, 255, 255, 255, 255, 0, 1)
 			i = i + 1
 			hauteur = hauteur + 0.020
 			end
 			
 			
 			end
 	end
 end)

--Menu pomenu

function drawMenuButton(button,x,y,selected)
	local menu = invmenutarget.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuTitleInv(txt,x,y)
local menu = invmenutarget.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,93,166,202,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function Notifyinvmenutarget(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if invmenutarget.opened then
			local ped = LocalPed()
			local menu = invmenutarget.menu[invmenutarget.currentmenu]
			drawTxt(invmenutarget.title,1,1,invmenutarget.menu.x,invmenutarget.menu.y,1.0, 255,255,255,255)
			drawMenuTitleInv(menu.title, invmenutarget.menu.x,invmenutarget.menu.y + 0.08)
			drawTxt(invmenutarget.selectedbutton.."/"..tablelength(menu.buttons),0,0,invmenutarget.menu.x + invmenutarget.menu.width/2 - 0.0385,invmenutarget.menu.y + 0.067,0.4, 255,255,255,255)
			local y = invmenutarget.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= invmenutarget.menu.from and i <= invmenutarget.menu.to then
					
					if i == invmenutarget.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,invmenutarget.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedinvmenutarget(button)
					end
				end
			end	
		end
		if invmenutarget.opened then
			if IsControlJustPressed(1,202) then
				Backinvmenutarget()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if invmenutarget.selectedbutton > 1 then
					invmenutarget.selectedbutton = invmenutarget.selectedbutton -1
					if buttoncount > 10 and invmenutarget.selectedbutton < invmenutarget.menu.from then
						invmenutarget.menu.from = invmenutarget.menu.from -1
						invmenutarget.menu.to = invmenutarget.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if invmenutarget.selectedbutton < buttoncount then
					invmenutarget.selectedbutton = invmenutarget.selectedbutton +1
					if buttoncount > 10 and invmenutarget.selectedbutton > invmenutarget.menu.to then
						invmenutarget.menu.to = invmenutarget.menu.to + 1
						invmenutarget.menu.from = invmenutarget.menu.from + 1
					end
				end	
			end
		end
	end
end)


				
function ButtonSelectedinvmenutarget(button)
	local ped = GetPlayerPed(-1)
	local this = invmenutarget.currentmenu
	local btn = button.name
	callx, cally, callz = table.unpack(GetEntityCoords(GetPlayerPed(-1) , true))
	if this == "main" then
			useitem = button.use
			itemref = button.ref
			nameofitem = button.textsing
			actualnumber = button.itemnumber
			invmenutarget.menu["itemmenu"].title = nameofitem
			OpenMenuinvmenutarget('itemmenu')
	elseif this == "itemmenu" then
		if btn == "Prendre discrÃ¨tement" then
		    if (itemref == "gps") and (actualnumber == 1) then
			    gpsacitve = 0
			end
			TriggerServerEvent('InvPickCop',itemref,nameofitem,playertarget)
			actualnumber = actualnumber -1
			if actualnumber <= 0 then
				CloseCreatorinvmenutarget()
			end
		elseif btn =="Saisir" then
		    if (itemref == "gps") and (actualnumber == 1) then
			    gpsacitve = 0
			end
			TriggerServerEvent('InvSeizeCop',itemref,nameofitem,playertarget)
			actualnumber = actualnumber -1
			if actualnumber <= 0 then
				CloseCreatorinvmenutarget()
			end
		end
	end
end

function OpenMenuinvmenutarget(menu)
	invmenutarget.lastmenu = invmenutarget.currentmenu
	if menu == "itemmenu" then
		invmenutarget.lastmenu = "main"
	end
	invmenutarget.menu.from = 1
	invmenutarget.menu.to = 10
	invmenutarget.selectedbutton = 0
	invmenutarget.currentmenu = menu	
end


function Backinvmenutarget()
	if backlock then
		return
	end
	backlock = true
	if invmenutarget.currentmenu == "main" then
		CloseCreatorinvmenutarget()
		afficheweaponfouille = false
		inmenucivil = 0
		inmenuinv = 0
		inmenujob = 0
	end
	if invmenutarget.currentmenu == "itemmenu" then
		CloseCreatorinvmenutarget()
		afficheweaponfouille = false
		inmenucivil = 0
		inmenuinv = 0
		inmenujob = 0
		TriggerServerEvent('TargetInv',playertarget)
		inmenucivil = 0
		inmenuinv = 1
		inmenujob = 0
	else
		OpenMenuinvmenutarget(invmenutarget.lastmenu)
	end
end

function stringstartsinvmenutarget(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end


                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           local clothshop = {
	opened = false,
	title = "Magasin de vÃªtements",
	currentmenu = "main2",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.9,
		y = 0.20,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main2"] = { 
			title = "CATEGORIES", 
			name = "main2",
			buttons = { 
				{name = "VÃªtements Homme", description = ""},
				{name = "VÃªtements Fille (SOON)", description = ""},
			}
		},
		["homme"] = { 
			title = "Vetements Homme", 
			name = "homme",
			buttons = { 
				{name = "Hauts", description = ''},
				{name = "Pantalons", description = ''},
				{name = "Chaussures", description = ''},
			}
		},
		["hauthomme"] = { 
			title = "Hauts Homme", 
			name = "hauthomme",
			buttons = { 
				{name = "Tshirts", description = ''},
				-- {name = "Polo", description = ''},
				-- {name = "Chemises", description = ''},
				{name = "DÃ©guisements", description = ''},
				{name = "Sports", description = ''},
				{name = "Autres", description = ''},
				{name = "Para", description = ''},
				{name = "Pull", description = ''},
				{name = "Sweats", description = ''},
				{name = "Vestes", description = ''},
				{name = "Chinois", description = ''},
				-- {name = "Manteaux", description = ''},
				{name = "Panchos", description = ''},
				{name = "Motard", description = ''},
			}
		},
		["haut1"] = { 
			title = "Tshirts", 
			name = "haut1",
			buttons = { 
				{name = "Hauts", description = '1', slot = '11', draw = '0', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '0', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '0', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '0', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '0', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '0', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '0', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '0', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '1', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '1', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '1', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '1', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '1', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '1', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '1', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '1', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '1', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '1', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '1', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '16', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '16', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '16', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '22', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '22', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '22', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '33', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '34', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '34', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '44', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '44', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '44', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '44', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '47', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '47', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '56', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '71', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '73', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '73', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '73', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '73', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '73', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '73', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '73', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '73', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '73', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '73', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '73', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '73', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '73', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '73', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '73', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '73', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '73', tex = '16', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '73', tex = '17', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '73', tex = '18', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '97', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '97', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '146', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '146', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '146', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '146', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '146', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '146', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '146', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '146', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '146', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '52', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '52', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '52', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '52', tex = '3', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
			}
		},
		["haut2"] = { 
			title = "Polo", 
			name = "haut2",
			buttons = { 
				{name = "Hauts", description = '1', slot = '11', draw = '9', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '9', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '9', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '9', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '9', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '9', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '9', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '9', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '9', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '9', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '9', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '9', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '9', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '9', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '39', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '39', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '82', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '82', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '82', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '82', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '82', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '82', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '82', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '82', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '82', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '82', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '82', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '82', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '82', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '82', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '82', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '82', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '93', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '93', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '93', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '94', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '94', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '94', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '123', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '123', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '123', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '131', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '132', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
			}
		},
		["haut3"] = { 
			title = "Chemises", 
			name = "haut3",
			buttons = { 
				{name = "Hauts", description = '1', slot = '11', draw = '13', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '13', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '13', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '13', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '13', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '26', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '26', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '26', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '26', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '26', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '26', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '26', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '26', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '26', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '26', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '63', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '105', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '133', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '135', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '135', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '135', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '135', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '135', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '135', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '135', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '12', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '12', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '12', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '12', tex = '3', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '12', tex = '4', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '12', tex = '5', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '12', tex = '6', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '12', tex = '7', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '12', tex = '8', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '12', tex = '9', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '12', tex = '10', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '12', tex = '11', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '14', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '14', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '14', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '14', tex = '3', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '14', tex = '4', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '14', tex = '5', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '14', tex = '6', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '14', tex = '7', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '14', tex = '8', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '14', tex = '9', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '14', tex = '10', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '14', tex = '11', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '14', tex = '12', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '14', tex = '13', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '14', tex = '14', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '14', tex = '15', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '41', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '41', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '41', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '41', tex = '3', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '85', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '126', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '126', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '126', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '126', tex = '3', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '126', tex = '4', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '126', tex = '5', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '126', tex = '6', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '126', tex = '7', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '126', tex = '8', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '126', tex = '9', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '126', tex = '10', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '126', tex = '11', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '126', tex = '12', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '126', tex = '13', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '126', tex = '14', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
			}
		},
		["haut4"] = { 
			title = "Deguisements", 
			name = "haut4",
			buttons = { 
				{name = "Hauts", description = '1', slot = '11', draw = '18', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '18', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '18', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '51', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '51', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '51', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
			}
		},
		["haut5"] = { 
			title = "Sports", 
			name = "haut5",
			buttons = { 
				{name = "Hauts", description = '1', slot = '11', draw = '80', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '80', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '80', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '81', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '81', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '81', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '128', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '128', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '128', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '128', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '128', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '128', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '128', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '128', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '128', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '98', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '98', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
			}
		},
		["haut6"] = { 
			title = "Autres", 
			name = "haut6",
			buttons = { 
				{name = "Hauts", description = '1', slot = '11', draw = '83', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '83', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '83', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '83', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '83', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
			}
		},
		["haut7"] = { 
			title = "Para", 
			name = "haut7",
			buttons = { 
				{name = "Hauts", description = '1', slot = '11', draw = '49', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '49', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '49', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '49', tex = '3', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '49', tex = '4', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '53', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '53', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '53', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '53', tex = '3', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
			}
		},
		["haut8"] = { 
			title = "Pull", 
			name = "haut8",
			buttons = { 
				{name = "Hauts", description = '1', slot = '11', draw = '50', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '50', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '50', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '50', tex = '3', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '50', tex = '4', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '78', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '78', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '78', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '78', tex = '3', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '78', tex = '4', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '78', tex = '5', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '78', tex = '6', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '78', tex = '7', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '78', tex = '8', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '78', tex = '9', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '78', tex = '10', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '78', tex = '11', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '78', tex = '12', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '78', tex = '13', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '78', tex = '14', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '78', tex = '15', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '84', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '84', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '84', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '84', tex = '3', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '84', tex = '4', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '84', tex = '5', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '89', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '89', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '89', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '89', tex = '3', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
			}
		},
		["haut9"] = { 
			title = "Sweats", 
			name = "haut9",
			buttons = { 
				{name = "Hauts", description = '1', slot = '11', draw = '57', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '86', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '86', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '86', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '86', tex = '3', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '86', tex = '4', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '96', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '134', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '134', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '134', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
			}
		},
		["haut10"] = { 
			title = "Vestes", 
			name = "haut10",
			buttons = { 
				{name = "Hauts", description = '1', slot = '11', draw = '75', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '75', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '75', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '75', tex = '3', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '75', tex = '4', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '75', tex = '5', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '75', tex = '6', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '75', tex = '7', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '75', tex = '8', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '75', tex = '9', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '75', tex = '10', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '79', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '87', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '87', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '87', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '87', tex = '3', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '87', tex = '4', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '87', tex = '5', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '87', tex = '6', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '87', tex = '7', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '87', tex = '8', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '87', tex = '9', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '87', tex = '10', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '87', tex = '11', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '90', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '150', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '150', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '150', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '150', tex = '3', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '150', tex = '4', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '150', tex = '5', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '150', tex = '6', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '150', tex = '7', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '150', tex = '8', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '150', tex = '9', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '150', tex = '10', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '150', tex = '11', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '125', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '143', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '143', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '143', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '143', tex = '3', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '143', tex = '4', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '143', tex = '5', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '143', tex = '6', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '143', tex = '7', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '143', tex = '8', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '143', tex = '9', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '3', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '4', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '5', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '6', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '7', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '8', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '9', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '10', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '11', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '12', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '13', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '14', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '15', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '16', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '17', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '18', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '19', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '19', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '20', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '21', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '22', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '23', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '24', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '153', tex = '25', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
			}
		},
		["haut11"] = { 
			title = "Chinois", 
			name = "haut11",
			buttons = { 
				{name = "Hauts", description = '1', slot = '11', draw = '107', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '107', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '107', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '107', tex = '3', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '107', tex = '4', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
			}
		},
		["haut12"] = { 
			title = "Manteaux", 
			name = "haut12",
			buttons = { 
				{name = "Hauts", description = '1', slot = '11', draw = '110', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '138', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '138', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '138', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
			}
		},
		["haut13"] = { 
			title = "Panchos", 
			name = "haut13",
			buttons = { 
				{name = "Hauts", description = '1', slot = '11', draw = '121', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '121', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '121', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '121', tex = '3', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '121', tex = '4', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '121', tex = '5', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '121', tex = '6', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '121', tex = '7', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '121', tex = '8', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '121', tex = '9', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '121', tex = '10', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '121', tex = '11', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
			}
		},
		["haut14"] = { 
			title = "Motard", 
			name = "haut14",
			buttons = { 
				{name = "Hauts", description = '1', slot = '11', draw = '148', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '148', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '148', tex = '3', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '148', tex = '4', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '148', tex = '5', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '148', tex = '6', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '148', tex = '7', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '148', tex = '9', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '148', tex = '10', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '148', tex = '11', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '152', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '152', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '152', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '152', tex = '3', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '152', tex = '4', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '152', tex = '5', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '152', tex = '6', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '152', tex = '7', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '152', tex = '8', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '152', tex = '9', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '152', tex = '10', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '152', tex = '12', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '152', tex = '13', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '152', tex = '14', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Hauts", description = '1', slot = '11', draw = '152', tex = '15', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 300},
			}
		},
		["panthomme"] = { 
			title = "Pantalons Homme", 
			name = "panthomme",
			buttons = { 
				{name = "Shorts", description = ''},
				{name = "Shorts de Sport", description = ''},
				{name = "Shorts de ville", description = ''},
				{name = "Bermuda", description = ''},
				{name = "Pantacourt", description = ''},
				{name = "Jogging", description = ''},
				{name = "Treillis", description = ''},
				{name = "Slim", description = ''},
				{name = "Sarouel", description = ''},
				{name = "Legging", description = ''},
				{name = "Jeans", description = ''},
				-- {name = "Jeans en lin", description = ''},
				{name = "Pantalons de Sport", description = ''},
				{name = "Pantalons Classiques", description = ''},
				-- {name = "Pantalons Chic", description = ''},
				{name = "CaleÃ§ons", description = ''},
				{name = "Deguisements", description = ''},
				{name = "Hipster", description = ''},
				{name = "Motard", description = ''},
				{name = "USA", description = ''},
				{name = "Pyjamas", description = ''},
			}
		},
		["pant1"] = { 
			title = "Shorts", 
			name = "pant1",
			buttons = { 
				{name = "Pantalons", description = '', slot = '4', draw = '16', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '16', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '16', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '16', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '16', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '16', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '16', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '16', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '16', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '16', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '16', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '16', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '42', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '42', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '42', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '42', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '42', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '42', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '42', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '42', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '54', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '54', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '54', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '54', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '54', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '54', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '54', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["pant2"] = { 
			title = "Shorts de Sport", 
			name = "pant2",
			buttons = { 
				{name = "Pantalons", description = '', slot = '4', draw = '2', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '6', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '6', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '6', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '6', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '14', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '14', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '14', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '14', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '18', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '18', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '18', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '18', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '18', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '18', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '18', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '18', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '18', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '18', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '18', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '18', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["pant3"] = { 
			title = "Shorts de ville", 
			name = "pant3",
			buttons = { 
				{name = "Pantalons", description = '', slot = '4', draw = '12', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '12', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '12', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '12', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '12', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '17', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '17', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '17', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '17', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '17', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '17', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '17', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '17', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '17', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '17', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '17', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["pant4"] = { 
			title = "Bermuda", 
			name = "pant4",
			buttons = { 
				{name = "Pantalons", description = '', slot = '4', draw = '15', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '15', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '15', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '15', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '15', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '15', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '15', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '15', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '15', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '15', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '15', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '15', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '15', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '15', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '15', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '15', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["pant5"] = { 
			title = "Pantacourts", 
			name = "pant5",
			buttons = { 
				{name = "Pantalons", description = '', slot = '4', draw = '31', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '31', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '31', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '31', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '31', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '62', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '62', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '62', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '62', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["pant6"] = { 
			title = "Jogging", 
			name = "pant6",
			buttons = { 
				{name = "Pantalons", description = '', slot = '4', draw = '3', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '3', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '3', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '3', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '3', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '3', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '3', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '3', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '3', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '3', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '3', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '3', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '3', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '3', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '3', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '3', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '5', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '5', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '5', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '5', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '5', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '5', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '5', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '5', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '5', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '5', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '5', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '5', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '5', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '5', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '5', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '5', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '7', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '7', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '7', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '7', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '7', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '7', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '7', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '7', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '7', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '7', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '7', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '7', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '7', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '7', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '7', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '7', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '19', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '19', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '45', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '45', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '45', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '45', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '45', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '45', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '45', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '55', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '55', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '55', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '55', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '64', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '64', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '64', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '64', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '64', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '64', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '64', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '64', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '64', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '64', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '64', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["pant7"] = { 
			title = "Treillis", 
			name = "pant7",
			buttons = { 
				{name = "Pantalons", description = '', slot = '4', draw = '9', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '9', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '9', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '9', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '9', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '9', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '9', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '9', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '9', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '9', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '9', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '9', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '9', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '9', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '9', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '9', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["pant8"] = { 
			title = "Slim", 
			name = "pant8",
			buttons = { 
				{name = "Pantalons", description = '', slot = '4', draw = '24', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '24', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '24', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '24', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '24', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '24', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '24', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '26', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '26', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '26', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '26', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '26', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '26', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '26', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '26', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '26', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '26', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '26', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '26', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '28', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '28', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '28', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '28', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '28', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '28', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '28', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '28', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '28', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '28', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '28', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '28', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '28', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '28', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '28', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '28', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '49', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '49', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '49', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '49', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '49', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '52', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '52', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '52', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '52', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["pant9"] = { 
			title = "Sarouel", 
			name = "pant9",
			buttons = { 
				{name = "Pantalons", description = '', slot = '4', draw = '33', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '66', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '66', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '66', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '66', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '66', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '66', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '66', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '66', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '66', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '66', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["pant10"] = { 
			title = "Leggings", 
			name = "pant10",
			buttons = { 
				{name = "Pantalons", description = '', slot = '4', draw = '32', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '32', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '32', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '32', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["pant11"] = { 
			title = "Jeans", 
			name = "pant11",
			buttons = { 
				{name = "Pantalons", description = '', slot = '4', draw = '0', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '0', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '0', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '0', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '0', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '0', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '0', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '0', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '0', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '0', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '0', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '0', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '0', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '0', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '0', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '0', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '1', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '1', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '1', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '1', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '1', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '1', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '1', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '1', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '1', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '1', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '1', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '1', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '1', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '1', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '1', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '1', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '4', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '4', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '4', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '4', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '27', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '27', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '27', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '27', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '27', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '27', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '27', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '27', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '27', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '27', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '27', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '27', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '43', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '43', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '63', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["pant12"] = { 
			title = "Jeans en lin", 
			name = "pant12",
			buttons = { 
				{name = "Pantalons", description = '', slot = '4', draw = '8', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '8', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '8', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '8', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["pant13"] = { 
			title = "Pantalons de Sport", 
			name = "pant13",
			buttons = { 
				{name = "Pantalons", description = '', slot = '4', draw = '34', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["pant14"] = { 
			title = "Pantalons Classiques", 
			name = "pant14",
			buttons = { 
				{name = "Pantalons", description = '', slot = '4', draw = '37', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '37', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '37', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '37', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '39', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '39', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '39', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '39', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '47', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '47', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '48', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '48', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '48', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '48', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '48', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '50', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '50', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '50', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '50', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["pant15"] = { 
			title = "Pantalons Chic", 
			name = "pant15",
			buttons = { 
				{name = "Pantalons", description = '', slot = '4', draw = '10', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '10', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '10', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '13', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '13', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '13', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '20', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '20', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '20', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '20', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '22', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '22', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '22', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '22', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '22', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '22', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '22', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '22', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '22', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '22', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '22', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '22', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '22', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '23', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '23', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '23', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '23', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '23', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '23', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '23', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '23', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '23', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '23', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '23', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '23', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '23', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '25', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '25', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '25', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '25', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '25', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '25', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '25', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '35', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '60', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '60', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '60', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '60', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '60', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '60', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '60', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '60', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '60', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '60', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '60', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '60', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["pant16"] = { 
			title = "Calecons", 
			name = "pant16",
			buttons = { 
				{name = "Pantalons", description = '', slot = '4', draw = '21', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '61', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '61', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '61', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '61', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '61', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '61', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '61', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '61', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '61', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '61', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '61', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '61', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '61', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '61', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["pant17"] = { 
			title = "Deguisements", 
			name = "pant17",
			buttons = { 
				{name = "Pantalons", description = '', slot = '4', draw = '29', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '29', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '29', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["pant18"] = { 
			title = "Hipster", 
			name = "pant18",
			buttons = { 
				{name = "Pantalons", description = '', slot = '4', draw = '51', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '58', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '58', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '58', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '58', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '58', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '58', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '58', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '58', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '58', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '58', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '58', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '58', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '58', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '58', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '58', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '58', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '65', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '65', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '65', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '65', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '65', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '65', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '65', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '65', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '65', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '65', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '65', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '65', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '65', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["pant19"] = { 
			title = "Motard", 
			name = "pant19",
			buttons = { 
				{name = "Pantalons", description = '', slot = '4', draw = '67', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '67', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '67', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '67', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '67', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '67', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '67', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '67', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '67', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '67', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '67', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["pant20"] = { 
			title = "USA", 
			name = "pant20",
			buttons = { 
				{name = "Pantalons", description = '', slot = '4', draw = '70', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '70', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '70', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '70', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '68', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '68', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '68', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '68', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '68', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '68', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '68', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '68', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '68', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '68', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["pant21"] = { 
			title = "Pyjamas", 
			name = "pant21",
			buttons = { 
				{name = "Pantalons", description = '', slot = '4', draw = '69', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '69', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '69', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '69', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '69', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '69', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '69', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '69', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '69', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '69', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '69', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '69', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '69', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '69', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '69', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '69', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '69', tex = '16', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Pantalons", description = '', slot = '4', draw = '69', tex = '17', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		
--CHAUSSURE		
		["chausshomme"] = { 
			title = "Chaussures Homme", 
			name = "chausshomme",
			buttons = { 
				{name = "Pied nu", description = ''},
				{name = "Baskets", description = ''},
				{name = "Sports", description = ''},
				{name = "Villes", description = ''},
				{name = "Converses", description = ''},
				{name = "Tongs", description = ''},
				{name = "Claquettes", description = ''},
				-- {name = "Chic", description = ''},
				{name = "Deguisements", description = ''},
				{name = "Chaussons", description = ''},
			}
		},
		["chauss1"] = { 
			title = "Pied nu", 
			name = "chauss1",
			buttons = { 
				{name = "Pied nu", description = '', slot = '6', draw = '34', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["chauss2"] = { 
			title = "Baskets", 
			name = "chauss2",
			buttons = { 
     			{name = "Chaussures", description = '', slot = '6', draw = '0', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '1', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '1', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '1', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '1', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '1', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '1', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '1', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '1', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '1', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '1', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '1', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '1', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '1', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '1', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '1', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '1', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '7', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '7', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '7', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '7', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '7', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '7', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '7', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '7', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '7', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '7', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '7', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '7', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '7', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '7', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '7', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '7', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '8', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '8', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '8', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '8', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '8', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '8', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '8', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '8', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '8', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '8', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '8', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '8', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '8', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '8', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '8', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '8', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '9', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '9', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '9', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '9', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '9', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '9', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '9', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '9', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '9', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '9', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '9', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '9', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '9', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '9', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '9', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '9', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '29', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '31', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '31', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '31', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '31', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '31', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '32', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '32', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '32', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '32', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '32', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '32', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '32', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '32', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '32', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '32', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '32', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '32', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '32', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '32', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '32', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '32', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '43', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '43', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '43', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '43', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '43', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '43', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '43', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '43', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '46', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '46', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '46', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '46', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '46', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '46', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '46', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '46', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '46', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '46', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["chauss3"] = { 
			title = "Sports", 
			name = "chauss3",
			buttons = { 
				{name = "Chaussures", description = '', slot = '6', draw = '2', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '2', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["chauss4"] = { 
			title = "Villes", 
			name = "chauss4",
			buttons = { 
				{name = "Chaussures", description = '', slot = '6', draw = '3', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '3', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '3', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '3', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '3', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '3', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '3', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '3', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '3', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '3', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '3', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '3', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '3', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '3', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '3', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '3', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '12', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '12', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '12', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '12', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '12', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '12', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '12', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '12', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '12', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '12', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '12', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '12', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '12', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '12', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '12', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '12', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '14', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '14', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '14', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '14', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '14', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '14', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '14', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '14', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '14', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '14', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '14', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '14', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '14', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '14', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '14', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '14', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '23', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '23', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '23', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '23', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '23', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '23', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '23', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '23', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '23', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '23', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '23', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '23', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '23', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '23', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '23', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '23', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '30', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '30', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '35', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '35', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '36', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '36', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '36', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '36', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '42', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '42', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '42', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '42', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '42', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '42', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '42', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '42', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '42', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '42', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["chauss5"] = { 
			title = "Converses", 
			name = "chauss5",
			buttons = { 
				{name = "Chaussures", description = '', slot = '6', draw = '4', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '4', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '4', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '4', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '22', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '22', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '22', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '22', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '22', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '22', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '22', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '22', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '22', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '22', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '22', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '22', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '26', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '26', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '26', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '26', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '26', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '26', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '26', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '26', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '26', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '26', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '26', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '26', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '26', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '26', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '26', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '26', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '28', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '28', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '28', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '28', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '28', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '28', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '48', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '48', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '49', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '49', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["chauss6"] = { 
			title = "Tongs", 
			name = "chauss6",
			buttons = { 
				{name = "Chaussures", description = '', slot = '6', draw = '5', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '5', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '5', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '5', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '16', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '16', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '16', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '16', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '16', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '16', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '16', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '16', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '16', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '16', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '16', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '16', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["chauss7"] = { 
			title = "Claquettes", 
			name = "chauss7",
			buttons = { 
				{name = "Chaussures", description = '', slot = '6', draw = '6', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '6', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["chauss8"] = { 
			title = "Chic", 
			name = "chauss8",
			buttons = { 
				{name = "Chaussures", description = '', slot = '6', draw = '10', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '10', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '10', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '10', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '11', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '11', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '11', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '11', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '18', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '18', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '19', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '20', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '20', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '20', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '20', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '20', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '20', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '20', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '20', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '20', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '20', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '20', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '20', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '21', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '21', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '21', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '21', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '21', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '21', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '21', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '21', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '21', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '21', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '21', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '21', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '38', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '38', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '38', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '38', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '38', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '40', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '40', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '40', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '40', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '40', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '40', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '40', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '40', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '40', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '40', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '40', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '40', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '45', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '45', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '45', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '45', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '45', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '45', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '45', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '45', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '45', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '45', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
				{name = "Chaussures", description = '', slot = '6', draw = '45', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},  
		["chauss9"] = { 
			title = "Deguisements", 
			name = "chauss9",
			buttons = { 
				{name = "Chaussures", description = '', slot = '6', draw = '17', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		["chauss10"] = { 
			title = "Chaussons", 
			name = "chauss10",
			buttons = { 
				{name = "Chaussures", description = '', slot = '6', draw = '41', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 150},
			}
		},
		
--FILLE
		["fille"] = { 
			title = "Vetements Fille", 
			name = "fille",
			buttons = { 
			}
		},
	}
}

local fakecar = {model = '', car = nil}
local clothshop_locations = {
[1] = {inside = {-819.4594,-1073.689,10.3281}},
[2] = {inside = {124.3142,-218.2446,53.55782}},
[3] = {inside = {423.4438,-808.4333,28.80113}},
[4] = {inside = {-1194.406,-772.5569,17.32379}},--urban
[5] = {inside = {-1452.254,-236.6661,49.80675}},--Chic
[6] = {inside = {77.09661,-1390.849,29.37614}},--Normal
}

local clothshop_blips ={}
local inrangeofclothshop = false
local currentlocation = nil
local boughtcloth = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfclothshop()
return inrangeofclothshop
end

function ShowclothshopBlips(bool)
	if bool and #clothshop_blips == 0 then
		for station,pos in pairs(clothshop_locations) do
			local loc = pos
			pos = pos.inside
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,73)
			SetBlipColour(blip, 44)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Boutique de vÃªtements')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(clothshop_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #clothshop_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(clothshop_blips) do
					if GetDistanceBetweenCoords(b.pos.inside[1],b.pos.inside[2],b.pos.inside[3],GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(1,b.pos.inside[1],b.pos.inside[2],b.pos.inside[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.inside[1],b.pos.inside[2],b.pos.inside[3],GetEntityCoords(LocalPed()),true) < 4 then
						-- drawTxt('Appuyez sur ~g~ENTRER~s~ pour acheter une ~b~Tenue',0,1,0.5,0.8,0.6,255,255,255,255)
						Show("Appuyez sur ~INPUT_CONTEXT~ pour acheter des ~b~vÃªtements.")
						inrange = true
						end
					end
				end
				inrangeofclothshop = inrange
			end
		end)
	elseif bool == false and #clothshop_blips > 0 then
		for i,b in ipairs(clothshop_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		clothshop_blips = {}
	end
end

function fi(n)
return n + 0.0001
end

function LocalPed()
return GetPlayerPed(-1)
end

function trycloth(fi, catch_f)
local status, exception = pcall(fi)
if not status then
catch_f(exception)
end
end
function firstToUpperCloth(str)
    return (str:gsub("^%l", string.upper))
end
--local veh = nil
function OpenCreator1()		
	boughtcloth = false
	local ped = LocalPed()
	local pos = currentlocation.pos.inside
	local g = Citizen.InvokeNative(0xC906A7DAB05C8D2B,pos[1],pos[2],pos[3],Citizen.PointerValueFloat(),0)
	clothshop.currentmenu = "main2"
	clothshop.opened = true
	clothshop.selectedbutton = 0
end
local cloth_price = 0
function CloseCreator1()
	Citizen.CreateThread(function()
		local ped = LocalPed()
		if not boughtcloth then
			local pos = currentlocation.pos.inside
			FreezeEntityPosition(ped,false)
			SetEntityVisible(ped,true)
		else
			local model = GetEntityModel(cloth)

			Citizen.InvokeNative(0xEA386986E786A54F, Citizen.PointerValueIntInitialized(cloth))
			local pos = currentlocation.pos.inside

			FreezeEntityPosition(ped,false)
			RequestModel(model)
			while not HasModelLoaded(model) do
				Citizen.Wait(0)
			end
			SetModelAsNoLongerNeeded(model)
			SetClothHasBeenOwnedByPlayer(skin,true)
			local id = NetworkGetNetworkIdFromEntity(skin)
			SetNetworkIdCanMigrate(id, true)
			Citizen.InvokeNative(0x629BFA74418D6239,Citizen.PointerValueIntInitialized(skin))
			SetEntityVisible(ped,true)
			FreezeEntityPosition(ped,false)
			TriggerEvent('BoughtPv',skin)
			
		end
		clothshop.opened = false
		clothshop.menu.from = 1
		clothshop.menu.to = 10
		TriggerServerEvent('SetVariationServer')
	end)
end
	
function drawMenuButton(button,x,y,selected)
	local menu = clothshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
		
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = clothshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = clothshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitleCloth(txt,x,y)
local menu = clothshop.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end
function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function Notify1(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

function DoesPlayerHaveSkin(model,button,y,selected)
		local t = false
		--TODO:check if player own car
		if t then
			drawMenuRight("OWNED",clothshop.menu.x,y,selected)
		else
			drawMenuRight(button.costs.."$",clothshop.menu.x,y,selected)
		end
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfclothshop() then
			if clothshop.opened then
				CloseCreator1()
			else
				OpenCreator1()
				clearPed()
			end
		end
		if clothshop.opened then
			local ped = LocalPed()
			local menu = clothshop.menu[clothshop.currentmenu]
			drawTxt(clothshop.title,1,1,clothshop.menu.x,clothshop.menu.y,1.0, 255,255,255,255)
			drawMenuTitleCloth(menu.title, clothshop.menu.x,clothshop.menu.y + 0.08)
			drawTxt(clothshop.selectedbutton.."/"..tablelength(menu.buttons),0,0,clothshop.menu.x + clothshop.menu.width/2 - 0.0385,clothshop.menu.y + 0.067,0.4, 255,255,255,255)
			local y = clothshop.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= clothshop.menu.from and i <= clothshop.menu.to then
					
					if i == clothshop.selectedbutton then
						selected = true						
						SetPedComponentVariation(GetPlayerPed(-1), tonumber(button.slot),tonumber(button.draw),tonumber(button.tex),tonumber(button.pal))
					    SetPedComponentVariation(GetPlayerPed(-1), 8,15,0,0)
					    SetPedComponentVariation(GetPlayerPed(-1), tonumber(button.slot3),tonumber(button.draw3),tonumber(button.tex3),tonumber(button.pal3))
					else
						selected = false
					end
					drawMenuButton(button,clothshop.menu.x,y,selected)
					if button.costs ~= nil then
						if clothshop.currentmenu == "tenueh1" then
       						DoesPlayerHaveSkin(button.model,button,y,selected)
						else
						drawMenuRight(button.costs.."$",clothshop.menu.x,y,selected)
						end
					end
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedCloth(button)
					end
				end
			end	
		end
		if clothshop.opened then
			if IsControlJustPressed(1,202) then
				Back1()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if clothshop.selectedbutton > 1 then
					clothshop.selectedbutton = clothshop.selectedbutton -1
					if buttoncount > 10 and clothshop.selectedbutton < clothshop.menu.from then
						clothshop.menu.from = clothshop.menu.from -1
						clothshop.menu.to = clothshop.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if clothshop.selectedbutton < buttoncount then
					clothshop.selectedbutton = clothshop.selectedbutton +1
					if buttoncount > 10 and clothshop.selectedbutton > clothshop.menu.to then
						clothshop.menu.to = clothshop.menu.to + 1
						clothshop.menu.from = clothshop.menu.from + 1
					end
				end	
			end
		end
		
	end
end)


function roundCloth(num1, idp2)
  if idp2 and idp2>0 then
    local mult = 10^idp2
    return math.floor(num1 * mult + 0.5) / mult
  end
  return math.floor(num1 + 0.5)
end
function ButtonSelectedCloth(button)
	local ped = GetPlayerPed(-1)
	local this = clothshop.currentmenu
	local btn = button.name
	if this == "main2" then
		if btn == "VÃªtements Homme" then
			OpenMenu1('homme')
		elseif btn == "VÃªtements Fille" then
			OpenMenu1('fille')
		end
	elseif this == "homme" then
		if btn == "Hauts" then
			OpenMenu1('hauthomme')
		elseif btn == "Pantalons" then
			OpenMenu1('panthomme')
		elseif btn == "Chaussures" then
			OpenMenu1('chausshomme')			
		end
	elseif this == "hauthomme" then
		if btn == "Tshirts" then
			OpenMenu1('haut1')
		elseif btn == "Polo" then
			OpenMenu1('haut2')
		elseif btn == "Chemises" then
			OpenMenu1('haut3')
		elseif btn == "DÃ©guisements" then
			OpenMenu1('haut4')
		elseif btn == "Sports" then
			OpenMenu1('haut5')
		elseif btn == "Autres" then
			OpenMenu1('haut6')
		elseif btn == "Para" then
			OpenMenu1('haut7')
		elseif btn == "Pull" then
			OpenMenu1('haut8')
		elseif btn == "Sweats" then
			OpenMenu1('haut9')
		elseif btn == "Vestes" then
			OpenMenu1('haut10')
		elseif btn == "Chinois" then
			OpenMenu1('haut11')
		elseif btn == "Manteaux" then
			OpenMenu1('haut12')
		elseif btn == "Panchos" then
			OpenMenu1('haut13')
		elseif btn == "Motard" then
			OpenMenu1('haut14')
		end			
	elseif this == "panthomme" then
		if btn == "Shorts" then
			OpenMenu1('pant1')
		elseif btn == "Shorts de Sport" then
			OpenMenu1('pant2')
		elseif btn == "Shorts de ville" then
			OpenMenu1('pant3')
		elseif btn == "Bermuda" then
			OpenMenu1('pant4')
		elseif btn == "Pantacourt" then
			OpenMenu1('pant5')
		elseif btn == "Jogging" then
			OpenMenu1('pant6')
		elseif btn == "Treillis" then
			OpenMenu1('pant7')
		elseif btn == "Slim" then
			OpenMenu1('pant8')
		elseif btn == "Sarouel" then
			OpenMenu1('pant9')
		elseif btn == "Legging" then
			OpenMenu1('pant10')
		elseif btn == "Jeans" then
			OpenMenu1('pant11')
		elseif btn == "Jeans en lin" then
			OpenMenu1('pant12')
		elseif btn == "Pantalons de Sport" then
			OpenMenu1('pant13')
		elseif btn == "Pantalons Classiques" then
			OpenMenu1('pant14')
		elseif btn == "Pantalons Chic" then
			OpenMenu1('pant15')
		elseif btn == "CaleÃ§ons" then
			OpenMenu1('pant16')
		elseif btn == "Deguisements" then
			OpenMenu1('pant17')
		elseif btn == "Hipster" then
			OpenMenu1('pant18')
		elseif btn == "Motard" then
			OpenMenu1('pant19')
		elseif btn == "USA" then
			OpenMenu1('pant20')
		elseif btn == "Pyjamas" then
			OpenMenu1('pant21')
		end
	elseif this == "chausshomme" then
		if btn == "Pied nu" then
			OpenMenu1('chauss1')
		elseif btn == "Baskets" then
			OpenMenu1('chauss2')
		elseif btn == "Sports" then
			OpenMenu1('chauss3')
		elseif btn == "Villes" then
			OpenMenu1('chauss4')
		elseif btn == "Converses" then
			OpenMenu1('chauss5')
		elseif btn == "Tongs" then
			OpenMenu1('chauss6')
		elseif btn == "Claquettes" then
			OpenMenu1('chauss7')
		elseif btn == "Chic" then
			OpenMenu1('chauss8')
		elseif btn == "Deguisements" then
			OpenMenu1('chauss9')
		elseif btn == "Chaussons" then
			OpenMenu1('chauss10')	
		end
	else
	TriggerServerEvent('CheckMoneyForCloth',button.slot,button.draw,button.tex,button.pal,button.slot3,button.draw3,button.tex3,button.pal3,button.costs)
	end
end

RegisterNetEvent('FinishMoneyCheckForCloth')
AddEventHandler('FinishMoneyCheckForCloth', function(button)
	boughtcloth = true
	CloseCreator1()
	clothshop.opened = false
	clothshop.menu.from = 1
	clothshop.menu.to = 10
	TriggerServerEvent('SetVariationServer')
	
end)

function OpenMenu1(menu)
	clothshop.lastmenu = clothshop.currentmenu
	if menu == "homme" then
		clothshop.lastmenu = "main2"
	elseif menu == "fille"  then
		clothshop.lastmenu = "main2"
	else
		clothshop.lastmenu = "homme"
	end
	
	clothshop.menu.from = 1
	clothshop.menu.to = 10
	clothshop.selectedbutton = 0
	clothshop.currentmenu = menu	
end


function Back1()
	if backlock then
		return
	end
	backlock = true
	if clothshop.currentmenu == "main2" then
		CloseCreator1()
		TriggerServerEvent('SetVariationServer')
	else
		OpenMenu1(clothshop.lastmenu)
	end
	
end

function stringstarts1(String1,Start2)
   return string.sub(String1,1,string.len(Start2))==Start2
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowclothshopBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 local helicoshop = {
	opened = false,
	title = "Vendeur d'HÃ©lico",
	currentmenu = "main2",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.90,
		y = 0.20,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main2"] = { 
			title = "CATEGORIES", 
			name = "main2",
			buttons = { 
				{name = "Acheter la Licence", costs = 200000, description = ""},
				{name = "HÃ©licoptÃ¨re", description = ""},
			}
		},
		["helico"] = { 
			title = "Helicoptere", 
			name = "helico",
			buttons = { 
				--{name = "Buzzard", costs = 500000, description = {}, model = "buzzard"},
				{name = "Frogger", costs = 10000000, description = {}, model = "frogger"},
				{name = "Maverick", costs = 13500000, description = {}, model = "maverick"},
				{name = "SuperVolito", costs = 17500000, description = {}, model = "SuperVolito"},
				{name = "SuperVolito Carbone", costs = 23750000, description = {}, model = "SuperVolito2"},
				{name = "Swift", costs = 28500000, description = {}, model = "Swift"},
				{name = "Swift Gold", costs = 35000000, description = {}, model = "Swift2"},
				{name = "Volatus", costs = 55000000, description = {}, model = "Volatus"},
			}
		},
	}
}
local fakecar = {model = '', car = nil}
local helicoshop_locations = {
{inside = {-744.886,-1468.259,4.30052}},
}

local helicoshop_blips ={}
local inrangeofhelicoshop = false
local currentlocation = nil
local boughtcloth = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfhelicoshop()
return inrangeofhelicoshop
end

function ShowhelicoshopBlips(bool)
	if bool and #helicoshop_blips == 0 then
		for station,pos in pairs(helicoshop_locations) do
			local loc = pos
			pos = pos.inside
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,43)
			SetBlipColour(blip, 64)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('HÃ©liport')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(helicoshop_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #helicoshop_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(helicoshop_blips) do
					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0) == false and helicoshop.opened == false and  GetDistanceBetweenCoords(b.pos.inside[1],b.pos.inside[2],b.pos.inside[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.inside[1],b.pos.inside[2],b.pos.inside[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.inside[1],b.pos.inside[2],b.pos.inside[3],GetEntityCoords(LocalPed()),true) < 4 then
						-- drawTxt('Appuyez sur ~g~ENTRER~s~ pour acheter un ~b~HÃ©licoptÃ¨re',0,1,0.5,0.8,0.6,255,255,255,255)
						--Show("Appuyez sur ~INPUT_CONTEXT~ pour acheter un ~b~HÃ©licoptÃ¨re.")
						Show("Ce magasin est fermÃ© de 00h01 Ã  23h59.")
						--inrange = true
						end
					end
				end
				inrangeofhelicoshop = inrange
			end
		end)
	elseif bool == false and #helicoshop_blips > 0 then
		for i,b in ipairs(helicoshop_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		helicoshop_blips = {}
	end
end

function fi(n)
return n + 0.0001
end

function LocalPed()
return GetPlayerPed(-1)
end

function trycloth(fi, catch_f)
local status, exception = pcall(fi)
if not status then
catch_f(exception)
end
end
function firstToUpperCloth(str)
    return (str:gsub("^%l", string.upper))
end
--local veh = nil
function OpenCreatorHelico()		
	boughtcloth = false
	local ped = LocalPed()
	local pos = currentlocation.pos.inside
	local g = Citizen.InvokeNative(0xC906A7DAB05C8D2B,pos[1],pos[2],pos[3],Citizen.PointerValueFloat(),0)
	helicoshop.currentmenu = "main2"
	helicoshop.opened = true
	helicoshop.selectedbutton = 0
end
local cloth_price = 0
function CloseCreatorHelico()
	Citizen.CreateThread(function()
		local ped = LocalPed()
		if not boughtcloth then
			local pos = currentlocation.pos.inside
			FreezeEntityPosition(ped,false)
			SetEntityVisible(ped,true)
		else
			SetEntityVisible(ped,true)
			FreezeEntityPosition(ped,false)			
		end
		helicoshop.opened = false
		helicoshop.menu.from = 1
		helicoshop.menu.to = 10
	end)
end
	
function drawMenuButton(button,x,y,selected)
	local menu = helicoshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = helicoshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = helicoshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitle(txt,x,y)
local menu = helicoshop.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end
function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function NotifyArmurerie(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

function DoesPlayerHaveSkin(model,button,y,selected)
		local t = false
		--TODO:check if player own car
		if t then
			drawMenuRight("OWNED",helicoshop.menu.x,y,selected)
		else
			drawMenuRight(button.costs.."$",helicoshop.menu.x,y,selected)
		end
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfhelicoshop() then
			if helicoshop.opened then
				CloseCreatorHelico()
			else
				OpenCreatorHelico()
			end
		end
		if helicoshop.opened then
			local ped = LocalPed()
			local menu = helicoshop.menu[helicoshop.currentmenu]
			drawTxt(helicoshop.title,1,1,helicoshop.menu.x,helicoshop.menu.y,1.0, 255,255,255,255)
			drawMenuTitle(menu.title, helicoshop.menu.x,helicoshop.menu.y + 0.08)
			drawTxt(helicoshop.selectedbutton.."/"..tablelength(menu.buttons),0,0,helicoshop.menu.x + helicoshop.menu.width/2 - 0.0385,helicoshop.menu.y + 0.067,0.4, 255,255,255,255)
			local y = helicoshop.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= helicoshop.menu.from and i <= helicoshop.menu.to then
					
					if i == helicoshop.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,helicoshop.menu.x,y,selected)
					if button.costs ~= nil then
						if helicoshop.currentmenu == "helico" or helicoshop.currentmenu == "main2" then
       						DoesPlayerHaveSkin(button.model,button,y,selected)
						else
						drawMenuRight(button.costs.."$",helicoshop.menu.x,y,selected)
						end
					end
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedHelico(button)
					end
				end
			end	
		end
		if helicoshop.opened then
			if IsControlJustPressed(1,202) then
				Backhelico()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if helicoshop.selectedbutton > 1 then
					helicoshop.selectedbutton = helicoshop.selectedbutton -1
					if buttoncount > 10 and helicoshop.selectedbutton < helicoshop.menu.from then
						helicoshop.menu.from = helicoshop.menu.from -1
						helicoshop.menu.to = helicoshop.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if helicoshop.selectedbutton < buttoncount then
					helicoshop.selectedbutton = helicoshop.selectedbutton +1
					if buttoncount > 10 and helicoshop.selectedbutton > helicoshop.menu.to then
						helicoshop.menu.to = helicoshop.menu.to + 1
						helicoshop.menu.from = helicoshop.menu.from + 1
					end
				end	
			end
		end
		
	end
end)


function roundHelico(num1, idp2)
  if idp2 and idp2>0 then
    local mult = 10^idp2
    return math.floor(num1 * mult + 0.5) / mult
  end
  return math.floor(num1 + 0.5)
end
function ButtonSelectedHelico(button)
	local ped = GetPlayerPed(-1)
	local this = helicoshop.currentmenu
	local btn = button.name
	if this == "main2" then
		if btn == "Acheter la Licence" then
			TriggerServerEvent('CheckPermisHelico')
		elseif btn == "HÃ©licoptÃ¨re" then
			OpenMenuHelico('helico')	
		end
	elseif this == "helico" then
		TriggerServerEvent('CheckMoneyForHelico',button.model,button.costs)
	end
end
RegisterNetEvent('FinishMoneyCheckForHelico')
AddEventHandler('FinishMoneyCheckForHelico', function()
	CloseCreatorHelico()
	helicoshop.opened = false
	helicoshop.menu.from = 1
	helicoshop.menu.to = 10
	
end)

function OpenMenuHelico(menu)
	helicoshop.lastmenu = helicoshop.currentmenu
	if menu == "homme" then
		helicoshop.lastmenu = "main2"
	elseif menu == "helico"  then
		helicoshop.lastmenu = "main2"
	elseif menu == 'race_create_objects' then
		helicoshop.lastmenu = "main2"
	elseif menu == "race_create_objects_spawn" then
		helicoshop.lastmenu = "race_create_objects"
	end
	helicoshop.menu.from = 1
	helicoshop.menu.to = 10
	helicoshop.selectedbutton = 0
	helicoshop.currentmenu = menu	
end


function Backhelico()
	if backlock then
		return
	end
	backlock = true
	if helicoshop.currentmenu == "main2" then
		CloseCreatorHelico()
	elseif helicoshop.currentmenu == "helico" then
		fakecar = {model = '', car = nil}
		OpenMenuHelico(helicoshop.lastmenu)
	else
		OpenMenuHelico(helicoshop.lastmenu)
	end
	
end

function stringstartsHelico(String1,Start2)
   return string.sub(String1,1,string.len(Start2))==Start2
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowhelicoshopBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           local vehshop = {
	opened = false,
	title = "Vendeur de Voiture",
	currentmenu = "main",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.9,
		y = 0.19,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main"] = { 
			title = "CATEGORIES", 
			name = "main",
			buttons = { 
				{name = "Vehicles", description = ""},
				{name = "Motorcycles", description = ""},
			}
		},
		["vehicles"] = { 
			title = "VEHICLES", 
			name = "vehicles",
			buttons = { 
				{name = "Compacts", description = ''},
				{name = "Coupes", description = ''},
				{name = "Sedans", description = ''},
				{name = "Sports", description = ''},
				{name = "Sports Classics", description = ''},
				{name = "Super", description = ''},
				{name = "Muscle", description = ''},
				{name = "Off-Road", description = ''},
				{name = "SUVs", description = ''},
				{name = "Vans", description = ''},
				{name = "Cycles", description = ''},
			}
		},
		["compacts"] = { 
			title = "compacts", 
			name = "compacts",
			buttons = { 
				{name = "Blista", costs = 7000, description = {}, model = "blista"},
				{name = "Brioso R/A", costs = 52000, description = {}, model = "brioso"},
				{name = "Dilettante", costs = 7000, description = {}, model = "Dilettante"},
				{name = "Issi", costs = 45500, description = {}, model = "issi2"},
				{name = "Panto", costs = 100750, description = {}, model = "panto"},
				{name = "Prairie", costs = 90000, description = {}, model = "prairie"},
				{name = "Rhapsody", costs = 37500, description = {}, model = "rhapsody"},
			}
		},
		["coupes"] = { 
			title = "coupes", 
			name = "coupes",
			buttons = { 
				{name = "Cognoscenti Cabrio", costs = 773500, description = {}, model = "cogcabrio"},
				{name = "Exemplar", costs = 773500, description = {}, model = "exemplar"},
				{name = "F620", costs = 877500, description = {}, model = "f620"},
				{name = "Felon", costs = 624000, description = {}, model = "felon"},
				{name = "Felon GT", costs = 853125, description = {}, model = "felon2"},
				{name = "Jackal", costs = 718250, description = {}, model = "jackal"},
				{name = "Oracle", costs = 55960, description = {}, model = "oracle"},
				{name = "Oracle XS", costs = 718250, description = {}, model = "oracle2"},
				{name = "Sentinel", costs = 718250, description = {}, model = "sentinel"},
				{name = "Sentinel XS", costs = 773500, description = {}, model = "sentinel2"},
				{name = "Windsor", costs = 884000, description = {}, model = "windsor"},
				{name = "Windsor Drop", costs = 966875, description = {}, model = "windsor2"},
				{name = "Zion", costs = 773500, description = {}, model = "zion"},
				{name = "Zion Cabrio", costs = 828750, description = {}, model = "zion2"},
			}
		},
		["sports"] = { 
			title = "sports", 
			name = "sports",
			buttons = { 
				{name = "9F", costs = 1248750, description = {}, model = "ninef"},
				{name = "9F Cabrio", costs = 1318125, description = {}, model = "ninef2"},
				{name = "Banshee", costs = 1246875, description = {}, model = "banshee"},
				{name = "Bestia GTS", costs = 1215000, description = {}, model = "bestiagts"},
				{name = "Blista Compact", costs = 420000, description = {}, model = "blista"},
				{name = "Buffalo", costs = 735000, description = {}, model = "buffalo"},
				{name = "Buffalo S", costs = 1020000, description = {}, model = "buffalo2"},
				{name = "Carbonizzare", costs = 1215000, description = {}, model = "carbonizzare"},
				{name = "Comet", costs = 1800000, description = {}, model = "comet2"},
				{name = "Coquette", costs = 1318125, description = {}, model = "coquette"},
				{name = "Drift Tampa", costs = 1710000, description = {}, model = "tampa2"},
				{name = "Feltzer", costs = 1243125, description = {}, model = "feltzer2"},
				{name = "Furore GT", costs = 1243125, description = {}, model = "furoregt"},
				{name = "Fusilade", costs = 971250, description = {}, model = "fusilade"},
				{name = "Jester", costs = 1353750, description = {}, model = "jester"},
				{name = "Jester(Racecar)", costs = 1710000, description = {}, model = "jester2"},
				{name = "Kuruma", costs = 1147500, description = {}, model = "kuruma"},
				{name = "Lynx", costs = 1318125, description = {}, model = "lynx"},
				{name = "Massacro", costs = 1353750, description = {}, model = "massacro"},
				{name = "Massacro(Racecar)", costs = 1500000, description = {}, model = "massacro2"},
				{name = "Omnis", costs = 1710000, description = {}, model = "omnis"},
				{name = "Penumbra", costs = 105250, description = {}, model = "penumbra"},
				{name = "Rapid GT", costs = 1282500, description = {}, model = "rapidgt"},
				{name = "Rapid GT Convertible", costs = 1425000, description = {}, model = "rapidgt2"},
				{name = "Schafter V12", costs = 1110000, description = {}, model = "schafter3"},
				{name = "Sultan", costs = 21050, description = {}, model = "sultan"},
				{name = "Surano", costs = 1248750, description = {}, model = "surano"},
				{name = "Tropos", costs = 1620000, description = {}, model = "tropos"},
				{name = "Verkierer", costs = 1389375, description = {}, model = "verlierer2"},
				{name = "Schwarzer", costs = 1501200, description = {}, model = "schwarzer"},
				
			}
		},
		["sportsclassics"] = { 
			title = "sports classics", 
			name = "sportsclassics",
			buttons = { 
				{name = "Casco", costs = 4500000, description = {}, model = "casco"},
				{name = "Coquette Classic", costs = 4500000, description = {}, model = "coquette2"},
				{name = "JB 700", costs = 4250000, description = {}, model = "jb700"},
				{name = "Pigalle", costs = 2800000, description = {}, model = "pigalle"},
				{name = "Stinger", costs = 3800000, description = {}, model = "stinger"},
				{name = "Stinger GT", costs = 4250000, description = {}, model = "stingergt"},
				{name = "Stirling GT", costs = 4250000, description = {}, model = "feltzer3"},
				{name = "Z-Type", costs = 4250000, description = {}, model = "ztype"},
				{name = "Btype", costs = 2042000, description = {}, model = "btype"},
				{name = "Btype Hell", costs = 4520000, description = {}, model = "btype2"},
				{name = "Btype Chic", costs = 3230000, description = {}, model = "btype3"},
				
			}
		},
		["super"] = { 
			title = "super", 
			name = "super",
			buttons = { 
				{name = "Adder", costs = 6317500, description = {}, model = "adder"},
				{name = "Banshee 900R", costs = 5355000, description = {}, model = "banshee2"},
				{name = "Bullet", costs = 5985000, description = {}, model = "bullet"},
				{name = "Cheetah", costs = 6300000, description = {}, model = "cheetah"},
				{name = "Entity XF", costs = 7560000, description = {}, model = "entityxf"},
				{name = "ETR1", costs = 5818750, description = {}, model = "sheava"},
				{name = "FMJ", costs = 6317500, description = {}, model = "fmj"},
				{name = "Infernus", costs = 5985000, description = {}, model = "infernus"},
				{name = "Osiris", costs = 5985000, description = {}, model = "osiris"},
				{name = "RE-7B", costs = 7560000, description = {}, model = "le7b"},
				{name = "Reaper", costs = 5355000, description = {}, model = "reaper"},
				{name = "Sultan RS", costs = 4725000, description = {}, model = "sultanrs"},
				{name = "T20", costs = 5670000, description = {}, model = "t20"},
				{name = "Turismo R", costs = 5985000, description = {}, model = "turismor"},
				{name = "Tyrus", costs = 7560000, description = {}, model = "tyrus"},
				{name = "Vacca", costs = 5670000, description = {}, model = "vacca"},
				{name = "Voltic", costs = 11900000, description = {}, model = "voltic"},
				{name = "X80 Proto", costs = 7980000, description = {}, model = "prototipo"},
				{name = "Zentorno", costs = 6300000, description = {}, model = "zentorno"},
			}
		},
		["muscle"] = { 
			title = "muscle", 
			name = "muscle",
			buttons = { 
				{name = "Blade", costs = 448000, description = {}, model = "blade"},
				{name = "Buccaneer", costs = 448000, description = {}, model = "buccaneer"},
				{name = "Chino", costs = 432000, description = {}, model = "chino"},
				{name = "Coquette BlackFin", costs = 924000, description = {}, model = "coquette3"},
				{name = "Dominator", costs = 1152000, description = {}, model = "dominator"},
				{name = "Dukes", costs = 990000, description = {}, model = "dukes"},
				{name = "Gauntlet", costs = 1088000, description = {}, model = "gauntlet"},
				{name = "Hotknife", costs = 896000, description = {}, model = "hotknife"},
				{name = "Faction", costs = 384000, description = {}, model = "faction"},
				{name = "Nightshade", costs = 896000, description = {}, model = "nightshade"},
				{name = "Picador", costs = 420000, description = {}, model = "picador"},
				{name = "Sabre Turbo", costs = 600000, description = {}, model = "sabregt"},
				{name = "Tampa", costs = 600000, description = {}, model = "tampa"},
				{name = "Virgo", costs = 378000, description = {}, model = "virgo"},
				{name = "Vigero", costs = 660000, description = {}, model = "vigero"},
			}
		},
		["offroad"] = { 
			title = "off-road", 
			name = "off-road",
			buttons = { 
				{name = "Bifta", costs = 528000, description = {}, model = "bifta"},
				{name = "Blazer", costs = 192500, description = {}, model = "blazer"},
				{name = "Brawler", costs = 866250, description = {}, model = "brawler"},
				{name = "Bubsta 6x6", costs = 742500, description = {}, model = "dubsta3"},
				{name = "Dune Buggy", costs = 330000, description = {}, model = "dune"},
				{name = "Rebel", costs = 358875, description = {}, model = "rebel2"},
				{name = "Sandking", costs = 616000, description = {}, model = "sandking"},
				-- {name = "The Liberator", costs = 1794000, description = {}, model = "monster"},
				{name = "Trophy Truck", costs = 852500, description = {}, model = "trophytruck"},
			}
		},
		["suvs"] = { 
			title = "suvs", 
			name = "suvs",
			buttons = { 
				{name = "Baller", costs = 126875, description = {}, model = "baller"},
				{name = "Grabger", costs = 98000, description = {}, model = "granger"},
				{name = "Huntley S", costs = 131250, description = {}, model = "huntley"},
				{name = "Landstalker", costs = 131250, description = {}, model = "landstalker"},
				{name = "Radius", costs = 131250, description = {}, model = "radi"},
				{name = "Rocoto", costs = 131250, description = {}, model = "rocoto"},
				{name = "Seminole", costs = 131250, description = {}, model = "seminole"},
				{name = "XLS", costs = 98000, description = {}, model = "xls"},
				{name = "Baller2", costs = 131250, description = {}, model = "baller2"},	
			}
		},
		["vans"] = { 
			title = "vans", 
			name = "vans",
			buttons = { 
				{name = "Bison", costs = 139500, description = {}, model = "bison"},
				{name = "Bobcat XL", costs = 112000, description = {}, model = "bobcatxl"},
				{name = "Gang Burrito", costs = 195000, description = {}, model = "gburrito"},
				--{name = "Journey", costs = 15000, description = {}, model = "journey"},
				{name = "Minivan", costs = 60000, description = {}, model = "minivan"},
				{name = "Paradise", costs = 112000, description = {}, model = "paradise"},
				--{name = "Rumpo", costs = 13000, description = {}, model = "rumpo"},
				{name = "Surfer", costs = 27000, description = {}, model = "surfer"},
				{name = "Youga", costs = 60000, description = {}, model = "youga"},
			}
		},
		["sedans"] = { 
			title = "sedans", 
			name = "sedans",
			buttons = { 
				{name = "Asea", costs = 30000, description = {}, model = "asea"},
				{name = "Asterope", costs = 30000, description = {}, model = "asterope"},
				--{name = "Cognoscenti", costs = 1000000, description = {}, model = "cognoscenti"},
				--{name = "Cognoscenti(Armored)", costs = 1000000, description = {}, model = "cognoscenti2"},
				--{name = "Cognoscenti 55", costs = 1000000, description = {}, model = "cognoscenti3"},
				--{name = "Cognoscenti 55(Armored", costs = 1500000, description = {}, model = "ZENTORNO"},
				{name = "Fugitive", costs = 30000, description = {}, model = "fugitive"},
				{name = "Glendale", costs = 90000, description = {}, model = "glendale"},
				{name = "Ingot", costs = 30000, description = {}, model = "ingot"},
				{name = "Intruder", costs = 37500, description = {}, model = "intruder"},
				{name = "Premier", costs = 37500, description = {}, model = "premier"},
				{name = "Primo", costs = 37500, description = {}, model = "primo"},
				{name = "Primo Custom", costs = 250000, description = {}, model = "primo2"},
				{name = "Regina", costs = 36000, description = {}, model = "regina"},
				{name = "Schafter", costs = 37500, description = {}, model = "schafter2"},
				{name = "Stanier", costs = 30000, description = {}, model = "stanier"},
				{name = "Stratum", costs = 30000, description = {}, model = "stratum"},
				{name = "Stretch", costs = 15000000, description = {}, model = "stretch"},
				{name = "Super Diamond", costs = 2500000, description = {}, model = "superd"},
				{name = "Surge", costs = 120000, description = {}, model = "surge"},
				{name = "Tailgater", costs = 36250, description = {}, model = "tailgater"},
				{name = "Warrener", costs = 42000, description = {}, model = "warrener"},
				{name = "Washington", costs = 30000, description = {}, model = "washington"},
			}
		},
		["motorcycles"] = { 
			title = "MOTORCYCLES", 
			name = "motorcycles",
			buttons = { 
				{name = "Akuma", costs = 90000, description = {}, model = "AKUMA"},
				{name = "Bagger", costs = 50000, description = {}, model = "bagger"},
				{name = "Bati 801", costs = 150000, description = {}, model = "bati"},
				{name = "Bati 801RR", costs = 150000, description = {}, model = "bati2"},
				{name = "BF400", costs = 950000, description = {}, model = "bf400"},
				{name = "Carbon RS", costs = 200000, description = {}, model = "carbonrs"},
				{name = "Cliffhanger", costs = 1250000, description = {}, model = "cliffhanger"},
				{name = "Daemon", costs = 50000, description = {}, model = "daemon"},
				{name = "Double T", costs = 120000, description = {}, model = "double"},
				{name = "Enduro", costs = 380000, description = {}, model = "enduro"},
				--{name = "Faggio", costs = 4000, description = {}, model = "faggio2"},
				{name = "Gargoyle", costs = 800000, description = {}, model = "gargoyle"},
				{name = "Hakuchou", costs = 720000, description = {}, model = "hakuchou"},
				{name = "Hexer", costs = 150000, description = {}, model = "hexer"},
				{name = "Innovation", costs = 600000, description = {}, model = "innovation"},
				{name = "Lectro", costs = 2000000, description = {}, model = "lectro"},
				{name = "Nemesis", costs = 120000, description = {}, model = "nemesis"},
				{name = "PCJ-600", costs = 90000, description = {}, model = "pcj"},
				{name = "Ruffian", costs = 90000, description = {}, model = "ruffian"},
				{name = "Sanchez", costs = 70000, description = {}, model = "sanchez"},
				{name = "Sovereign", costs = 500000, description = {}, model = "sovereign"},
				{name = "Thrust", costs = 450000, description = {}, model = "thrust"},
				{name = "Vader", costs = 90000, description = {}, model = "vader"},
				{name = "Vindicator", costs = 1000000, description = {}, model = "vindicator"},
				
				{name = "Chimera", costs = 1000000, description = {}, model = "Chimera"},
				{name = "Sanctus", costs = 1500000, description = {}, model = "Sanctus"},
				-- {name = "Bobber", costs = 90000, description = {}, model = "Bobber"},
				-- {name = "Chopper", costs = 90000, description = {}, model = "Chopper"},
				{name = "Wolfsbane", costs = 500000, description = {}, model = "Wolfsbane"},
				{name = "Manchez", costs = 400000, description = {}, model = "Manchez"},
				{name = "Defiler", costs = 200000, description = {}, model = "Defiler"},
				{name = "Nightblade", costs = 600000, description = {}, model = "Nightblade"},
				{name = "Vortex", costs = 500000, description = {}, model = "Vortex"},
				{name = "Esskey", costs = 400000, description = {}, model = "Esskey"},
				{name = "Avarus", costs = 600000, description = {}, model = "Avarus"},
				
			}
		},
	}
}
local fakecar = {model = '', car = nil}
local vehshop_locations = {
{entering = {-33.803,-1102.322,25.422}, inside = {-46.56327,-1097.382,25.99875, 120.1953}, outside = {-31.849,-1090.648,25.998,322.345}},
}

local vehshop_blips ={}
local inrangeofvehshop = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfVehshop()
return inrangeofvehshop
end

function ShowVehshopBlips(bool)
	if bool and #vehshop_blips == 0 then
		for station,pos in pairs(vehshop_locations) do
			local loc = pos
			pos = pos.entering
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,326)
			SetBlipColour(blip, 50)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Vendeur de voiture')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(vehshop_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #vehshop_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(vehshop_blips) do
					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0) == false and vehshop.opened == false and IsPedInAnyVehicle(LocalPed(), true) == false and  GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) < 5 then
						-- DrawMarker(1,b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						-- drawTxt('Appuyez sur ~g~ENTRER~s~ pour acheter un ~b~vÃ©hicule',0,1,0.5,0.8,0.6,255,255,255,255)
						Show("Appuyez sur ~INPUT_CONTEXT~ pour acheter un ~b~vÃ©hicule.")
						currentlocation = b
						inrange = true
					end
				end
				inrangeofvehshop = inrange
			end
		end)
	elseif bool == false and #vehshop_blips > 0 then
		for i,b in ipairs(vehshop_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		vehshop_blips = {}
	end
end

function f(n)
return n + 0.0001
end

function LocalPed()
return GetPlayerPed(-1)
end

function try(f, catch_f)
local status, exception = pcall(f)
if not status then
catch_f(exception)
end
end
function firstToUpper(str)
    return (str:gsub("^%l", string.upper))
end
--local veh = nil
function OpenCreator()		
	boughtcar = false
	local ped = LocalPed()
	local pos = currentlocation.pos.inside
	FreezeEntityPosition(ped,true)
	SetEntityVisible(ped,false)
	local g = Citizen.InvokeNative(0xC906A7DAB05C8D2B,pos[1],pos[2],pos[3],Citizen.PointerValueFloat(),0)
	SetEntityCoords(ped,pos[1],pos[2],g)
	SetEntityHeading(ped,pos[4])
	vehshop.currentmenu = "main"
	vehshop.opened = true
	vehshop.selectedbutton = 0
	--[[Citizen.CreateThread(function()
		RequestModel(GetHashKey('t20'))
		while not HasModelLoaded(GetHashKey('t20')) do
			Citizen.Wait(0)
		end
		veh = CreateVehicle(GetHashKey('t20'),GetOffsetFromEntityInWorldCoords(ped,2.001,0,0),false,true)
		SetModelAsNoLongerNeeded(GetHashKey('t20'))
		SetEntityHeading(veh,pos[4])
		FreezeEntityPosition(veh,true)
		SetEntityCollision(veh,false,false)
		SetEntityInvincible(veh,true)
	end)]]
end
local vehicle_price = 0
function CloseCreator()
	Citizen.CreateThread(function()
		local ped = LocalPed()
		if not boughtcar then
			local pos = currentlocation.pos.entering
			SetEntityCoords(ped,pos[1],pos[2],pos[3])
			FreezeEntityPosition(ped,false)
			SetEntityVisible(ped,true)
		else
			local veh = GetVehiclePedIsUsing(ped)
			local model = GetEntityModel(veh)
			local colors = table.pack(GetVehicleColours(veh))
			local extra_colors = table.pack(GetVehicleExtraColours(veh))

			local mods = {}
			for i = 0,24 do
				mods[i] = GetVehicleMod(veh,i)
			end	
			Citizen.InvokeNative(0xEA386986E786A54F, Citizen.PointerValueIntInitialized(veh))
			local pos = currentlocation.pos.outside

			FreezeEntityPosition(ped,false)
			RequestModel(model)
			while not HasModelLoaded(model) do
				Citizen.Wait(0)
			end
			personalvehicle = CreateVehicle(model,pos[1],pos[2],pos[3],pos[4],true,false)
			SetModelAsNoLongerNeeded(model)
			for i,mod in pairs(mods) do
				SetVehicleModKit(personalvehicle,0)
				SetVehicleMod(personalvehicle,i,mod)
			end
			SetVehicleOnGroundProperly(personalvehicle)
			SetVehicleHasBeenOwnedByPlayer(personalvehicle,true)
			local id = NetworkGetNetworkIdFromEntity(personalvehicle)
			SetNetworkIdCanMigrate(id, true)
			Citizen.InvokeNative(0x629BFA74418D6239,Citizen.PointerValueIntInitialized(personalvehicle))
			SetVehicleColours(personalvehicle,colors[1],colors[2])
			SetVehicleExtraColours(personalvehicle,extra_colors[1],extra_colors[2])
			--local blip = AddBlipForEntity(personalvehicle)
			--SetBlipSprite(blip,326)
			--BeginTextCommandSetBlipName("STRING")
			--AddTextComponentString('Personal vehicle')
			--EndTextCommandSetBlipName(blip)
			--personalvehicle_blip = blip
			TaskWarpPedIntoVehicle(GetPlayerPed(-1),personalvehicle,-1)
			SetEntityVisible(ped,true)
			TriggerEvent('BoughtPv',personalvehicle)
			
		end
		vehshop.opened = false
		vehshop.menu.from = 1
		vehshop.menu.to = 10
	end)
end

function drawMenuButton(button,x,y,selected)
	local menu = vehshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = vehshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = vehshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitle(txt,x,y)
local menu = vehshop.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end
function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function Notify(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

function DoesPlayerHaveVehicle(model,button,y,selected)
		local t = false
		--TODO:check if player own car
		if t then
			drawMenuRight("OWNED",vehshop.menu.x,y,selected)
		else
			drawMenuRight(button.costs.."$",vehshop.menu.x,y,selected)
		end
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfVehshop() then
			if vehshop.opened then
				CloseCreator()
			else
				OpenCreator()
			end
		end
		if vehshop.opened then
			local ped = LocalPed()
			local menu = vehshop.menu[vehshop.currentmenu]
			drawTxt(vehshop.title,1,1,vehshop.menu.x,vehshop.menu.y,1.0, 255,255,255,255)
			drawMenuTitle(menu.title, vehshop.menu.x,vehshop.menu.y + 0.08)
			drawTxt(vehshop.selectedbutton.."/"..tablelength(menu.buttons),0,0,vehshop.menu.x + vehshop.menu.width/2 - 0.0385,vehshop.menu.y + 0.067,0.4, 255,255,255,255)
			local y = vehshop.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= vehshop.menu.from and i <= vehshop.menu.to then
					
					if i == vehshop.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,vehshop.menu.x,y,selected)
					if button.costs ~= nil then
						if vehshop.currentmenu == "compacts" or vehshop.currentmenu == "coupes" or vehshop.currentmenu == "sedans" or vehshop.currentmenu == "sports" or vehshop.currentmenu == "sportsclassics" or vehshop.currentmenu == "super" or vehshop.currentmenu == "muscle" or vehshop.currentmenu == "offroad" or vehshop.currentmenu == "suvs" or vehshop.currentmenu == "vans" or vehshop.currentmenu == "industrial" or vehshop.currentmenu == "cycles" or vehshop.currentmenu == "motorcycles" then
							DoesPlayerHaveVehicle(button.model,button,y,selected)
						else
						drawMenuRight(button.costs.."$",vehshop.menu.x,y,selected)
						end
					end
					y = y + 0.04
					if vehshop.currentmenu == "compacts" or vehshop.currentmenu == "coupes" or vehshop.currentmenu == "sedans" or vehshop.currentmenu == "sports" or vehshop.currentmenu == "sportsclassics" or vehshop.currentmenu == "super" or vehshop.currentmenu == "muscle" or vehshop.currentmenu == "offroad" or vehshop.currentmenu == "suvs" or vehshop.currentmenu == "vans" or vehshop.currentmenu == "industrial" or vehshop.currentmenu == "cycles" or vehshop.currentmenu == "motorcycles" then
						if selected then
							if fakecar.model ~= button.model then
								if DoesEntityExist(fakecar.car) then
									Citizen.InvokeNative(0xEA386986E786A54F, Citizen.PointerValueIntInitialized(fakecar.car))
								end
								local pos = currentlocation.pos.inside
								local hash = GetHashKey(button.model)
								RequestModel(hash)
								while not HasModelLoaded(hash) do
									Citizen.Wait(0)
									drawTxt("~b~Chargement...",0,1,0.5,0.5,1.5,255,255,255,255)
									
								end
								local veh = CreateVehicle(hash,pos[1],pos[2],pos[3],pos[4],false,false)
								while not DoesEntityExist(veh) do
									Citizen.Wait(0)
									drawTxt("~b~Chargement...",0,1,0.5,0.5,1.5,255,255,255,255)
								end
								FreezeEntityPosition(veh,true)
								SetEntityInvincible(veh,true)
								SetVehicleDoorsLocked(veh,4)
								--SetEntityCollision(veh,false,false)
								TaskWarpPedIntoVehicle(LocalPed(),veh,-1)
								for i = 0,24 do
									SetVehicleModKit(veh,0)
									RemoveVehicleMod(veh,i)
								end
								fakecar = { model = button.model, car = veh}
							end
						end
					end
					if selected and IsControlJustPressed(1,201) then
						ButtonSelected(button)
					end
				end
			end	
		end
		if vehshop.opened then
			if IsControlJustPressed(1,202) then
				Back()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if vehshop.selectedbutton > 1 then
					vehshop.selectedbutton = vehshop.selectedbutton -1
					if buttoncount > 10 and vehshop.selectedbutton < vehshop.menu.from then
						vehshop.menu.from = vehshop.menu.from -1
						vehshop.menu.to = vehshop.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if vehshop.selectedbutton < buttoncount then
					vehshop.selectedbutton = vehshop.selectedbutton +1
					if buttoncount > 10 and vehshop.selectedbutton > vehshop.menu.to then
						vehshop.menu.to = vehshop.menu.to + 1
						vehshop.menu.from = vehshop.menu.from + 1
					end
				end	
			end
		end
		
	end
end)


function round(num, idp)
  if idp and idp>0 then
    local mult = 10^idp
    return math.floor(num * mult + 0.5) / mult
  end
  return math.floor(num + 0.5)
end
function ButtonSelected(button)
	local ped = GetPlayerPed(-1)
	local this = vehshop.currentmenu
	local btn = button.name
	if this == "main" then
		if btn == "Vehicles" then
			OpenMenu('vehicles')
		elseif btn == "Motorcycles" then
			OpenMenu('motorcycles')
		end
	elseif this == "vehicles" then
		if btn == "Sports" then
			OpenMenu('sports')
		elseif btn == "Sedans" then
			OpenMenu('sedans')
		elseif btn == "Compacts" then
			OpenMenu('compacts')
		elseif btn == "Coupes" then
			OpenMenu('coupes')
		elseif btn == "Sports Classics" then
			OpenMenu("sportsclassics")
		elseif btn == "Super" then
			OpenMenu('super')
		elseif btn == "Muscle" then
			OpenMenu('muscle')
		elseif btn == "Off-Road" then
			OpenMenu('offroad')
		elseif btn == "SUVs" then
			OpenMenu('suvs')
		elseif btn == "Vans" then
			OpenMenu('vans')
		end
	elseif this == "compacts" or this == "coupes" or this == "sedans" or this == "sports" or this == "sportsclassics" or this == "super" or this == "muscle" or this == "offroad" or this == "suvs" or this == "vans" or this == "industrial" or this == "cycles" or this == "motorcycles" then
		TriggerServerEvent('CheckMoneyForVeh',button.model,button.costs)
	end
end
RegisterNetEvent('FinishMoneyCheckForVeh')
AddEventHandler('FinishMoneyCheckForVeh', function()
	boughtcar = false
	CloseCreator()
	if DoesEntityExist(fakecar.car) then
			Citizen.InvokeNative(0xEA386986E786A54F, Citizen.PointerValueIntInitialized(fakecar.car))
	end
	fakecar = {model = '', car = nil}
end)

function OpenMenu(menu)
	fakecar = {model = '', car = nil}
	vehshop.lastmenu = vehshop.currentmenu
	if menu == "vehicles" then
		vehshop.lastmenu = "main"
	elseif menu == "bikes"  then
		vehshop.lastmenu = "main"
	elseif menu == 'race_create_objects' then
		vehshop.lastmenu = "main"
	elseif menu == "race_create_objects_spawn" then
		vehshop.lastmenu = "race_create_objects"
	end
	vehshop.menu.from = 1
	vehshop.menu.to = 10
	vehshop.selectedbutton = 0
	vehshop.currentmenu = menu	
end


function Back()
	if backlock then
		return
	end
	backlock = true
	if vehshop.currentmenu == "main" then
		CloseCreator()
	elseif vehshop.currentmenu == "compacts" or vehshop.currentmenu == "coupes" or vehshop.currentmenu == "sedans" or vehshop.currentmenu == "sports" or vehshop.currentmenu == "sportsclassics" or vehshop.currentmenu == "super" or vehshop.currentmenu == "muscle" or vehshop.currentmenu == "offroad" or vehshop.currentmenu == "suvs" or vehshop.currentmenu == "vans" or vehshop.currentmenu == "industrial" or vehshop.currentmenu == "cycles" or vehshop.currentmenu == "motorcycles" then
		if DoesEntityExist(fakecar.car) then
			Citizen.InvokeNative(0xEA386986E786A54F, Citizen.PointerValueIntInitialized(fakecar.car))
		end
		fakecar = {model = '', car = nil}
		OpenMenu(vehshop.lastmenu)
	else
		OpenMenu(vehshop.lastmenu)
	end
	
end

function stringstarts(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	RemoveIpl('v_carshowroom')
	RemoveIpl('shutter_open')
	RemoveIpl('shutter_closed')
	RemoveIpl('shr_int')
	RemoveIpl('csr_inMission')
	RequestIpl('v_carshowroom')
	RequestIpl('shr_int')
	--RequestIpl('csr_inMission')
	RequestIpl('shutter_closed')
	--326 car blip 227 225
	ShowVehshopBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              local armurerieciv = {
	opened = false,
	title = "Armurerie Civil",
	currentmenu = "main2",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.90,
		y = 0.20,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main2"] = { 
			title = "CATEGORIES", 
			name = "main2",
			buttons = { 
				{name = "Acheter le Permis", costs = 5000, description = ""},
				{name = "Armes", description = ""},
			}
		},
		["armes"] = { 
			title = "Armes", 
			name = "armes",
			buttons = { 
				{name = "Couteau", costs = 2000, description = {}, model = "WEAPON_KNIFE"},
				{name = "Mattraque", costs = 2000, description = {}, model = "WEAPON_NIGHTSTICK"},
				{name = "Marteau", costs = 1500, description = {}, model = "WEAPON_HAMMER"},
				{name = "Batte de baseball", costs = 1500, description = {}, model = "WEAPON_BAT"},
				{name = "Club de golf", costs = 1500, description = {}, model = "WEAPON_GOLFCLUB"},
				{name = "Pied de biche", costs = 1500, description = {}, model = "WEAPON_CROWBAR"},
				{name = "Boule de neige", costs = 500, description = {}, model = "WEAPON_SNOWBALL"},
				{name = "Pistolet de dÃ©tresse", costs = 500, description = {}, model = "WEAPON_FLAREGUN"},
				{name = "Dague", costs = 2000, description = {}, model = "WEAPON_DAGGER"},
				{name = "Bouteille cassÃ©", costs = 1500, description = {}, model = "WEAPON_BOTTLE"},
				{name = "Feu de dÃ©tresse", costs = 500, description = {}, model = "WEAPON_FLARE"},
				{name = "Extincteur", costs = 500, description = {}, model = "WEAPON_FIREEXTINGUISHER"},
				{name = "Pistolet", costs = 12000, description = {}, model = "WEAPON_PISTOL"},
				{name = "Pistolet de combat", costs = 20500, description = {}, model = "WEAPON_COMBATPISTOL"},
				{name = "Pistol.50", costs = 26000, description = {}, model = "WEAPON_PISTOL50"},
				{name = "Heavy Pistol", costs = 45000, description = {}, model = "WEAPON_HEAVYPISTOL"},
				{name = "SNS Pistol", costs = 15000, description = {}, model = "WEAPON_SNSPISTOL"},
				{name = "MARKSMAN Pistol", costs = 30000, description = {}, model = "WEAPON_MARKSMANPISTOL"},
				{name = "Pistolet Vintage", costs = 17000, description = {}, model = "WEAPON_VINTAGEPISTOL"},
			}
		},
	}
}

RegisterNetEvent('ArmurerieClient1')
AddEventHandler('ArmurerieClient1', function(licence)
	
    local a = licence
	
	havelicence = a[1]['weapon']
	
	armurerieciv.menu["main2"].buttons = {}
    
	    table.insert(armurerieciv.menu["main2"].buttons, {name = "Acheter le Permis", costs = 5000})	

end)


RegisterNetEvent('ArmurerieClient2')
AddEventHandler('ArmurerieClient2', function()
    
	if tonumber(havelicence) == 1 then
		armurerieciv.currentmenu = "armes"
	else
		armurerieciv.currentmenu = "main2"
	end
	armurerieciv.opened = true
	armurerieciv.selectedbutton = 0	
end)	


local fakecar = {model = '', car = nil}
local armurerieciv_locations = {
[1] = {inside = {21.89817,-1106.705,28.79702}},
[2] = {inside = {252.7925,-49.39816,68.94104}},
[3] = {inside = {-663.2923,-935.6008,21.82924}},
[4] = {inside = {843.5912,-1033.338,28.19486}},
[5] = {inside = {-1305.155,-393.1696,36.69577}},
}

local armurerieciv_blips ={}
local inrangeofarmurerieciv = false
local currentlocation = nil

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfarmurerieciv()
return inrangeofarmurerieciv
end

function ShowarmureriecivBlips(bool)
	if bool and #armurerieciv_blips == 0 then
		for station,pos in pairs(armurerieciv_locations) do
			local loc = pos
			pos = pos.inside
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,110)
			SetBlipColour(blip, 1)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Armurerie')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(armurerieciv_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #armurerieciv_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(armurerieciv_blips) do
					if armurerieciv.opened == false and  GetDistanceBetweenCoords(b.pos.inside[1],b.pos.inside[2],b.pos.inside[3],GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(1,b.pos.inside[1],b.pos.inside[2],b.pos.inside[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.inside[1],b.pos.inside[2],b.pos.inside[3],GetEntityCoords(LocalPed()),true) < 4 then
						Show("Appuyez sur ~INPUT_CONTEXT~ pour acheter une ~b~Armes.")
						-- drawTxt('Appuyez sur ~g~ENTRER~s~ pour acheter une ~b~Armes',0,1,0.5,0.8,0.6,255,255,255,255)
						inrange = true
						end
					end
				end
				inrangeofarmurerieciv = inrange
			end
		end)
	elseif bool == false and #armurerieciv_blips > 0 then
		for i,b in ipairs(armurerieciv_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		armurerieciv_blips = {}
	end
end

function fi(n)
return n + 0.0001
end

function LocalPed()
return GetPlayerPed(-1)
end

function trycloth(fi, catch_f)
local status, exception = pcall(fi)
if not status then
catch_f(exception)
end
end
function firstToUpperCloth(str)
    return (str:gsub("^%l", string.upper))
end
--local veh = nil
function OpenCreatorArmurerie()		
	local ped = LocalPed()
	local pos = currentlocation.pos.inside
	local g = Citizen.InvokeNative(0xC906A7DAB05C8D2B,pos[1],pos[2],pos[3],Citizen.PointerValueFloat(),0)
	armurerieciv.currentmenu = "main2"
	armurerieciv.opened = true
	armurerieciv.selectedbutton = 0
end
local cloth_price = 0
function CloseCreatorArmurerie()
	Citizen.CreateThread(function()
		local ped = LocalPed()
		if not boughtcloth then
			local pos = currentlocation.pos.inside
			FreezeEntityPosition(ped,false)
			SetEntityVisible(ped,true)
		else
			SetEntityVisible(ped,true)
			FreezeEntityPosition(ped,false)
			TriggerEvent('BoughtPv',skin)			
		end
		armurerieciv.opened = false
		armurerieciv.menu.from = 1
		armurerieciv.menu.to = 10
	end)
end
	
function drawMenuButton(button,x,y,selected)
	local menu = armurerieciv.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = armurerieciv.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = armurerieciv.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitle(txt,x,y)
local menu = armurerieciv.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end
function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function NotifyArmurerie(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

function DoesPlayerHaveSkin(model,button,y,selected)
		local t = false
		--TODO:check if player own car
		if t then
			drawMenuRight("OWNED",armurerieciv.menu.x,y,selected)
		else
			drawMenuRight(button.costs.."$",armurerieciv.menu.x,y,selected)
		end
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfarmurerieciv() then
			if armurerieciv.opened then
				CloseCreatorArmurerie()
		        armurerieciv.opened = false
	           	armurerieciv.menu.from = 1
	         	armurerieciv.menu.to = 10
			else
				-- OpenCreatorArmurerie()
				TriggerServerEvent('ArmurerieServer')				
			end
		end
		if armurerieciv.opened then
			local ped = LocalPed()
			local menu = armurerieciv.menu[armurerieciv.currentmenu]
			drawTxt(armurerieciv.title,1,1,armurerieciv.menu.x,armurerieciv.menu.y,1.0, 255,255,255,255)
			drawMenuTitle(menu.title, armurerieciv.menu.x,armurerieciv.menu.y + 0.08)
			drawTxt(armurerieciv.selectedbutton.."/"..tablelength(menu.buttons),0,0,armurerieciv.menu.x + armurerieciv.menu.width/2 - 0.0385,armurerieciv.menu.y + 0.067,0.4, 255,255,255,255)
			local y = armurerieciv.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= armurerieciv.menu.from and i <= armurerieciv.menu.to then
					
					if i == armurerieciv.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,armurerieciv.menu.x,y,selected)
					if button.costs ~= nil then
						if armurerieciv.currentmenu == "armes" or armurerieciv.currentmenu == "main2" then
       						DoesPlayerHaveSkin(button.model,button,y,selected)
						else
						drawMenuRight(button.costs.."$",armurerieciv.menu.x,y,selected)
						end
					end
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedArmurerie(button)
					end
				end
			end	
		end
		if armurerieciv.opened then
			if IsControlJustPressed(1,202) then
				BackArmurerie()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if armurerieciv.selectedbutton > 1 then
					armurerieciv.selectedbutton = armurerieciv.selectedbutton -1
					if buttoncount > 10 and armurerieciv.selectedbutton < armurerieciv.menu.from then
						armurerieciv.menu.from = armurerieciv.menu.from -1
						armurerieciv.menu.to = armurerieciv.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if armurerieciv.selectedbutton < buttoncount then
					armurerieciv.selectedbutton = armurerieciv.selectedbutton +1
					if buttoncount > 10 and armurerieciv.selectedbutton > armurerieciv.menu.to then
						armurerieciv.menu.to = armurerieciv.menu.to + 1
						armurerieciv.menu.from = armurerieciv.menu.from + 1
					end
				end	
			end
		end
		
	end
end)


function roundArmurerie(num1, idp2)
  if idp2 and idp2>0 then
    local mult = 10^idp2
    return math.floor(num1 * mult + 0.5) / mult
  end
  return math.floor(num1 + 0.5)
end
function ButtonSelectedArmurerie(button)
	local ped = GetPlayerPed(-1)
	local this = armurerieciv.currentmenu
	local btn = button.name
	if this == "main2" then
		if btn == "Acheter le Permis" then
			TriggerServerEvent('CheckPortArmes')
		elseif btn == "Armes" then
			OpenMenuArmurerie('armes')	
		end
	elseif this == "armes" then
		TriggerServerEvent('CheckMoneyForArmurerie',button.model,button.costs)
		
		armurerieciv.opened = false
		armurerieciv.menu.from = 1
		armurerieciv.menu.to = 10
	end
end
RegisterNetEvent('FinishMoneyCheckForArmurerie')
AddEventHandler('FinishMoneyCheckForArmurerie', function(button)
	CloseCreatorArmurerie()
	armurerieciv.opened = false
	armurerieciv.menu.from = 1
	armurerieciv.menu.to = 10
	
end)

function OpenMenuArmurerie(menu)
	armurerieciv.lastmenu = armurerieciv.currentmenu
	if menu == "homme" then
		armurerieciv.lastmenu = "main2"
	else
	end
	armurerieciv.menu.from = 1
	armurerieciv.menu.to = 10
	armurerieciv.selectedbutton = 0
	armurerieciv.currentmenu = menu	
end


function BackArmurerie()
	if backlock then
		return
	end
	backlock = true
	if armurerieciv.currentmenu == "main2" then
		CloseCreatorArmurerie()
		
		armurerieciv.opened = false
		armurerieciv.menu.from = 1
		armurerieciv.menu.to = 10
		
	elseif armurerieciv.currentmenu == "armes" then
		CloseCreatorArmurerie()
		
		armurerieciv.opened = false
		armurerieciv.menu.from = 1
		armurerieciv.menu.to = 10
	else
		OpenMenuArmurerie(armurerieciv.lastmenu)
	end
	
end

function stringstartsArmurerie(String1,Start2)
   return string.sub(String1,1,string.len(Start2))==Start2
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowarmureriecivBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              local armurerierebelle = {
	opened = false,
	title = "Armurerie Criminel",
	currentmenu = "main2",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.90,
		y = 0.20,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main2"] = { 
			title = "Choisisez votre arme", 
			name = "main2",
			buttons = { 
				{name = "Cagoule", costs = "GRATUIT", description = {}},
				{name = "Zip Ties", costs = 20000, description = {}},				
				{name = "Jerrican", costs = 5000, description = {}, model = "WEAPON_PETROLCAN"},
				{name = "Cocktail molotov", costs = 300000, description = {}, model = "WEAPON_MOLOTOV"},
				{name = "Grenade", costs = 700000, description = {}, model = "WEAPON_GRENADE"},
				{name = "Bombe collante", costs = 500000, description = {}, model = "WEAPON_STICKYBOMB"},
				{name = "Mini SMG", costs = 550000, description = {}, model = "WEAPON_MICROSMG"},
				{name = "Mitraillette", costs = 1200000, description = {}, model = "WEAPON_COMBATPDW"},
				{name = "Fusil Ã  pompe", costs = 1520000, description = {}, model = "WEAPON_SAWNOFFSHOTGUN"},
				{name = "AK-47", costs = 2000000, description = {}, model = "WEAPON_ASSAULTRIFLE"},
				{name = "RPG", costs = 5000000, description = {}, model = "WEAPON_RPG"},
			}
		},
	}
}
local fakecar = {model = '', car = nil}
local armurerierebelle_locations = {
{insideAR = {-330.1688,6082.979,30.55477}},
}

local armurerierebelle_blips ={}
local inrangeofarmurerierebelle = false
local currentlocation = nil

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfarmurerierebelle()
return inrangeofarmurerierebelle
end

function ShowarmurerierebelleBlips(bool)
	if bool and #armurerierebelle_blips == 0 then
	    for station,pos in pairs(armurerierebelle_locations) do
			local loc = pos
			pos = pos.insideAR
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(armurerierebelle_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #armurerierebelle_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(armurerierebelle_blips) do
					if (clientCrimi == 1) and GetDistanceBetweenCoords(b.pos.insideAR[1],b.pos.insideAR[2],b.pos.insideAR[3],GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(1,b.pos.insideAR[1],b.pos.insideAR[2],b.pos.insideAR[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.insideAR[1],b.pos.insideAR[2],b.pos.insideAR[3],GetEntityCoords(LocalPed()),true) < 4 then
						Show("Appuyez sur ~INPUT_CONTEXT~ pour acheter une ~b~Armes.")
						inrange = true
						end
					end
				end
				inrangeofarmurerierebelle = inrange
			end
		end)
	elseif bool == false and #armurerierebelle_blips > 0 then
		for i,b in ipairs(armurerierebelle_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		armurerierebelle_blips = {}
	end
end

function fi(n)
return n + 0.0001
end

function LocalPed()
return GetPlayerPed(-1)
end

function trycloth(fi, catch_f)
local status, exception = pcall(fi)
if not status then
catch_f(exception)
end
end
function firstToUpperCloth(str)
    return (str:gsub("^%l", string.upper))
end
--local veh = nil
function OpenCreatorArmurerieRebelle()		
	local ped = LocalPed()
	local pos = currentlocation.pos.insideAR
	local g = Citizen.InvokeNative(0xC906A7DAB05C8D2B,pos[1],pos[2],pos[3],Citizen.PointerValueFloat(),0)
	armurerierebelle.currentmenu = "main2"
	armurerierebelle.opened = true
	armurerierebelle.selectedbutton = 0
end
local cloth_price = 0
function CloseCreatorArmurerieRebelle()
	Citizen.CreateThread(function()
		local ped = LocalPed()
		if not boughtcloth then
			local pos = currentlocation.pos.insideAR
			FreezeEntityPosition(ped,false)
			SetEntityVisible(ped,true)
		else
			SetEntityVisible(ped,true)
			FreezeEntityPosition(ped,false)
			TriggerEvent('BoughtPv',skin)			
		end
		armurerierebelle.opened = false
		armurerierebelle.menu.from = 1
		armurerierebelle.menu.to = 10
	end)
end
	
function drawMenuButton(button,x,y,selected)
	local menu = armurerierebelle.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = armurerierebelle.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = armurerierebelle.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitle(txt,x,y)
local menu = armurerierebelle.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end
function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function NotifyArmurerieRebelle(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

function DoesPlayerHaveSkin(model,button,y,selected)
		local t = false
		--TODO:check if player own car
		if t then
			drawMenuRight("OWNED",armurerierebelle.menu.x,y,selected)
		else
			drawMenuRight(button.costs.."$",armurerierebelle.menu.x,y,selected)
		end
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfarmurerierebelle() then
			if armurerierebelle.opened then
				CloseCreatorArmurerieRebelle()
			else
				OpenCreatorArmurerieRebelle()
			end
		end
		if armurerierebelle.opened then
			local ped = LocalPed()
			local menu = armurerierebelle.menu[armurerierebelle.currentmenu]
			drawTxt(armurerierebelle.title,1,1,armurerierebelle.menu.x,armurerierebelle.menu.y,1.0, 255,255,255,255)
			drawMenuTitle(menu.title, armurerierebelle.menu.x,armurerierebelle.menu.y + 0.08)
			drawTxt(armurerierebelle.selectedbutton.."/"..tablelength(menu.buttons),0,0,armurerierebelle.menu.x + armurerierebelle.menu.width/2 - 0.0385,armurerierebelle.menu.y + 0.067,0.4, 255,255,255,255)
			local y = armurerierebelle.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= armurerierebelle.menu.from and i <= armurerierebelle.menu.to then
					
					if i == armurerierebelle.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,armurerierebelle.menu.x,y,selected)
					if button.costs ~= nil then
						if armurerierebelle.currentmenu == "armes" or armurerierebelle.currentmenu == "main2" then
       						DoesPlayerHaveSkin(button.model,button,y,selected)
						else
						drawMenuRight(button.costs.."$",armurerierebelle.menu.x,y,selected)
						end
					end
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedArmurerieRebelle(button)
					end
				end
			end	
		end
		if armurerierebelle.opened then
			if IsControlJustPressed(1,202) then
				BackArmurerieRebelle()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if armurerierebelle.selectedbutton > 1 then
					armurerierebelle.selectedbutton = armurerierebelle.selectedbutton -1
					if buttoncount > 10 and armurerierebelle.selectedbutton < armurerierebelle.menu.from then
						armurerierebelle.menu.from = armurerierebelle.menu.from -1
						armurerierebelle.menu.to = armurerierebelle.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if armurerierebelle.selectedbutton < buttoncount then
					armurerierebelle.selectedbutton = armurerierebelle.selectedbutton +1
					if buttoncount > 10 and armurerierebelle.selectedbutton > armurerierebelle.menu.to then
						armurerierebelle.menu.to = armurerierebelle.menu.to + 1
						armurerierebelle.menu.from = armurerierebelle.menu.from + 1
					end
				end	
			end
		end
		
	end
end)


function roundArmurerieRebelle(num1, idp2)
  if idp2 and idp2>0 then
    local mult = 10^idp2
    return math.floor(num1 * mult + 0.5) / mult
  end
  return math.floor(num1 + 0.5)
end
function ButtonSelectedArmurerieRebelle(button)
	local ped = GetPlayerPed(-1)
	local this = armurerierebelle.currentmenu
	local btn = button.name
	if this == "main2" then
	    if btn == "Cagoule" and (clientCrimi == 1) then
		    SetPedComponentVariation(GetPlayerPed(-1), 1, 54, 0, 0)
			armurerierebelle.opened = false
			armurerierebelle.menu.from = 1
			armurerierebelle.menu.to = 10
		elseif btn == "Zip Ties" then
			TriggerServerEvent('GiveZip',button.costs)
		else
		TriggerServerEvent('CheckMoneyForArmurerieRebelle',button.model,button.costs)
		end
	end
end
RegisterNetEvent('FinishMoneyCheckForArmurerieRebelle')
AddEventHandler('FinishMoneyCheckForArmurerieRebelle', function(button)
	CloseCreatorArmurerieRebelle()
	armurerierebelle.opened = false
	armurerierebelle.menu.from = 1
	armurerierebelle.menu.to = 10
	
end)

function OpenMenuArmurerieRebelle(menu)
	armurerierebelle.lastmenu = armurerierebelle.currentmenu
	if menu == "homme" then
		armurerierebelle.lastmenu = "main2"
	elseif menu == "armes"  then
		armurerierebelle.lastmenu = "main2"
	elseif menu == 'race_create_objects' then
		armurerierebelle.lastmenu = "main2"
	elseif menu == "race_create_objects_spawn" then
		armurerierebelle.lastmenu = "race_create_objects"
	end
	armurerierebelle.menu.from = 1
	armurerierebelle.menu.to = 10
	armurerierebelle.selectedbutton = 0
	armurerierebelle.currentmenu = menu	
end


function BackArmurerieRebelle()
	if backlock then
		return
	end
	backlock = true
	if armurerierebelle.currentmenu == "main2" then
		CloseCreatorArmurerieRebelle()
	elseif armurerierebelle.currentmenu == "armes" then
		fakecar = {model = '', car = nil}
		OpenMenuArmurerieRebelle(armurerierebelle.lastmenu)
	else
		OpenMenuArmurerieRebelle(armurerierebelle.lastmenu)
	end
	
end

function stringstartsArmurerieRebelle(String1,Start2)
   return string.sub(String1,1,string.len(Start2))==Start2
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowarmurerierebelleBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             local boatshop = {
	opened = false,
	title = "Vendeur Bateau",
	currentmenu = "main2",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.90,
		y = 0.20,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main2"] = { 
			title = "CATEGORIES", 
			name = "main2",
			buttons = { 
				{name = "Acheter le Permis", costs = 100000, description = ""},
				{name = "Bateau", description = ""},
			}
		},
		["Boat"] = { 
			title = "Bateau", 
			name = "Boat",
			buttons = { 
				{name = "JetSki", costs = 110000, description = {}, model = "seashark"},
				{name = "Dinghy", costs = 700000, description = {}, model = "dinghy"},
				{name = "Dinghy 2", costs = 700000, description = {}, model = "dinghy2"},
				{name = "Dinghy 3", costs = 700000, description = {}, model = "dinghy3"},
				{name = "Suntrap", costs = 1000000, description = {}, model = "suntrap"},
				{name = "Tropic", costs = 1500000, description = {}, model = "tropic"},
				{name = "Squalo", costs = 2500000, description = {}, model = "squalo"},
				{name = "JetMax", costs = 7000000, description = {}, model = "jetmax"},
				{name = "Toro", costs = 15990000, description = {}, model = "toro"},
				{name = "Speeder", costs = 22000500, description = {}, model = "speeder"},
				{name = "Voilier", costs = 31500000, description = {}, model = "marquis"},
			}
		},
	}
}
local fakecar = {model = '', car = nil}
local boatshop_locations = {
{inside = {-861.8079,-1324.014,0.805167}},
}

local boatshop_blips ={}
local inrangeofboatshop = false
local currentlocation = nil
local boughtcloth = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfboatshop()
return inrangeofboatshop
end

function ShowboatshopBlips(bool)
	if bool and #boatshop_blips == 0 then
		for station,pos in pairs(boatshop_locations) do
			local loc = pos
			pos = pos.inside
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,410)
			SetBlipColour(blip, 15)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Marina')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(boatshop_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #boatshop_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(boatshop_blips) do
					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0) == false and boatshop.opened == false and  GetDistanceBetweenCoords(b.pos.inside[1],b.pos.inside[2],b.pos.inside[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.inside[1],b.pos.inside[2],b.pos.inside[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.inside[1],b.pos.inside[2],b.pos.inside[3],GetEntityCoords(LocalPed()),true) < 4 then
						--Show("Appuyez sur ~INPUT_CONTEXT~ pour acheter un ~b~Bateau.")
						-- drawTxt('Appuyez sur ~g~ENTRER~s~ pour acheter un ~b~Bateau',0,1,0.5,0.8,0.6,255,255,255,255)
						Show("Ce magasin est fermÃ© de 00h01 Ã  23h59.")
						--inrange = true
						end
					end
				end
				inrangeofboatshop = inrange
			end
		end)
	elseif bool == false and #boatshop_blips > 0 then
		for i,b in ipairs(boatshop_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		boatshop_blips = {}
	end
end

function fi(n)
return n + 0.0001
end

function LocalPed()
return GetPlayerPed(-1)
end

function trycloth(fi, catch_f)
local status, exception = pcall(fi)
if not status then
catch_f(exception)
end
end
function firstToUpperCloth(str)
    return (str:gsub("^%l", string.upper))
end
--local veh = nil
function OpenCreatorBoat()		
	boughtcloth = false
	local ped = LocalPed()
	local pos = currentlocation.pos.inside
	local g = Citizen.InvokeNative(0xC906A7DAB05C8D2B,pos[1],pos[2],pos[3],Citizen.PointerValueFloat(),0)
	boatshop.currentmenu = "main2"
	boatshop.opened = true
	boatshop.selectedbutton = 0
end
local cloth_price = 0
function CloseCreatorBoat()
	Citizen.CreateThread(function()
		local ped = LocalPed()
		if not boughtcloth then
			local pos = currentlocation.pos.inside
			FreezeEntityPosition(ped,false)
			SetEntityVisible(ped,true)
		else
			SetEntityVisible(ped,true)
			FreezeEntityPosition(ped,false)			
		end
		boatshop.opened = false
		boatshop.menu.from = 1
		boatshop.menu.to = 10
	end)
end
	
function drawMenuButton(button,x,y,selected)
	local menu = boatshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = boatshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = boatshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitle(txt,x,y)
local menu = boatshop.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end
function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function NotifyBoat(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

function DoesPlayerHaveSkin(model,button,y,selected)
		local t = false
		--TODO:check if player own car
		if t then
			drawMenuRight("OWNED",boatshop.menu.x,y,selected)
		else
			drawMenuRight(button.costs.."$",boatshop.menu.x,y,selected)
		end
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfboatshop() then
			if boatshop.opened then
				CloseCreatorBoat()
			else
				OpenCreatorBoat()
			end
		end
		if boatshop.opened then
			local ped = LocalPed()
			local menu = boatshop.menu[boatshop.currentmenu]
			drawTxt(boatshop.title,1,1,boatshop.menu.x,boatshop.menu.y,1.0, 255,255,255,255)
			drawMenuTitle(menu.title, boatshop.menu.x,boatshop.menu.y + 0.08)
			drawTxt(boatshop.selectedbutton.."/"..tablelength(menu.buttons),0,0,boatshop.menu.x + boatshop.menu.width/2 - 0.0385,boatshop.menu.y + 0.067,0.4, 255,255,255,255)
			local y = boatshop.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= boatshop.menu.from and i <= boatshop.menu.to then
					
					if i == boatshop.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,boatshop.menu.x,y,selected)
					if button.costs ~= nil then
						if boatshop.currentmenu == "Boat" or boatshop.currentmenu == "main2" then
       						DoesPlayerHaveSkin(button.model,button,y,selected)
						else
						drawMenuRight(button.costs.."$",boatshop.menu.x,y,selected)
						end
					end
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedBoat(button)
					end
				end
			end	
		end
		if boatshop.opened then
			if IsControlJustPressed(1,202) then
				BackBoat()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if boatshop.selectedbutton > 1 then
					boatshop.selectedbutton = boatshop.selectedbutton -1
					if buttoncount > 10 and boatshop.selectedbutton < boatshop.menu.from then
						boatshop.menu.from = boatshop.menu.from -1
						boatshop.menu.to = boatshop.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if boatshop.selectedbutton < buttoncount then
					boatshop.selectedbutton = boatshop.selectedbutton +1
					if buttoncount > 10 and boatshop.selectedbutton > boatshop.menu.to then
						boatshop.menu.to = boatshop.menu.to + 1
						boatshop.menu.from = boatshop.menu.from + 1
					end
				end	
			end
		end
		
	end
end)


function roundBoat(num1, idp2)
  if idp2 and idp2>0 then
    local mult = 10^idp2
    return math.floor(num1 * mult + 0.5) / mult
  end
  return math.floor(num1 + 0.5)
end
function ButtonSelectedBoat(button)
	local ped = GetPlayerPed(-1)
	local this = boatshop.currentmenu
	local btn = button.name
	if this == "main2" then
		if btn == "Acheter le Permis" then
			TriggerServerEvent('CheckPermisBoat')
		elseif btn == "Bateau" then
			OpenMenuBoat('Boat')	
		end
	elseif this == "Boat" then
		TriggerServerEvent('CheckMoneyForBoat',button.model,button.costs)
	end
end
RegisterNetEvent('FinishMoneyCheckForBoat')
AddEventHandler('FinishMoneyCheckForBoat', function()
	CloseCreatorBoat()
	boatshop.opened = false
	boatshop.menu.from = 1
	boatshop.menu.to = 10
	
end)

function OpenMenuBoat(menu)
	boatshop.lastmenu = boatshop.currentmenu
	if menu == "homme" then
		boatshop.lastmenu = "main2"
	elseif menu == "Boat"  then
		boatshop.lastmenu = "main2"
	elseif menu == 'race_create_objects' then
		boatshop.lastmenu = "main2"
	elseif menu == "race_create_objects_spawn" then
		boatshop.lastmenu = "race_create_objects"
	end
	boatshop.menu.from = 1
	boatshop.menu.to = 10
	boatshop.selectedbutton = 0
	boatshop.currentmenu = menu	
end


function BackBoat()
	if backlock then
		return
	end
	backlock = true
	if boatshop.currentmenu == "main2" then
		CloseCreatorBoat()
	elseif boatshop.currentmenu == "Boat" then
		fakecar = {model = '', car = nil}
		OpenMenuBoat(boatshop.lastmenu)
	else
		OpenMenuBoat(boatshop.lastmenu)
	end
	
end

function stringstartsBoat(String1,Start2)
   return string.sub(String1,1,string.len(Start2))==Start2
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowboatshopBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  local clothshopluxe = {
	opened = false,
	title = "Magasin de vÃªtements",
	currentmenu = "main2",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.9,
		y = 0.20,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main2"] = { 
			title = "CATEGORIES", 
			name = "main2",
			buttons = { 
				{name = "VÃªtements Homme", description = ""},
				{name = "VÃªtements Fille (SOON)", description = ""},
			}
		},
		["homme"] = { 
			title = "Vetements Homme", 
			name = "homme",
			buttons = { 
				{name = "Hauts", description = ''},
				{name = "Pantalons", description = ''},
				{name = "Chaussures", description = ''},				
			}
		},
		["hauthomme"] = { 
			title = "Hauts Homme", 
			name = "hauthomme",
			buttons = { 
				{name = "Polo", description = ''},
				{name = "Chemises", description = ''},
				{name = "Manteaux", description = ''},
				{name = "Costard", description = ''},				
			}
		},
		["haut1"] = { 
			title = "Polo", 
			name = "haut1",
			buttons = { 
				{name = "Polo sorti", description = '1', slot = '11', draw = '9', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo sorti", description = '1', slot = '11', draw = '9', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo sorti", description = '1', slot = '11', draw = '9', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo sorti", description = '1', slot = '11', draw = '9', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo sorti", description = '1', slot = '11', draw = '9', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo sorti", description = '1', slot = '11', draw = '9', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo sorti", description = '1', slot = '11', draw = '9', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo sorti", description = '1', slot = '11', draw = '9', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo sorti", description = '1', slot = '11', draw = '9', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo sorti", description = '1', slot = '11', draw = '9', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo sorti", description = '1', slot = '11', draw = '9', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo sorti", description = '1', slot = '11', draw = '9', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo sorti", description = '1', slot = '11', draw = '9', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo sorti", description = '1', slot = '11', draw = '9', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo sorti", description = '1', slot = '11', draw = '39', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo sorti", description = '1', slot = '11', draw = '39', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo large", description = '1', slot = '11', draw = '82', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo large", description = '1', slot = '11', draw = '82', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo large", description = '1', slot = '11', draw = '82', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo large", description = '1', slot = '11', draw = '82', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo large", description = '1', slot = '11', draw = '82', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo large", description = '1', slot = '11', draw = '82', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo large", description = '1', slot = '11', draw = '82', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo large", description = '1', slot = '11', draw = '82', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo large", description = '1', slot = '11', draw = '82', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo large", description = '1', slot = '11', draw = '82', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo large", description = '1', slot = '11', draw = '82', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo large", description = '1', slot = '11', draw = '82', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo large", description = '1', slot = '11', draw = '82', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo large", description = '1', slot = '11', draw = '82', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo large", description = '1', slot = '11', draw = '82', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo large", description = '1', slot = '11', draw = '82', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo Andreas sorti", description = '1', slot = '11', draw = '93', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo Andreas sorti", description = '1', slot = '11', draw = '93', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo Liberty sorti", description = '1', slot = '11', draw = '93', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo Andreas rentrÃ©", description = '1', slot = '11', draw = '94', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo Andreas rentrÃ©", description = '1', slot = '11', draw = '94', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo Liberty rentrÃ©", description = '1', slot = '11', draw = '94', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo large", description = '1', slot = '11', draw = '123', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo large", description = '1', slot = '11', draw = '123', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo large", description = '1', slot = '11', draw = '123', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo Liberty sorti", description = '1', slot = '11', draw = '131', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Polo Liberty rentrÃ©", description = '1', slot = '11', draw = '132', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
			}
		},
		["haut2"] = { 
			title = "Chemises", 
			name = "haut2",
			buttons = { 
				{name = "Chemise rentrÃ©e", description = '1', slot = '11', draw = '13', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise rentrÃ©e", description = '1', slot = '11', draw = '13', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise rentrÃ©e", description = '1', slot = '11', draw = '13', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise rentrÃ©e", description = '1', slot = '11', draw = '13', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise rentrÃ©e Ã  carreaux", description = '1', slot = '11', draw = '13', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise rentrÃ©e", description = '1', slot = '11', draw = '26', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise rentrÃ©e", description = '1', slot = '11', draw = '26', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise rentrÃ©e", description = '1', slot = '11', draw = '26', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise rentrÃ©e", description = '1', slot = '11', draw = '26', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise rentrÃ©e", description = '1', slot = '11', draw = '26', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise rentrÃ©e", description = '1', slot = '11', draw = '26', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise rentrÃ©e Ã  carreaux", description = '1', slot = '11', draw = '26', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise rentrÃ©e Ã  carreaux", description = '1', slot = '11', draw = '26', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise rentrÃ©e Ã  carreaux", description = '1', slot = '11', draw = '26', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise rentrÃ©e Ã  carreaux", description = '1', slot = '11', draw = '26', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie", description = '1', slot = '11', draw = '63', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  motif", description = '1', slot = '11', draw = '105', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise rentrÃ©e", description = '1', slot = '11', draw = '133', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  motif", description = '1', slot = '11', draw = '135', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  motif", description = '1', slot = '11', draw = '135', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  motif", description = '1', slot = '11', draw = '135', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  motif", description = '1', slot = '11', draw = '135', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  motif", description = '1', slot = '11', draw = '135', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  motif", description = '1', slot = '11', draw = '135', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  motif", description = '1', slot = '11', draw = '135', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie", description = '1', slot = '11', draw = '12', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie", description = '1', slot = '11', draw = '12', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie", description = '1', slot = '11', draw = '12', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie", description = '1', slot = '11', draw = '12', tex = '3', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie", description = '1', slot = '11', draw = '12', tex = '4', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie", description = '1', slot = '11', draw = '12', tex = '5', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie", description = '1', slot = '11', draw = '12', tex = '6', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie", description = '1', slot = '11', draw = '12', tex = '7', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie", description = '1', slot = '11', draw = '12', tex = '8', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie", description = '1', slot = '11', draw = '12', tex = '9', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  carreaux", description = '1', slot = '11', draw = '12', tex = '10', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  carreaux", description = '1', slot = '11', draw = '12', tex = '11', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise Ã  carreaux + pull", description = '1', slot = '11', draw = '14', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise Ã  carreaux + pull", description = '1', slot = '11', draw = '14', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise Ã  carreaux + pull", description = '1', slot = '11', draw = '14', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise Ã  carreaux + pull", description = '1', slot = '11', draw = '14', tex = '3', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise Ã  carreaux + pull", description = '1', slot = '11', draw = '14', tex = '4', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise Ã  carreaux + pull", description = '1', slot = '11', draw = '14', tex = '5', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise Ã  carreaux + pull", description = '1', slot = '11', draw = '14', tex = '6', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise Ã  carreaux + pull", description = '1', slot = '11', draw = '14', tex = '7', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise Ã  carreaux + pull", description = '1', slot = '11', draw = '14', tex = '8', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise Ã  carreaux + pull", description = '1', slot = '11', draw = '14', tex = '9', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise Ã  carreaux + pull", description = '1', slot = '11', draw = '14', tex = '10', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise Ã  carreaux + pull", description = '1', slot = '11', draw = '14', tex = '11', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise Ã  carreaux + pull", description = '1', slot = '11', draw = '14', tex = '12', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise Ã  carreaux + pull", description = '1', slot = '11', draw = '14', tex = '13', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise Ã  carreaux + pull", description = '1', slot = '11', draw = '14', tex = '14', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise Ã  carreaux + pull", description = '1', slot = '11', draw = '14', tex = '15', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  carreaux", description = '1', slot = '11', draw = '41', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  carreaux", description = '1', slot = '11', draw = '41', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  carreaux", description = '1', slot = '11', draw = '41', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  carreaux", description = '1', slot = '11', draw = '41', tex = '3', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie", description = '1', slot = '11', draw = '85', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  carreaux", description = '1', slot = '11', draw = '126', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  carreaux", description = '1', slot = '11', draw = '126', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  carreaux", description = '1', slot = '11', draw = '126', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  carreaux", description = '1', slot = '11', draw = '126', tex = '3', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  carreaux", description = '1', slot = '11', draw = '126', tex = '4', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  carreaux", description = '1', slot = '11', draw = '126', tex = '5', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  carreaux", description = '1', slot = '11', draw = '126', tex = '6', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  carreaux", description = '1', slot = '11', draw = '126', tex = '7', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  carreaux", description = '1', slot = '11', draw = '126', tex = '8', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  carreaux", description = '1', slot = '11', draw = '126', tex = '9', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  carreaux", description = '1', slot = '11', draw = '126', tex = '10', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  carreaux", description = '1', slot = '11', draw = '126', tex = '11', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  carreaux", description = '1', slot = '11', draw = '126', tex = '12', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  carreaux", description = '1', slot = '11', draw = '126', tex = '13', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Chemise sortie Ã  carreaux", description = '1', slot = '11', draw = '126', tex = '14', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
			}
		},
		["haut3"] = { 
			title = "Manteaux", 
			name = "haut3",
			buttons = { 
				{name = "Manteau en cuir", description = '1', slot = '11', draw = '110', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Manteau en cuir", description = '1', slot = '11', draw = '138', tex = '0', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Manteau en cuir", description = '1', slot = '11', draw = '138', tex = '1', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
				{name = "Manteau en cuir", description = '1', slot = '11', draw = '138', tex = '2', pal = '0', slot3 = '3', draw3 = '1', tex3 = '0', pal3 = '0', costs = 600},
			}
		},
		["haut4"] = { 
			title = "Costard", 
			name = "haut4",
			buttons = { 
				{name = "Veste + T-shirt Col V", description = '1', slot = '11', draw = '4', tex = '0', pal = '0', slot8 = '8', draw8 = '1', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Veste + T-shirt Col V", description = '1', slot = '11', draw = '4', tex = '2', pal = '0', slot8 = '8', draw8 = '1', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Veste + T-shirt Col V", description = '1', slot = '11', draw = '4', tex = '3', pal = '0', slot8 = '8', draw8 = '1', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Veste + T-shirt Col V", description = '1', slot = '11', draw = '4', tex = '11', pal = '0', slot8 = '8', draw8 = '1', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Veste + T-shirt Col V", description = '1', slot = '11', draw = '4', tex = '14', pal = '0', slot8 = '8', draw8 = '1', tex8 = '0', pal8 = '0', costs = 5000},
				
				{name = "Veste + T-shirt", description = '1', slot = '11', draw = '10', tex = '0', pal = '0', slot8 = '8', draw8 = '76', tex8 = '2', pal8 = '0', costs = 5000},
				{name = "Veste + T-shirt", description = '1', slot = '11', draw = '10', tex = '1', pal = '0', slot8 = '8', draw8 = '76', tex8 = '2', pal8 = '0', costs = 5000},
				{name = "Veste + T-shirt", description = '1', slot = '11', draw = '10', tex = '2', pal = '0', slot8 = '8', draw8 = '76', tex8 = '2', pal8 = '0', costs = 5000},
				
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '20', tex = '0', pal = '0', slot8 = '8', draw8 = '63', tex8 = '2', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '20', tex = '1', pal = '0', slot8 = '8', draw8 = '63', tex8 = '2', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '20', tex = '2', pal = '0', slot8 = '8', draw8 = '63', tex8 = '2', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '20', tex = '3', pal = '0', slot8 = '8', draw8 = '63', tex8 = '2', pal8 = '0', costs = 5000},
								
				{name = "Veste ouverte + Chemise", description = '1', slot = '11', draw = '23', tex = '0', pal = '0', slot8 = '8', draw8 = '31', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Veste ouverte + Chemise", description = '1', slot = '11', draw = '23', tex = '1', pal = '0', slot8 = '8', draw8 = '31', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Veste ouverte + Chemise", description = '1', slot = '11', draw = '23', tex = '2', pal = '0', slot8 = '8', draw8 = '31', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Veste ouverte + Chemise", description = '1', slot = '11', draw = '23', tex = '3', pal = '0', slot8 = '8', draw8 = '31', tex8 = '1', pal8 = '0', costs = 5000},
								
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '24', tex = '0', pal = '0', slot8 = '8', draw8 = '28', tex8 = '14', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '24', tex = '1', pal = '0', slot8 = '8', draw8 = '28', tex8 = '14', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '24', tex = '2', pal = '0', slot8 = '8', draw8 = '28', tex8 = '14', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '24', tex = '3', pal = '0', slot8 = '8', draw8 = '28', tex8 = '14', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '24', tex = '4', pal = '0', slot8 = '8', draw8 = '28', tex8 = '14', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '24', tex = '5', pal = '0', slot8 = '8', draw8 = '28', tex8 = '14', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '24', tex = '6', pal = '0', slot8 = '8', draw8 = '28', tex8 = '14', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '24', tex = '7', pal = '0', slot8 = '8', draw8 = '28', tex8 = '14', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '24', tex = '8', pal = '0', slot8 = '8', draw8 = '28', tex8 = '14', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '24', tex = '9', pal = '0', slot8 = '8', draw8 = '28', tex8 = '14', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '24', tex = '10', pal = '0', slot8 = '8', draw8 = '28', tex8 = '14', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '24', tex = '11', pal = '0', slot8 = '8', draw8 = '28', tex8 = '14', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '24', tex = '12', pal = '0', slot8 = '8', draw8 = '28', tex8 = '14', pal8 = '0', costs = 5000},
				
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '27', tex = '0', pal = '0', slot8 = '8', draw8 = '10', tex8 = '9', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '27', tex = '1', pal = '0', slot8 = '8', draw8 = '10', tex8 = '9', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '27', tex = '2', pal = '0', slot8 = '8', draw8 = '10', tex8 = '9', pal8 = '0', costs = 5000},
				
				{name = "Veste + Gilet + Chemise", description = '1', slot = '11', draw = '28', tex = '0', pal = '0', slot8 = '8', draw8 = '4', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Veste + Gilet + Chemise", description = '1', slot = '11', draw = '28', tex = '1', pal = '0', slot8 = '8', draw8 = '4', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Veste + Gilet + Chemise", description = '1', slot = '11', draw = '28', tex = '2', pal = '0', slot8 = '8', draw8 = '4', tex8 = '1', pal8 = '0', costs = 5000},
								
				{name = "Blazer + Chemise", description = '1', slot = '11', draw = '29', tex = '0', pal = '0', slot8 = '8', draw8 = '32', tex8 = '13', pal8 = '0', costs = 5000},
				{name = "Blazer + Chemise", description = '1', slot = '11', draw = '29', tex = '1', pal = '0', slot8 = '8', draw8 = '32', tex8 = '13', pal8 = '0', costs = 5000},
				{name = "Blazer + Chemise", description = '1', slot = '11', draw = '29', tex = '2', pal = '0', slot8 = '8', draw8 = '32', tex8 = '13', pal8 = '0', costs = 5000},
				{name = "Blazer + Chemise", description = '1', slot = '11', draw = '29', tex = '3', pal = '0', slot8 = '8', draw8 = '32', tex8 = '13', pal8 = '0', costs = 5000},
				{name = "Blazer + Chemise", description = '1', slot = '11', draw = '29', tex = '4', pal = '0', slot8 = '8', draw8 = '32', tex8 = '13', pal8 = '0', costs = 5000},
				{name = "Blazer + Chemise", description = '1', slot = '11', draw = '29', tex = '5', pal = '0', slot8 = '8', draw8 = '32', tex8 = '13', pal8 = '0', costs = 5000},
				{name = "Blazer + Chemise", description = '1', slot = '11', draw = '29', tex = '6', pal = '0', slot8 = '8', draw8 = '32', tex8 = '13', pal8 = '0', costs = 5000},
				{name = "Blazer + Chemise", description = '1', slot = '11', draw = '29', tex = '7', pal = '0', slot8 = '8', draw8 = '32', tex8 = '13', pal8 = '0', costs = 5000},
				
				{name = "Veste + Gilet + Chemise", description = '1', slot = '11', draw = '30', tex = '0', pal = '0', slot8 = '8', draw8 = '35', tex8 = '4', pal8 = '0', costs = 5000},
				{name = "Veste + Gilet + Chemise", description = '1', slot = '11', draw = '30', tex = '1', pal = '0', slot8 = '8', draw8 = '35', tex8 = '4', pal8 = '0', costs = 5000},
				{name = "Veste + Gilet + Chemise", description = '1', slot = '11', draw = '30', tex = '2', pal = '0', slot8 = '8', draw8 = '35', tex8 = '4', pal8 = '0', costs = 5000},
				{name = "Veste + Gilet + Chemise", description = '1', slot = '11', draw = '30', tex = '3', pal = '0', slot8 = '8', draw8 = '35', tex8 = '4', pal8 = '0', costs = 5000},
				{name = "Veste + Gilet + Chemise", description = '1', slot = '11', draw = '30', tex = '4', pal = '0', slot8 = '8', draw8 = '35', tex8 = '4', pal8 = '0', costs = 5000},
				{name = "Veste + Gilet + Chemise", description = '1', slot = '11', draw = '30', tex = '5', pal = '0', slot8 = '8', draw8 = '35', tex8 = '4', pal8 = '0', costs = 5000},
				{name = "Veste + Gilet + Chemise", description = '1', slot = '11', draw = '30', tex = '6', pal = '0', slot8 = '8', draw8 = '35', tex8 = '4', pal8 = '0', costs = 5000},
				{name = "Veste + Gilet + Chemise", description = '1', slot = '11', draw = '30', tex = '7', pal = '0', slot8 = '8', draw8 = '35', tex8 = '4', pal8 = '0', costs = 5000},
				
				{name = "Veste + Gilet + Chemise", description = '1', slot = '11', draw = '31', tex = '0', pal = '0', slot8 = '8', draw8 = '34', tex8 = '3', pal8 = '0', costs = 5000},
				{name = "Veste + Gilet + Chemise", description = '1', slot = '11', draw = '31', tex = '1', pal = '0', slot8 = '8', draw8 = '34', tex8 = '3', pal8 = '0', costs = 5000},
				{name = "Veste + Gilet + Chemise", description = '1', slot = '11', draw = '31', tex = '2', pal = '0', slot8 = '8', draw8 = '34', tex8 = '3', pal8 = '0', costs = 5000},
				{name = "Veste + Gilet + Chemise", description = '1', slot = '11', draw = '31', tex = '3', pal = '0', slot8 = '8', draw8 = '34', tex8 = '3', pal8 = '0', costs = 5000},
				{name = "Veste + Gilet + Chemise", description = '1', slot = '11', draw = '31', tex = '4', pal = '0', slot8 = '8', draw8 = '34', tex8 = '3', pal8 = '0', costs = 5000},
				{name = "Veste + Gilet + Chemise", description = '1', slot = '11', draw = '31', tex = '5', pal = '0', slot8 = '8', draw8 = '34', tex8 = '3', pal8 = '0', costs = 5000},
				{name = "Veste + Gilet + Chemise", description = '1', slot = '11', draw = '31', tex = '6', pal = '0', slot8 = '8', draw8 = '34', tex8 = '3', pal8 = '0', costs = 5000},
				{name = "Veste + Gilet + Chemise", description = '1', slot = '11', draw = '31', tex = '7', pal = '0', slot8 = '8', draw8 = '34', tex8 = '3', pal8 = '0', costs = 5000},
				
				{name = "Veste + Col roulÃ©", description = '1', slot = '11', draw = '32', tex = '0', pal = '0', slot8 = '8', draw8 = '71', tex8 = '4', pal8 = '0', costs = 5000},
				{name = "Veste + Col roulÃ©", description = '1', slot = '11', draw = '32', tex = '1', pal = '0', slot8 = '8', draw8 = '71', tex8 = '4', pal8 = '0', costs = 5000},
				{name = "Veste + Col roulÃ©", description = '1', slot = '11', draw = '32', tex = '2', pal = '0', slot8 = '8', draw8 = '71', tex8 = '4', pal8 = '0', costs = 5000},
				{name = "Veste + Col roulÃ©", description = '1', slot = '11', draw = '32', tex = '3', pal = '0', slot8 = '8', draw8 = '71', tex8 = '4', pal8 = '0', costs = 5000},
				{name = "Veste + Col roulÃ©", description = '1', slot = '11', draw = '32', tex = '4', pal = '0', slot8 = '8', draw8 = '71', tex8 = '4', pal8 = '0', costs = 5000},
				{name = "Veste + Col roulÃ©", description = '1', slot = '11', draw = '32', tex = '5', pal = '0', slot8 = '8', draw8 = '71', tex8 = '4', pal8 = '0', costs = 5000},
				{name = "Veste + Col roulÃ©", description = '1', slot = '11', draw = '32', tex = '6', pal = '0', slot8 = '8', draw8 = '71', tex8 = '4', pal8 = '0', costs = 5000},
				{name = "Veste + Col roulÃ©", description = '1', slot = '11', draw = '32', tex = '7', pal = '0', slot8 = '8', draw8 = '71', tex8 = '4', pal8 = '0', costs = 5000},
				
				{name = "Blazer + Chemise", description = '1', slot = '11', draw = '35', tex = '0', pal = '0', slot8 = '8', draw8 = '12', tex8 = '4', pal8 = '0', costs = 5000},
				{name = "Blazer + Chemise", description = '1', slot = '11', draw = '35', tex = '1', pal = '0', slot8 = '8', draw8 = '12', tex8 = '4', pal8 = '0', costs = 5000},
				{name = "Blazer + Chemise", description = '1', slot = '11', draw = '35', tex = '2', pal = '0', slot8 = '8', draw8 = '12', tex8 = '4', pal8 = '0', costs = 5000},
				{name = "Blazer + Chemise", description = '1', slot = '11', draw = '35', tex = '3', pal = '0', slot8 = '8', draw8 = '12', tex8 = '4', pal8 = '0', costs = 5000},
				{name = "Blazer + Chemise", description = '1', slot = '11', draw = '35', tex = '4', pal = '0', slot8 = '8', draw8 = '12', tex8 = '4', pal8 = '0', costs = 5000},
				{name = "Blazer + Chemise", description = '1', slot = '11', draw = '35', tex = '5', pal = '0', slot8 = '8', draw8 = '12', tex8 = '4', pal8 = '0', costs = 5000},
				{name = "Blazer + Chemise", description = '1', slot = '11', draw = '35', tex = '6', pal = '0', slot8 = '8', draw8 = '12', tex8 = '4', pal8 = '0', costs = 5000},
				
				{name = "Queue de Pie America", description = '1', slot = '11', draw = '46', tex = '0', pal = '0', slot8 = '8', draw8 = '45', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Queue de Pie America", description = '1', slot = '11', draw = '46', tex = '1', pal = '0', slot8 = '8', draw8 = '45', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Queue de Pie America", description = '1', slot = '11', draw = '46', tex = '2', pal = '0', slot8 = '8', draw8 = '45', tex8 = '0', pal8 = '0', costs = 5000},
				
				{name = "Queue de Pie", description = '1', slot = '11', draw = '58', tex = '0', pal = '0', slot8 = '8', draw8 = '26', tex8 = '8', pal8 = '0', costs = 5000},
				
				{name = "Veste + Gilet + Chemise", description = '1', slot = '11', draw = '59', tex = '0', pal = '0', slot8 = '8', draw8 = '26', tex8 = '8', pal8 = '0', costs = 5000},
				{name = "Veste + Gilet + Chemise", description = '1', slot = '11', draw = '59', tex = '1', pal = '0', slot8 = '8', draw8 = '26', tex8 = '8', pal8 = '0', costs = 5000},
				{name = "Veste + Gilet + Chemise", description = '1', slot = '11', draw = '59', tex = '2', pal = '0', slot8 = '8', draw8 = '26', tex8 = '8', pal8 = '0', costs = 5000},
				{name = "Veste + Gilet + Chemise", description = '1', slot = '11', draw = '59', tex = '3', pal = '0', slot8 = '8', draw8 = '26', tex8 = '8', pal8 = '0', costs = 5000},
				
				{name = "Manteau avec fourrure", description = '1', slot = '11', draw = '70', tex = '0', pal = '0', slot8 = '8', draw8 = '23', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Manteau avec fourrure", description = '1', slot = '11', draw = '70', tex = '1', pal = '0', slot8 = '8', draw8 = '23', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Manteau avec fourrure", description = '1', slot = '11', draw = '70', tex = '2', pal = '0', slot8 = '8', draw8 = '23', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Manteau avec fourrure", description = '1', slot = '11', draw = '70', tex = '3', pal = '0', slot8 = '8', draw8 = '23', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Manteau avec fourrure", description = '1', slot = '11', draw = '70', tex = '4', pal = '0', slot8 = '8', draw8 = '23', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Manteau avec fourrure", description = '1', slot = '11', draw = '70', tex = '5', pal = '0', slot8 = '8', draw8 = '23', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Manteau avec fourrure", description = '1', slot = '11', draw = '70', tex = '6', pal = '0', slot8 = '8', draw8 = '23', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Manteau avec fourrure", description = '1', slot = '11', draw = '70', tex = '7', pal = '0', slot8 = '8', draw8 = '23', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Manteau avec fourrure", description = '1', slot = '11', draw = '70', tex = '8', pal = '0', slot8 = '8', draw8 = '23', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Manteau avec fourrure", description = '1', slot = '11', draw = '70', tex = '9', pal = '0', slot8 = '8', draw8 = '23', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Manteau avec fourrure", description = '1', slot = '11', draw = '70', tex = '10', pal = '0', slot8 = '8', draw8 = '23', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Manteau avec fourrure", description = '1', slot = '11', draw = '70', tex = '11', pal = '0', slot8 = '8', draw8 = '23', tex8 = '0', pal8 = '0', costs = 5000},
				
				{name = "Manteau + Chemise", description = '1', slot = '11', draw = '72', tex = '0', pal = '0', slot8 = '8', draw8 = '11', tex8 = '10', pal8 = '0', costs = 5000},
				{name = "Manteau + Chemise", description = '1', slot = '11', draw = '72', tex = '1', pal = '0', slot8 = '8', draw8 = '11', tex8 = '10', pal8 = '0', costs = 5000},
				{name = "Manteau + Chemise", description = '1', slot = '11', draw = '72', tex = '2', pal = '0', slot8 = '8', draw8 = '11', tex8 = '10', pal8 = '0', costs = 5000},
				{name = "Manteau + Chemise", description = '1', slot = '11', draw = '72', tex = '3', pal = '0', slot8 = '8', draw8 = '11', tex8 = '10', pal8 = '0', costs = 5000},
				
				{name = "Veste de marque + T-shirt", description = '1', slot = '11', draw = '74', tex = '0', pal = '0', slot8 = '8', draw8 = '23', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Veste de marque + T-shirt", description = '1', slot = '11', draw = '74', tex = '1', pal = '0', slot8 = '8', draw8 = '23', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Veste de marque + T-shirt", description = '1', slot = '11', draw = '74', tex = '2', pal = '0', slot8 = '8', draw8 = '23', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Veste de marque + T-shirt", description = '1', slot = '11', draw = '74', tex = '3', pal = '0', slot8 = '8', draw8 = '23', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Veste de marque + T-shirt", description = '1', slot = '11', draw = '74', tex = '4', pal = '0', slot8 = '8', draw8 = '23', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Veste de marque + T-shirt", description = '1', slot = '11', draw = '74', tex = '5', pal = '0', slot8 = '8', draw8 = '23', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Veste de marque + T-shirt", description = '1', slot = '11', draw = '74', tex = '6', pal = '0', slot8 = '8', draw8 = '23', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Veste de marque + T-shirt", description = '1', slot = '11', draw = '74', tex = '7', pal = '0', slot8 = '8', draw8 = '23', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Veste de marque + T-shirt", description = '1', slot = '11', draw = '74', tex = '8', pal = '0', slot8 = '8', draw8 = '23', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Veste de marque + T-shirt", description = '1', slot = '11', draw = '74', tex = '9', pal = '0', slot8 = '8', draw8 = '23', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Veste de marque + T-shirt", description = '1', slot = '11', draw = '74', tex = '10', pal = '0', slot8 = '8', draw8 = '23', tex8 = '1', pal8 = '0', costs = 5000},
				
				{name = "Manteau + Chemise", description = '1', slot = '11', draw = '76', tex = '0', pal = '0', slot8 = '8', draw8 = '11', tex8 = '10', pal8 = '0', costs = 5000},
				{name = "Manteau + Chemise", description = '1', slot = '11', draw = '76', tex = '1', pal = '0', slot8 = '8', draw8 = '11', tex8 = '10', pal8 = '0', costs = 5000},
				{name = "Manteau + Chemise", description = '1', slot = '11', draw = '76', tex = '2', pal = '0', slot8 = '8', draw8 = '11', tex8 = '10', pal8 = '0', costs = 5000},
				{name = "Manteau + Chemise", description = '1', slot = '11', draw = '76', tex = '3', pal = '0', slot8 = '8', draw8 = '11', tex8 = '10', pal8 = '0', costs = 5000},
				{name = "Manteau + Chemise", description = '1', slot = '11', draw = '76', tex = '4', pal = '0', slot8 = '8', draw8 = '11', tex8 = '10', pal8 = '0', costs = 5000},
				
				{name = "Manteau + Gilet + Chemise", description = '1', slot = '11', draw = '77', tex = '0', pal = '0', slot8 = '8', draw8 = '25', tex8 = '8', pal8 = '0', costs = 5000},
				{name = "Manteau + Gilet + Chemise", description = '1', slot = '11', draw = '77', tex = '1', pal = '0', slot8 = '8', draw8 = '25', tex8 = '8', pal8 = '0', costs = 5000},
				{name = "Manteau + Gilet + Chemise", description = '1', slot = '11', draw = '77', tex = '2', pal = '0', slot8 = '8', draw8 = '25', tex8 = '8', pal8 = '0', costs = 5000},
				{name = "Manteau + Gilet + Chemise", description = '1', slot = '11', draw = '77', tex = '3', pal = '0', slot8 = '8', draw8 = '25', tex8 = '8', pal8 = '0', costs = 5000},
				
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '88', tex = '0', pal = '0', slot8 = '8', draw8 = '1', tex8 = '12', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '88', tex = '1', pal = '0', slot8 = '8', draw8 = '1', tex8 = '12', pal8 = '0', costs = 5000},
				
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '99', tex = '0', pal = '0', slot8 = '8', draw8 = '31', tex8 = '14', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '99', tex = '1', pal = '0', slot8 = '8', draw8 = '31', tex8 = '14', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '99', tex = '2', pal = '0', slot8 = '8', draw8 = '31', tex8 = '14', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '99', tex = '3', pal = '0', slot8 = '8', draw8 = '31', tex8 = '14', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '99', tex = '4', pal = '0', slot8 = '8', draw8 = '31', tex8 = '14', pal8 = '0', costs = 5000},
				
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '100', tex = '0', pal = '0', slot8 = '8', draw8 = '31', tex8 = '9', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '100', tex = '1', pal = '0', slot8 = '8', draw8 = '31', tex8 = '9', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '100', tex = '2', pal = '0', slot8 = '8', draw8 = '31', tex8 = '9', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '100', tex = '3', pal = '0', slot8 = '8', draw8 = '31', tex8 = '9', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '100', tex = '4', pal = '0', slot8 = '8', draw8 = '31', tex8 = '9', pal8 = '0', costs = 5000},
				
				{name = "Blazer + Chemise", description = '1', slot = '11', draw = '101', tex = '0', pal = '0', slot8 = '8', draw8 = '32', tex8 = '5', pal8 = '0', costs = 5000},
				{name = "Blazer + Chemise", description = '1', slot = '11', draw = '101', tex = '1', pal = '0', slot8 = '8', draw8 = '32', tex8 = '5', pal8 = '0', costs = 5000},
				{name = "Blazer + Chemise", description = '1', slot = '11', draw = '101', tex = '2', pal = '0', slot8 = '8', draw8 = '32', tex8 = '5', pal8 = '0', costs = 5000},
				{name = "Blazer + Chemise", description = '1', slot = '11', draw = '101', tex = '3', pal = '0', slot8 = '8', draw8 = '32', tex8 = '5', pal8 = '0', costs = 5000},
				
				{name = "Blazer + Chemise", description = '1', slot = '11', draw = '102', tex = '0', pal = '0', slot8 = '8', draw8 = '32', tex8 = '5', pal8 = '0', costs = 5000},
				{name = "Blazer + Chemise", description = '1', slot = '11', draw = '102', tex = '1', pal = '0', slot8 = '8', draw8 = '32', tex8 = '5', pal8 = '0', costs = 5000},
				{name = "Blazer + Chemise", description = '1', slot = '11', draw = '102', tex = '2', pal = '0', slot8 = '8', draw8 = '32', tex8 = '5', pal8 = '0', costs = 5000},
				{name = "Blazer + Chemise", description = '1', slot = '11', draw = '102', tex = '3', pal = '0', slot8 = '8', draw8 = '32', tex8 = '5', pal8 = '0', costs = 5000},
				
				{name = "Veste Ã  motif + Chemise", description = '1', slot = '11', draw = '103', tex = '0', pal = '0', slot8 = '8', draw8 = '32', tex8 = '1', pal8 = '0', costs = 5000},
				
				{name = "Veste Ã  motif + Chemise", description = '1', slot = '11', draw = '104', tex = '0', pal = '0', slot8 = '8', draw8 = '32', tex8 = '1', pal8 = '0', costs = 5000},
				
				{name = "Manteau + Polo", description = '1', slot = '11', draw = '106', tex = '0', pal = '0', slot8 = '8', draw8 = '9', tex8 = '2', pal8 = '0', costs = 5000},
				
				{name = "Manteau + Col roulÃ©", description = '1', slot = '11', draw = '108', tex = '0', pal = '0', slot8 = '8', draw8 = '75', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Manteau + Col roulÃ©", description = '1', slot = '11', draw = '108', tex = '1', pal = '0', slot8 = '8', draw8 = '75', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Manteau + Col roulÃ©", description = '1', slot = '11', draw = '108', tex = '2', pal = '0', slot8 = '8', draw8 = '75', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Manteau + Col roulÃ©", description = '1', slot = '11', draw = '108', tex = '3', pal = '0', slot8 = '8', draw8 = '75', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Manteau + Col roulÃ©", description = '1', slot = '11', draw = '108', tex = '4', pal = '0', slot8 = '8', draw8 = '75', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Manteau + Col roulÃ©", description = '1', slot = '11', draw = '108', tex = '5', pal = '0', slot8 = '8', draw8 = '75', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Manteau + Col roulÃ©", description = '1', slot = '11', draw = '108', tex = '6', pal = '0', slot8 = '8', draw8 = '75', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Manteau + Col roulÃ©", description = '1', slot = '11', draw = '108', tex = '7', pal = '0', slot8 = '8', draw8 = '75', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Manteau + Col roulÃ©", description = '1', slot = '11', draw = '108', tex = '8', pal = '0', slot8 = '8', draw8 = '75', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Manteau + Col roulÃ©", description = '1', slot = '11', draw = '108', tex = '9', pal = '0', slot8 = '8', draw8 = '75', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Manteau + Col roulÃ©", description = '1', slot = '11', draw = '108', tex = '10', pal = '0', slot8 = '8', draw8 = '75', tex8 = '1', pal8 = '0', costs = 5000},
				
				{name = "Manteau + T-shirt", description = '1', slot = '11', draw = '112', tex = '0', pal = '0', slot8 = '8', draw8 = '39', tex8 = '0', pal8 = '0', costs = 5000},
				
				{name = "Manteau + Gilet + Chemise", description = '1', slot = '11', draw = '115', tex = '0', pal = '0', slot8 = '8', draw8 = '4', tex8 = '1', pal8 = '0', costs = 5000},
				
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '119', tex = '0', pal = '0', slot8 = '8', draw8 = '45', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '119', tex = '1', pal = '0', slot8 = '8', draw8 = '45', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '119', tex = '2', pal = '0', slot8 = '8', draw8 = '45', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '119', tex = '3', pal = '0', slot8 = '8', draw8 = '45', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '119', tex = '4', pal = '0', slot8 = '8', draw8 = '45', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '119', tex = '5', pal = '0', slot8 = '8', draw8 = '45', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '119', tex = '6', pal = '0', slot8 = '8', draw8 = '45', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '119', tex = '7', pal = '0', slot8 = '8', draw8 = '45', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '119', tex = '8', pal = '0', slot8 = '8', draw8 = '45', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '119', tex = '9', pal = '0', slot8 = '8', draw8 = '45', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '119', tex = '10', pal = '0', slot8 = '8', draw8 = '45', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '119', tex = '11', pal = '0', slot8 = '8', draw8 = '45', tex8 = '0', pal8 = '0', costs = 5000},
				
				{name = "Blouson + T-shirt Col V", description = '1', slot = '11', draw = '136', tex = '0', pal = '0', slot8 = '8', draw8 = '16', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Blouson + T-shirt Col V", description = '1', slot = '11', draw = '136', tex = '1', pal = '0', slot8 = '8', draw8 = '16', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Blouson + T-shirt Col V", description = '1', slot = '11', draw = '136', tex = '2', pal = '0', slot8 = '8', draw8 = '16', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Blouson + T-shirt Col V", description = '1', slot = '11', draw = '136', tex = '3', pal = '0', slot8 = '8', draw8 = '16', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Blouson + T-shirt Col V", description = '1', slot = '11', draw = '136', tex = '4', pal = '0', slot8 = '8', draw8 = '16', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Blouson + T-shirt Col V", description = '1', slot = '11', draw = '136', tex = '5', pal = '0', slot8 = '8', draw8 = '16', tex8 = '1', pal8 = '0', costs = 5000},
				{name = "Blouson + T-shirt Col V", description = '1', slot = '11', draw = '136', tex = '6', pal = '0', slot8 = '8', draw8 = '16', tex8 = '1', pal8 = '0', costs = 5000},
				
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '140', tex = '0', pal = '0', slot8 = '8', draw8 = '31', tex8 = '11', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '140', tex = '1', pal = '0', slot8 = '8', draw8 = '31', tex8 = '11', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '140', tex = '2', pal = '0', slot8 = '8', draw8 = '31', tex8 = '11', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '140', tex = '3', pal = '0', slot8 = '8', draw8 = '31', tex8 = '11', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '140', tex = '4', pal = '0', slot8 = '8', draw8 = '31', tex8 = '11', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '140', tex = '5', pal = '0', slot8 = '8', draw8 = '31', tex8 = '11', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '140', tex = '6', pal = '0', slot8 = '8', draw8 = '31', tex8 = '11', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '140', tex = '7', pal = '0', slot8 = '8', draw8 = '31', tex8 = '11', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '140', tex = '8', pal = '0', slot8 = '8', draw8 = '31', tex8 = '11', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '140', tex = '9', pal = '0', slot8 = '8', draw8 = '31', tex8 = '11', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '140', tex = '10', pal = '0', slot8 = '8', draw8 = '31', tex8 = '11', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '140', tex = '11', pal = '0', slot8 = '8', draw8 = '31', tex8 = '11', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '140', tex = '12', pal = '0', slot8 = '8', draw8 = '31', tex8 = '11', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '140', tex = '13', pal = '0', slot8 = '8', draw8 = '31', tex8 = '11', pal8 = '0', costs = 5000},
				{name = "Veste + Chemise", description = '1', slot = '11', draw = '140', tex = '14', pal = '0', slot8 = '8', draw8 = '31', tex8 = '11', pal8 = '0', costs = 5000},
				
				{name = "Manteau + Gilet + Chemise", description = '1', slot = '11', draw = '142', tex = '0', pal = '0', slot8 = '8', draw8 = '4', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Manteau + Gilet + Chemise", description = '1', slot = '11', draw = '142', tex = '1', pal = '0', slot8 = '8', draw8 = '4', tex8 = '0', pal8 = '0', costs = 5000},
				{name = "Manteau + Gilet + Chemise", description = '1', slot = '11', draw = '142', tex = '2', pal = '0', slot8 = '8', draw8 = '4', tex8 = '0', pal8 = '0', costs = 5000},
				
				{name = "Manteau + Chemise", description = '1', slot = '11', draw = '145', tex = '0', pal = '0', slot8 = '8', draw8 = '31', tex8 = '6', pal8 = '0', costs = 5000},
				{name = "Manteau + Chemise", description = '1', slot = '11', draw = '145', tex = '1', pal = '0', slot8 = '8', draw8 = '31', tex8 = '6', pal8 = '0', costs = 5000},
				{name = "Manteau + Chemise", description = '1', slot = '11', draw = '145', tex = '2', pal = '0', slot8 = '8', draw8 = '31', tex8 = '6', pal8 = '0', costs = 5000},
				{name = "Manteau + Chemise", description = '1', slot = '11', draw = '145', tex = '3', pal = '0', slot8 = '8', draw8 = '31', tex8 = '6', pal8 = '0', costs = 5000},
				{name = "Manteau + Chemise", description = '1', slot = '11', draw = '145', tex = '4', pal = '0', slot8 = '8', draw8 = '31', tex8 = '6', pal8 = '0', costs = 5000},
				{name = "Manteau + Chemise", description = '1', slot = '11', draw = '145', tex = '5', pal = '0', slot8 = '8', draw8 = '31', tex8 = '6', pal8 = '0', costs = 5000},
				{name = "Manteau + Chemise", description = '1', slot = '11', draw = '145', tex = '6', pal = '0', slot8 = '8', draw8 = '31', tex8 = '6', pal8 = '0', costs = 5000},
				{name = "Manteau + Chemise", description = '1', slot = '11', draw = '145', tex = '7', pal = '0', slot8 = '8', draw8 = '31', tex8 = '6', pal8 = '0', costs = 5000},
				{name = "Manteau + Chemise", description = '1', slot = '11', draw = '145', tex = '8', pal = '0', slot8 = '8', draw8 = '31', tex8 = '6', pal8 = '0', costs = 5000},
				{name = "Manteau + Chemise", description = '1', slot = '11', draw = '145', tex = '9', pal = '0', slot8 = '8', draw8 = '31', tex8 = '6', pal8 = '0', costs = 5000},
				{name = "Manteau + Chemise", description = '1', slot = '11', draw = '145', tex = '10', pal = '0', slot8 = '8', draw8 = '31', tex8 = '6', pal8 = '0', costs = 5000},
				{name = "Manteau + Chemise", description = '1', slot = '11', draw = '145', tex = '11', pal = '0', slot8 = '8', draw8 = '31', tex8 = '6', pal8 = '0', costs = 5000},
				{name = "Manteau + Chemise", description = '1', slot = '11', draw = '145', tex = '12', pal = '0', slot8 = '8', draw8 = '31', tex8 = '6', pal8 = '0', costs = 5000},
				{name = "Manteau + Chemise", description = '1', slot = '11', draw = '145', tex = '13', pal = '0', slot8 = '8', draw8 = '31', tex8 = '6', pal8 = '0', costs = 5000},
				
				{name = "Blouson + T-shirt Col V", description = '1', slot = '11', draw = '151', tex = '0', pal = '0', slot8 = '8', draw8 = '1', tex8 = '6', pal8 = '0', costs = 5000},
				{name = "Blouson + T-shirt Col V", description = '1', slot = '11', draw = '151', tex = '1', pal = '0', slot8 = '8', draw8 = '1', tex8 = '6', pal8 = '0', costs = 5000},
				{name = "Blouson + T-shirt Col V", description = '1', slot = '11', draw = '151', tex = '2', pal = '0', slot8 = '8', draw8 = '1', tex8 = '6', pal8 = '0', costs = 5000},
				{name = "Blouson + T-shirt Col V", description = '1', slot = '11', draw = '151', tex = '3', pal = '0', slot8 = '8', draw8 = '1', tex8 = '6', pal8 = '0', costs = 5000},
				{name = "Blouson + T-shirt Col V", description = '1', slot = '11', draw = '151', tex = '4', pal = '0', slot8 = '8', draw8 = '1', tex8 = '6', pal8 = '0', costs = 5000},
				{name = "Blouson + T-shirt Col V", description = '1', slot = '11', draw = '151', tex = '5', pal = '0', slot8 = '8', draw8 = '1', tex8 = '6', pal8 = '0', costs = 5000},
				
			}
		},		
		["panthomme"] = { 
			title = "Pantalons Homme", 
			name = "panthomme",
			buttons = { 
				{name = "Jeans en lin", description = ''},
				{name = "Pantalons Chic", description = ''},
			}
		},
		["pant1"] = { 
			title = "Jeans en lin", 
			name = "pant1",
			buttons = { 
				{name = "Pantalon gris foncÃ©", description = '', slot = '4', draw = '8', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon beige", description = '', slot = '4', draw = '8', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon gris clair", description = '', slot = '4', draw = '8', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon bleu", description = '', slot = '4', draw = '8', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
			}
		},
		["pant2"] = { 
			title = "Pantalons Chic", 
			name = "pant2",
			buttons = { 
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '10', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '10', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '10', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '13', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '13', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '13', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '20', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon Ã  rayures", description = '', slot = '4', draw = '20', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon Ã  rayures", description = '', slot = '4', draw = '20', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon Ã  rayures", description = '', slot = '4', draw = '20', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '22', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '22', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '22', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '22', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '22', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '22', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon Ã  points", description = '', slot = '4', draw = '22', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '22', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '22', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon Ã  carreaux", description = '', slot = '4', draw = '22', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon Ã  carreaux", description = '', slot = '4', draw = '22', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon Ã  carreaux", description = '', slot = '4', draw = '22', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '22', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '23', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '23', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '23', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '23', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '23', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '23', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon Ã  points", description = '', slot = '4', draw = '23', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '23', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '23', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon Ã  rayures", description = '', slot = '4', draw = '23', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon Ã  rayures", description = '', slot = '4', draw = '23', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon Ã  rayures", description = '', slot = '4', draw = '23', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '23', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '25', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '25', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '25', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '25', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '25', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '25', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '25', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon couleur unie", description = '', slot = '4', draw = '35', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon Ã  points", description = '', slot = '4', draw = '60', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon Ã  rayures", description = '', slot = '4', draw = '60', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon Ã  carreaux", description = '', slot = '4', draw = '60', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon Ã  carreaux", description = '', slot = '4', draw = '60', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon Ã  carreaux", description = '', slot = '4', draw = '60', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon Ã  carreaux", description = '', slot = '4', draw = '60', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon Ã  carreaux", description = '', slot = '4', draw = '60', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon Ã  rayures", description = '', slot = '4', draw = '60', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon Ã  carreaux", description = '', slot = '4', draw = '60', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon Ã  carreaux", description = '', slot = '4', draw = '60', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon Ã  carreaux", description = '', slot = '4', draw = '60', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Pantalon Ã  carreaux", description = '', slot = '4', draw = '60', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
			}
		},
		
--CHAUSSURE		
		["chausshomme"] = { 
			title = "Chaussures Homme", 
			name = "chausshomme",
			buttons = { 
				{name = "Chic", description = ''},
			}
		},
		["chauss1"] = { 
			title = "Chic", 
			name = "chauss1",
			buttons = { 
				{name = "Chaussures", description = '', slot = '6', draw = '10', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '10', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '10', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '10', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '11', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '11', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '11', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '11', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '12', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '13', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '14', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '15', tex = '15', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '18', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '18', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '19', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '20', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '20', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '20', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '20', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '20', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '20', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '20', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '20', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '20', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '20', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '20', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '20', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '21', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '21', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '21', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '21', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '21', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '21', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '21', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '21', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '21', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '21', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '21', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '21', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '38', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '38', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '38', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '38', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '38', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '40', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '40', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '40', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '40', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '40', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '40', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '40', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '40', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '40', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '40', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '40', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '40', tex = '11', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '45', tex = '0', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '45', tex = '1', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '45', tex = '2', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '45', tex = '3', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '45', tex = '4', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '45', tex = '5', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '45', tex = '6', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '45', tex = '7', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '45', tex = '8', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '45', tex = '9', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
				{name = "Chaussures", description = '', slot = '6', draw = '45', tex = '10', pal = '0', slot3 = '3', draw3 = '0', tex3 = '0', pal3 = '0', costs = 300},
			}
		},
		
--FILLE
		["fille"] = { 
			title = "Vetements Fille", 
			name = "fille",
			buttons = { 
			}
		},
	}
}

local fakecar = {model = '', car = nil}
local clothshopluxe_locations = {
[1] = {inside = {-711.1534,-155.039,37.41514}},
-- [2] = {inside = {-1452.254,-236.6661,49.80675}},--Chic
}

local clothshopluxe_blips ={}
local inrangeofclothshopluxe = false
local currentlocation = nil
local boughtcloth = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfclothshopluxe()
return inrangeofclothshopluxe
end

function ShowclothshopluxeBlips(bool)
	if bool and #clothshopluxe_blips == 0 then
		for station,pos in pairs(clothshopluxe_locations) do
			local loc = pos
			pos = pos.inside
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,73)
			SetBlipColour(blip, 28)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Boutique de vÃªtements de Luxe')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(clothshopluxe_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #clothshopluxe_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(clothshopluxe_blips) do
					if GetDistanceBetweenCoords(b.pos.inside[1],b.pos.inside[2],b.pos.inside[3],GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(1,b.pos.inside[1],b.pos.inside[2],b.pos.inside[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.inside[1],b.pos.inside[2],b.pos.inside[3],GetEntityCoords(LocalPed()),true) < 4 then
						-- drawTxt('Appuyez sur ~g~ENTRER~s~ pour acheter une ~b~Tenue',0,1,0.5,0.8,0.6,255,255,255,255)
						Show("Appuyez sur ~INPUT_CONTEXT~ pour acheter des ~b~vÃªtements.")
						inrange = true
						end
					end
				end
				inrangeofclothshopluxe = inrange
			end
		end)
	elseif bool == false and #clothshopluxe_blips > 0 then
		for i,b in ipairs(clothshopluxe_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		clothshopluxe_blips = {}
	end
end

function fi(n)
return n + 0.0001
end

function LocalPed()
return GetPlayerPed(-1)
end

function tryclothLuxe(fi, catch_f)
local status, exception = pcall(fi)
if not status then
catch_f(exception)
end
end
function firstToUpperClothLuxe(str)
    return (str:gsub("^%l", string.upper))
end
--local veh = nil
function OpenCreatorLuxe()		
	boughtcloth = false
	local ped = LocalPed()
	local pos = currentlocation.pos.inside
	local g = Citizen.InvokeNative(0xC906A7DAB05C8D2B,pos[1],pos[2],pos[3],Citizen.PointerValueFloat(),0)
	clothshopluxe.currentmenu = "main2"
	clothshopluxe.opened = true
	clothshopluxe.selectedbutton = 0
end
local cloth_price = 0
function CloseCreatorLuxe()
	Citizen.CreateThread(function()
		local ped = LocalPed()
		if not boughtcloth then
			local pos = currentlocation.pos.inside
			FreezeEntityPosition(ped,false)
			SetEntityVisible(ped,true)
		else
			local model = GetEntityModel(cloth)

			Citizen.InvokeNative(0xEA386986E786A54F, Citizen.PointerValueIntInitialized(cloth))
			local pos = currentlocation.pos.inside

			FreezeEntityPosition(ped,false)
			RequestModel(model)
			while not HasModelLoaded(model) do
				Citizen.Wait(0)
			end
			SetModelAsNoLongerNeeded(model)
			SetClothHasBeenOwnedByPlayer(skin,true)
			local id = NetworkGetNetworkIdFromEntity(skin)
			SetNetworkIdCanMigrate(id, true)
			Citizen.InvokeNative(0x629BFA74418D6239,Citizen.PointerValueIntInitialized(skin))
			SetEntityVisible(ped,true)
			FreezeEntityPosition(ped,false)
			TriggerEvent('BoughtPv',skin)
			
		end
		clothshopluxe.opened = false
		clothshopluxe.menu.from = 1
		clothshopluxe.menu.to = 10
		TriggerServerEvent('SetVariationServer')
	end)
end
	
function drawMenuButton(button,x,y,selected)
	local menu = clothshopluxe.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
		
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = clothshopluxe.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = clothshopluxe.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitleClothLuxe(txt,x,y)
local menu = clothshopluxe.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end
function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function NotifyLuxe(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

function DoesPlayerHaveSkin(model,button,y,selected)
		local t = false
		--TODO:check if player own car
		if t then
			drawMenuRight("OWNED",clothshopluxe.menu.x,y,selected)
		else
			drawMenuRight(button.costs.."$",clothshopluxe.menu.x,y,selected)
		end
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfclothshopluxe() then
			if clothshopluxe.opened then
				CloseCreatorLuxe()
			else
				OpenCreatorLuxe()
				clearPed()
			end
		end
		if clothshopluxe.opened then
			local ped = LocalPed()
			local menu = clothshopluxe.menu[clothshopluxe.currentmenu]
			drawTxt(clothshopluxe.title,1,1,clothshopluxe.menu.x,clothshopluxe.menu.y,1.0, 255,255,255,255)
			drawMenuTitleClothLuxe(menu.title, clothshopluxe.menu.x,clothshopluxe.menu.y + 0.08)
			drawTxt(clothshopluxe.selectedbutton.."/"..tablelength(menu.buttons),0,0,clothshopluxe.menu.x + clothshopluxe.menu.width/2 - 0.0385,clothshopluxe.menu.y + 0.067,0.4, 255,255,255,255)
			local y = clothshopluxe.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= clothshopluxe.menu.from and i <= clothshopluxe.menu.to then
					
					if i == clothshopluxe.selectedbutton then
						selected = true	
						
						SetPedComponentVariation(GetPlayerPed(-1), tonumber(button.slot),tonumber(button.draw),tonumber(button.tex),tonumber(button.pal))	
                        if clothshopluxe.currentmenu == "haut4" then
					    SetPedComponentVariation(GetPlayerPed(-1), tonumber(button.slot8),tonumber(button.draw8),tonumber(button.tex8),tonumber(button.pal8))
					    SetPedComponentVariation(GetPlayerPed(-1), 3,1,0,0)
						else
						SetPedComponentVariation(GetPlayerPed(-1), 8,15,0,0)
					    SetPedComponentVariation(GetPlayerPed(-1), tonumber(button.slot3),tonumber(button.draw3),tonumber(button.tex3),tonumber(button.pal3))
                        end		
						
					else
						selected = false
					end
					drawMenuButton(button,clothshopluxe.menu.x,y,selected)
					if button.costs ~= nil then
						if clothshopluxe.currentmenu == "tenueh1" then
       						DoesPlayerHaveSkin(button.model,button,y,selected)
						else
						drawMenuRight(button.costs.."$",clothshopluxe.menu.x,y,selected)
						end
					end
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedLuxe(button)
					end
				end
			end	
		end
		if clothshopluxe.opened then
			if IsControlJustPressed(1,202) then
				BackLuxe()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if clothshopluxe.selectedbutton > 1 then
					clothshopluxe.selectedbutton = clothshopluxe.selectedbutton -1
					if buttoncount > 10 and clothshopluxe.selectedbutton < clothshopluxe.menu.from then
						clothshopluxe.menu.from = clothshopluxe.menu.from -1
						clothshopluxe.menu.to = clothshopluxe.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if clothshopluxe.selectedbutton < buttoncount then
					clothshopluxe.selectedbutton = clothshopluxe.selectedbutton +1
					if buttoncount > 10 and clothshopluxe.selectedbutton > clothshopluxe.menu.to then
						clothshopluxe.menu.to = clothshopluxe.menu.to + 1
						clothshopluxe.menu.from = clothshopluxe.menu.from + 1
					end
				end	
			end
		end
		
	end
end)


function roundCloth(num1, idp2)
  if idp2 and idp2>0 then
    local mult = 10^idp2
    return math.floor(num1 * mult + 0.5) / mult
  end
  return math.floor(num1 + 0.5)
end
function ButtonSelectedLuxe(button)
	local ped = GetPlayerPed(-1)
	local this = clothshopluxe.currentmenu
	local btn = button.name
	if this == "main2" then
		if btn == "VÃªtements Homme" then
			OpenMenuLuxe('homme')
		elseif btn == "VÃªtements Fille" then
			OpenMenuLuxe('fille')
		end
	elseif this == "homme" then
		if btn == "Hauts" then
			OpenMenuLuxe('hauthomme')
		elseif btn == "Pantalons" then
			OpenMenuLuxe('panthomme')
		elseif btn == "Chaussures" then
			OpenMenuLuxe('chausshomme')			
		end
	elseif this == "hauthomme" then
		if btn == "Polo" then
			OpenMenuLuxe('haut1')
		elseif btn == "Chemises" then
			OpenMenuLuxe('haut2')
		elseif btn == "Manteaux" then
			OpenMenuLuxe('haut3')
		elseif btn == "Costard" then
			OpenMenuLuxe('haut4')
		end
	elseif this == "panthomme" then
		if btn == "Jeans en lin" then
			OpenMenuLuxe('pant1')
		elseif btn == "Pantalons Chic" then
			OpenMenuLuxe('pant2')
		end
	elseif this == "chausshomme" then
		if btn == "Chic" then
			OpenMenuLuxe('chauss1')
		end
	elseif this == "chauss1" or this == "pant1" or this == "pant2" or this == "haut1" or this == "haut2" or this == "haut3" then
	TriggerServerEvent('CheckMoneyForCloth2',button.slot,button.draw,button.tex,button.pal,button.slot3,button.draw3,button.tex3,button.pal3,button.costs)
	elseif this == "haut4" then
	TriggerServerEvent('CheckMoneyForCloth3',button.slot,button.draw,button.tex,button.pal,button.slot8,button.draw8,button.tex8,button.pal8,"3","1","0","0",button.costs)
	end
end

RegisterNetEvent('FinishCheckForClothluxe')
AddEventHandler('FinishCheckForClothluxe', function(button)
	boughtcloth = true
	CloseCreatorLuxe()
	clothshopluxe.opened = false
	clothshopluxe.menu.from = 1
	clothshopluxe.menu.to = 10
	TriggerServerEvent('SetVariationServer')
	
end)

function OpenMenuLuxe(menu)
	clothshopluxe.lastmenu = clothshopluxe.currentmenu
	if menu == "homme" then
		clothshopluxe.lastmenu = "main2"
	elseif menu == "fille"  then
		clothshopluxe.lastmenu = "main2"
	else
		clothshopluxe.lastmenu = "homme"
	end
	
	clothshopluxe.menu.from = 1
	clothshopluxe.menu.to = 10
	clothshopluxe.selectedbutton = 0
	clothshopluxe.currentmenu = menu	
end


function BackLuxe()
	if backlock then
		return
	end
	backlock = true
	if clothshopluxe.currentmenu == "main2" then
		CloseCreatorLuxe()
		TriggerServerEvent('SetVariationServer')
	else
		OpenMenuLuxe(clothshopluxe.lastmenu)
	end
	
end

function stringstartsLuxe(String1,Start2)
   return string.sub(String1,1,string.len(Start2))==Start2
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowclothshopluxeBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  local maskshop = {
	opened = false,
	title = "Magasin de Masques",
	currentmenu = "main2",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.9,
		y = 0.20,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main2"] = { 
			title = "Categories", 
			name = "main2",
			buttons = { 
			    {name = "Retirer son masque", description = ''},
				{name = "Animaux", description = ''},
				{name = "Halloween", description = ''},
				{name = "Carnaval", description = ''},
				{name = "NoÃ«l", description = ''},
				{name = "Autres", description = ''},
				{name = "Comics", description = ''},
				{name = "Sac en papier", description = ''},
			}
		},
		["mask1"] = { 
			title = "Animaux", 
			name = "mask1",
			buttons = { 
				{name = "Animaux", description = '1', slot = '1', draw = '1', tex = '0', pal = '2', costs = 20000},
				{name = "Animaux", description = '1', slot = '1', draw = '1', tex = '1', pal = '2', costs = 20000},
				{name = "Animaux", description = '1', slot = '1', draw = '1', tex = '2', pal = '2', costs = 20000},
				{name = "Animaux", description = '1', slot = '1', draw = '1', tex = '3', pal = '2', costs = 20000},		
				
				{name = "Animaux", description = '1', slot = '1', draw = '3', tex = '0', pal = '2', costs = 20000},
				
				{name = "Animaux", description = '1', slot = '1', draw = '5', tex = '0', pal = '2', costs = 20000},
				{name = "Animaux", description = '1', slot = '1', draw = '5', tex = '1', pal = '2', costs = 20000},
				{name = "Animaux", description = '1', slot = '1', draw = '5', tex = '2', pal = '2', costs = 20000},
				{name = "Animaux", description = '1', slot = '1', draw = '5', tex = '3', pal = '2', costs = 20000},
				
				{name = "Animaux", description = '1', slot = '1', draw = '17', tex = '0', pal = '2', costs = 20000},
				{name = "Animaux", description = '1', slot = '1', draw = '17', tex = '1', pal = '2', costs = 20000},
				
				{name = "Animaux", description = '1', slot = '1', draw = '18', tex = '0', pal = '2', costs = 20000},
				{name = "Animaux", description = '1', slot = '1', draw = '18', tex = '1', pal = '2', costs = 20000},
				
				{name = "Animaux", description = '1', slot = '1', draw = '19', tex = '0', pal = '2', costs = 20000},
				{name = "Animaux", description = '1', slot = '1', draw = '19', tex = '1', pal = '2', costs = 20000},
				
				{name = "Animaux", description = '1', slot = '1', draw = '20', tex = '0', pal = '2', costs = 20000},
				{name = "Animaux", description = '1', slot = '1', draw = '20', tex = '1', pal = '2', costs = 20000},
				
				{name = "Animaux", description = '1', slot = '1', draw = '21', tex = '0', pal = '2', costs = 20000},
				{name = "Animaux", description = '1', slot = '1', draw = '21', tex = '1', pal = '2', costs = 20000},
				
				{name = "Animaux", description = '1', slot = '1', draw = '22', tex = '0', pal = '2', costs = 20000},
				{name = "Animaux", description = '1', slot = '1', draw = '22', tex = '1', pal = '2', costs = 20000},
				
				{name = "Animaux", description = '1', slot = '1', draw = '23', tex = '0', pal = '2', costs = 20000},
				{name = "Animaux", description = '1', slot = '1', draw = '23', tex = '1', pal = '2', costs = 20000},
				
				{name = "Animaux", description = '1', slot = '1', draw = '24', tex = '0', pal = '2', costs = 20000},
				{name = "Animaux", description = '1', slot = '1', draw = '24', tex = '1', pal = '2', costs = 20000},
				
				{name = "Animaux", description = '1', slot = '1', draw = '25', tex = '0', pal = '2', costs = 20000},
				{name = "Animaux", description = '1', slot = '1', draw = '25', tex = '1', pal = '2', costs = 20000},
				
				{name = "Animaux", description = '1', slot = '1', draw = '26', tex = '0', pal = '2', costs = 20000},
				{name = "Animaux", description = '1', slot = '1', draw = '26', tex = '1', pal = '2', costs = 20000},
				
				{name = "Animaux", description = '1', slot = '1', draw = '59', tex = '0', pal = '2', costs = 20000},
			}
		},
		["mask2"] = { 
			title = "Halloween", 
			name = "mask2",
			buttons = { 
				{name = "Halloween", description = '1', slot = '1', draw = '2', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '2', tex = '1', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '2', tex = '2', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '2', tex = '3', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '4', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '4', tex = '1', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '4', tex = '2', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '4', tex = '3', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '7', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '7', tex = '1', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '7', tex = '2', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '7', tex = '3', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '14', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '14', tex = '1', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '14', tex = '2', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '14', tex = '3', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '14', tex = '4', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '14', tex = '5', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '14', tex = '6', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '14', tex = '7', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '14', tex = '8', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '14', tex = '9', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '14', tex = '10', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '14', tex = '11', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '14', tex = '12', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '14', tex = '13', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '14', tex = '14', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '14', tex = '15', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '15', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '15', tex = '1', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '15', tex = '2', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '15', tex = '3', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '16', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '16', tex = '1', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '16', tex = '2', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '16', tex = '3', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '16', tex = '4', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '16', tex = '5', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '16', tex = '6', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '16', tex = '7', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '16', tex = '8', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '29', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '29', tex = '1', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '29', tex = '2', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '29', tex = '3', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '29', tex = '4', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '30', tex = '0', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '39', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '39', tex = '1', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '40', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '40', tex = '1', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '41', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '41', tex = '1', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '42', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '42', tex = '1', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '60', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '60', tex = '1', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '60', tex = '2', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '61', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '61', tex = '1', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '61', tex = '2', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '62', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '62', tex = '1', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '62', tex = '2', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '63', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '63', tex = '1', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '63', tex = '2', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '64', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '64', tex = '1', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '64', tex = '2', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '65', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '65', tex = '1', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '65', tex = '2', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '66', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '66', tex = '1', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '66', tex = '2', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '67', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '67', tex = '1', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '67', tex = '2', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '68', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '68', tex = '1', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '68', tex = '2', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '69', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '69', tex = '1', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '69', tex = '2', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '70', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '70', tex = '1', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '70', tex = '2', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '71', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '71', tex = '1', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '71', tex = '2', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '72', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '72', tex = '1', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '72', tex = '2', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '79', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '79', tex = '1', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '79', tex = '2', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '80', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '80', tex = '1', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '80', tex = '2', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '81', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '81', tex = '1', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '81', tex = '2', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '82', tex = '0', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '82', tex = '1', pal = '2', costs = 20000},
				{name = "Halloween", description = '1', slot = '1', draw = '82', tex = '2', pal = '2', costs = 20000},
				
				{name = "Halloween", description = '1', slot = '1', draw = '84', tex = '0', pal = '2', costs = 20000},
			}
		},
		["mask3"] = { 
			title = "Carnaval", 
			name = "mask3",
			buttons = { 
				{name = "Carnaval", description = '1', slot = '1', draw = '6', tex = '0', pal = '2', costs = 20000},
				{name = "Carnaval", description = '1', slot = '1', draw = '6', tex = '1', pal = '2', costs = 20000},
				{name = "Carnaval", description = '1', slot = '1', draw = '6', tex = '2', pal = '2', costs = 20000},
				{name = "Carnaval", description = '1', slot = '1', draw = '6', tex = '3', pal = '2', costs = 20000},
				
				{name = "Carnaval", description = '1', slot = '1', draw = '11', tex = '0', pal = '2', costs = 20000},
				{name = "Carnaval", description = '1', slot = '1', draw = '11', tex = '1', pal = '2', costs = 20000},
				{name = "Carnaval", description = '1', slot = '1', draw = '11', tex = '2', pal = '2', costs = 20000},
				
				{name = "Carnaval", description = '1', slot = '1', draw = '12', tex = '0', pal = '2', costs = 20000},
				{name = "Carnaval", description = '1', slot = '1', draw = '12', tex = '1', pal = '2', costs = 20000},
				{name = "Carnaval", description = '1', slot = '1', draw = '12', tex = '2', pal = '2', costs = 20000},
				
				{name = "Carnaval", description = '1', slot = '1', draw = '50', tex = '0', pal = '2', costs = 20000},
				{name = "Carnaval", description = '1', slot = '1', draw = '50', tex = '1', pal = '2', costs = 20000},
				{name = "Carnaval", description = '1', slot = '1', draw = '50', tex = '2', pal = '2', costs = 20000},
				{name = "Carnaval", description = '1', slot = '1', draw = '50', tex = '3', pal = '2', costs = 20000},
				{name = "Carnaval", description = '1', slot = '1', draw = '50', tex = '4', pal = '2', costs = 20000},
				{name = "Carnaval", description = '1', slot = '1', draw = '50', tex = '5', pal = '2', costs = 20000},
				{name = "Carnaval", description = '1', slot = '1', draw = '50', tex = '6', pal = '2', costs = 20000},
				{name = "Carnaval", description = '1', slot = '1', draw = '50', tex = '7', pal = '2', costs = 20000},
				{name = "Carnaval", description = '1', slot = '1', draw = '50', tex = '8', pal = '2', costs = 20000},
				{name = "Carnaval", description = '1', slot = '1', draw = '50', tex = '9', pal = '2', costs = 20000},
			}
		},
		["mask4"] = { 
			title = "Noel", 
			name = "mask4",
			buttons = { 
				{name = "Noel", description = '1', slot = '1', draw = '8', tex = '0', pal = '2', costs = 20000},
				{name = "Noel", description = '1', slot = '1', draw = '8', tex = '1', pal = '2', costs = 20000},
				{name = "Noel", description = '1', slot = '1', draw = '8', tex = '2', pal = '2', costs = 20000},
				
				{name = "Noel", description = '1', slot = '1', draw = '9', tex = '0', pal = '2', costs = 20000},
				
				{name = "Noel", description = '1', slot = '1', draw = '10', tex = '0', pal = '2', costs = 20000},
				
				{name = "Noel", description = '1', slot = '1', draw = '31', tex = '0', pal = '2', costs = 20000},
				
				{name = "Noel", description = '1', slot = '1', draw = '33', tex = '0', pal = '2', costs = 20000},
				
				{name = "Noel", description = '1', slot = '1', draw = '34', tex = '0', pal = '2', costs = 20000},
				{name = "Noel", description = '1', slot = '1', draw = '34', tex = '1', pal = '2', costs = 20000},
				{name = "Noel", description = '1', slot = '1', draw = '34', tex = '2', pal = '2', costs = 20000},
				
				{name = "Noel", description = '1', slot = '1', draw = '74', tex = '0', pal = '2', costs = 20000},
				{name = "Noel", description = '1', slot = '1', draw = '74', tex = '1', pal = '2', costs = 20000},
				{name = "Noel", description = '1', slot = '1', draw = '74', tex = '2', pal = '2', costs = 20000},
				
				{name = "Noel", description = '1', slot = '1', draw = '75', tex = '0', pal = '2', costs = 20000},
				{name = "Noel", description = '1', slot = '1', draw = '75', tex = '1', pal = '2', costs = 20000},
				{name = "Noel", description = '1', slot = '1', draw = '75', tex = '2', pal = '2', costs = 20000},
				
				{name = "Noel", description = '1', slot = '1', draw = '76', tex = '0', pal = '2', costs = 20000},
				{name = "Noel", description = '1', slot = '1', draw = '76', tex = '1', pal = '2', costs = 20000},
				{name = "Noel", description = '1', slot = '1', draw = '76', tex = '2', pal = '2', costs = 20000},
				
				{name = "Noel", description = '1', slot = '1', draw = '77', tex = '0', pal = '2', costs = 20000},
				{name = "Noel", description = '1', slot = '1', draw = '77', tex = '1', pal = '2', costs = 20000},
				{name = "Noel", description = '1', slot = '1', draw = '77', tex = '2', pal = '2', costs = 20000},
				{name = "Noel", description = '1', slot = '1', draw = '77', tex = '3', pal = '2', costs = 20000},
				{name = "Noel", description = '1', slot = '1', draw = '77', tex = '4', pal = '2', costs = 20000},
				{name = "Noel", description = '1', slot = '1', draw = '77', tex = '5', pal = '2', costs = 20000},
				
				{name = "Noel", description = '1', slot = '1', draw = '78', tex = '0', pal = '2', costs = 20000},
				{name = "Noel", description = '1', slot = '1', draw = '78', tex = '1', pal = '2', costs = 20000},
				
				{name = "Noel", description = '1', slot = '1', draw = '83', tex = '0', pal = '2', costs = 20000},
				{name = "Noel", description = '1', slot = '1', draw = '83', tex = '1', pal = '2', costs = 20000},
				{name = "Noel", description = '1', slot = '1', draw = '83', tex = '2', pal = '2', costs = 20000},
				{name = "Noel", description = '1', slot = '1', draw = '83', tex = '3', pal = '2', costs = 20000},
				
				{name = "Noel", description = '1', slot = '1', draw = '86', tex = '0', pal = '2', costs = 20000},
				{name = "Noel", description = '1', slot = '1', draw = '86', tex = '1', pal = '2', costs = 20000},
				{name = "Noel", description = '1', slot = '1', draw = '86', tex = '2', pal = '2', costs = 20000},
				
				{name = "Noel", description = '1', slot = '1', draw = '87', tex = '0', pal = '2', costs = 20000},
				{name = "Noel", description = '1', slot = '1', draw = '87', tex = '1', pal = '2', costs = 20000},
				{name = "Noel", description = '1', slot = '1', draw = '87', tex = '2', pal = '2', costs = 20000},
				
				{name = "Noel", description = '1', slot = '1', draw = '88', tex = '0', pal = '2', costs = 20000},
				{name = "Noel", description = '1', slot = '1', draw = '88', tex = '1', pal = '2', costs = 20000},
				{name = "Noel", description = '1', slot = '1', draw = '88', tex = '2', pal = '2', costs = 20000},
			}
		},
		["mask5"] = { 
			title = "Autres", 
			name = "mask5",
			buttons = { 
				{name = "Masque", description = '1', slot = '1', draw = '13', tex = '0', pal = '2', costs = 20000},
				
				{name = "Masque", description = '1', slot = '1', draw = '27', tex = '0', pal = '2', costs = 20000},
				
				{name = "Masque", description = '1', slot = '1', draw = '36', tex = '0', pal = '2', costs = 20000},
				
				{name = "Masque", description = '1', slot = '1', draw = '38', tex = '0', pal = '2', costs = 20000},
				
				{name = "Masque", description = '1', slot = '1', draw = '46', tex = '0', pal = '2', costs = 20000},
				
				{name = "Masque", description = '1', slot = '1', draw = '47', tex = '0', pal = '2', costs = 20000},
				{name = "Masque", description = '1', slot = '1', draw = '47', tex = '1', pal = '2', costs = 20000},
				{name = "Masque", description = '1', slot = '1', draw = '47', tex = '2', pal = '2', costs = 20000},
				{name = "Masque", description = '1', slot = '1', draw = '47', tex = '3', pal = '2', costs = 20000},
				
				{name = "Masque", description = '1', slot = '1', draw = '48', tex = '0', pal = '2', costs = 20000},
				{name = "Masque", description = '1', slot = '1', draw = '48', tex = '1', pal = '2', costs = 20000},
				{name = "Masque", description = '1', slot = '1', draw = '48', tex = '2', pal = '2', costs = 20000},
				{name = "Masque", description = '1', slot = '1', draw = '48', tex = '3', pal = '2', costs = 20000},
				
				{name = "Masque", description = '1', slot = '1', draw = '85', tex = '0', pal = '2', costs = 20000},
				{name = "Masque", description = '1', slot = '1', draw = '85', tex = '1', pal = '2', costs = 20000},
				{name = "Masque", description = '1', slot = '1', draw = '85', tex = '2', pal = '2', costs = 20000},
			}
		},
		["mask6"] = { 
			title = "Comics", 
			name = "mask6",
			buttons = { 
				{name = "Comics", description = '1', slot = '1', draw = '43', tex = '0', pal = '2', costs = 20000},
				
				{name = "Comics", description = '1', slot = '1', draw = '44', tex = '0', pal = '2', costs = 20000},
				
				{name = "Comics", description = '1', slot = '1', draw = '45', tex = '0', pal = '2', costs = 20000},
			}
		},
		["mask7"] = { 
			title = "Sac en papier", 
			name = "mask7",
			buttons = { 
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '0', pal = '2', costs = 20000},
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '1', pal = '2', costs = 20000},
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '2', pal = '2', costs = 20000},
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '3', pal = '2', costs = 20000},
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '4', pal = '2', costs = 20000},
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '5', pal = '2', costs = 20000},
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '6', pal = '2', costs = 20000},
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '7', pal = '2', costs = 20000},
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '8', pal = '2', costs = 20000},
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '9', pal = '2', costs = 20000},
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '10', pal = '2', costs = 20000},
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '11', pal = '2', costs = 20000},
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '12', pal = '2', costs = 20000},
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '13', pal = '2', costs = 20000},
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '14', pal = '2', costs = 20000},
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '15', pal = '2', costs = 20000},
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '16', pal = '2', costs = 20000},
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '17', pal = '2', costs = 20000},
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '18', pal = '2', costs = 20000},
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '19', pal = '2', costs = 20000},
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '20', pal = '2', costs = 20000},
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '21', pal = '2', costs = 20000},
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '22', pal = '2', costs = 20000},
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '23', pal = '2', costs = 20000},
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '24', pal = '2', costs = 20000},
				{name = "Sac", description = '1', slot = '1', draw = '49', tex = '25', pal = '2', costs = 20000},
			}
		},
	}
}

local fakecar = {model = '', car = nil}
local maskshop_locations = {
[1] = {inside = {-1337.239,-1277.75,4.875425}},
}

local maskshop_blips ={}
local inrangeofmaskshop = false
local currentlocation = nil
local boughtMask = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfmaskshop()
return inrangeofmaskshop
end

function ShowmaskshopBlips(bool)
	if bool and #maskshop_blips == 0 then
		for station,pos in pairs(maskshop_locations) do
			local loc = pos
			pos = pos.inside
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,362)
			SetBlipColour(blip, 30)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Boutique de masques')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(maskshop_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #maskshop_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(maskshop_blips) do
					if GetDistanceBetweenCoords(b.pos.inside[1],b.pos.inside[2],b.pos.inside[3],GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(1,b.pos.inside[1],b.pos.inside[2],b.pos.inside[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.inside[1],b.pos.inside[2],b.pos.inside[3],GetEntityCoords(LocalPed()),true) < 4 then
						-- drawTxt('Appuyez sur ~g~ENTRER~s~ pour acheter une ~b~Tenue',0,1,0.5,0.8,0.6,255,255,255,255)
						Show("Appuyez sur ~INPUT_CONTEXT~ pour acheter un ~b~masque.")
						inrange = true
						end
					end
				end
				inrangeofmaskshop = inrange
			end
		end)
	elseif bool == false and #maskshop_blips > 0 then
		for i,b in ipairs(maskshop_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		maskshop_blips = {}
	end
end

function fi(n)
return n + 0.0001
end

function LocalPed()
return GetPlayerPed(-1)
end

function tryMask(fi, catch_f)
local status, exception = pcall(fi)
if not status then
catch_f(exception)
end
end
function firstToUpperMask(str)
    return (str:gsub("^%l", string.upper))
end
--local veh = nil
function OpenCreatorMask()		
	boughtMask = false
	local ped = LocalPed()
	local pos = currentlocation.pos.inside
	local g = Citizen.InvokeNative(0xC906A7DAB05C8D2B,pos[1],pos[2],pos[3],Citizen.PointerValueFloat(),0)
	maskshop.currentmenu = "main2"
	maskshop.opened = true
	maskshop.selectedbutton = 0
end

local Mask_price = 0

function CloseCreatorMask()
	Citizen.CreateThread(function()
		local ped = LocalPed()
		if not boughtMask then
			local pos = currentlocation.pos.inside
			FreezeEntityPosition(ped,false)
			SetEntityVisible(ped,true)
		else
			local model = GetEntityModel(Mask)

			Citizen.InvokeNative(0xEA386986E786A54F, Citizen.PointerValueIntInitialized(Mask))
			local pos = currentlocation.pos.inside

			FreezeEntityPosition(ped,false)
			RequestModel(model)
			while not HasModelLoaded(model) do
				Citizen.Wait(0)
			end
			SetModelAsNoLongerNeeded(model)
			SetMaskHasBeenOwnedByPlayer(skin,true)
			local id = NetworkGetNetworkIdFromEntity(skin)
			SetNetworkIdCanMigrate(id, true)
			Citizen.InvokeNative(0x629BFA74418D6239,Citizen.PointerValueIntInitialized(skin))
			SetEntityVisible(ped,true)
			FreezeEntityPosition(ped,false)
			
		end
		maskshop.opened = false
		maskshop.menu.from = 1
		maskshop.menu.to = 10
		TriggerServerEvent('SetVariationServer')
	end)
end
	
function drawMenuButton(button,x,y,selected)
	local menu = maskshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
		
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = maskshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = maskshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitleMask(txt,x,y)
local menu = maskshop.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end
function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function NotifyMask(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

function DoesPlayerHaveSkin(model,button,y,selected)
		local t = false
		--TODO:check if player own car
		if t then
			drawMenuRight("OWNED",maskshop.menu.x,y,selected)
		else
			drawMenuRight(button.costs.."$",maskshop.menu.x,y,selected)
		end
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfmaskshop() then
			if maskshop.opened then
				CloseCreatorMask()
			else
				OpenCreatorMask()
				clearPed()
			end
		end
		if maskshop.opened then
			local ped = LocalPed()
			local menu = maskshop.menu[maskshop.currentmenu]
			drawTxt(maskshop.title,1,1,maskshop.menu.x,maskshop.menu.y,1.0, 255,255,255,255)
			drawMenuTitleMask(menu.title, maskshop.menu.x,maskshop.menu.y + 0.08)
			drawTxt(maskshop.selectedbutton.."/"..tablelength(menu.buttons),0,0,maskshop.menu.x + maskshop.menu.width/2 - 0.0385,maskshop.menu.y + 0.067,0.4, 255,255,255,255)
			local y = maskshop.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= maskshop.menu.from and i <= maskshop.menu.to then
					
					if i == maskshop.selectedbutton then
						selected = true						
						SetPedComponentVariation(GetPlayerPed(-1), tonumber(button.slot),tonumber(button.draw),tonumber(button.tex),tonumber(button.pal))
					else
						selected = false
					end
					drawMenuButton(button,maskshop.menu.x,y,selected)
					if button.costs ~= nil then
						drawMenuRight(button.costs.."$",maskshop.menu.x,y,selected)
					end
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedMask(button)
					end
				end
			end	
		end
		if maskshop.opened then
			if IsControlJustPressed(1,202) then
				BackMask()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if maskshop.selectedbutton > 1 then
					maskshop.selectedbutton = maskshop.selectedbutton -1
					if buttoncount > 10 and maskshop.selectedbutton < maskshop.menu.from then
						maskshop.menu.from = maskshop.menu.from -1
						maskshop.menu.to = maskshop.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if maskshop.selectedbutton < buttoncount then
					maskshop.selectedbutton = maskshop.selectedbutton +1
					if buttoncount > 10 and maskshop.selectedbutton > maskshop.menu.to then
						maskshop.menu.to = maskshop.menu.to + 1
						maskshop.menu.from = maskshop.menu.from + 1
					end
				end	
			end
		end
		
	end
end)


function roundMask(num1, idp2)
  if idp2 and idp2>0 then
    local mult = 10^idp2
    return math.floor(num1 * mult + 0.5) / mult
  end
  return math.floor(num1 + 0.5)
end
function ButtonSelectedMask(button)
	local ped = GetPlayerPed(-1)
	local this = maskshop.currentmenu
	local btn = button.name
	if this == "main2" then
	    if btn == "Retirer son masque" then
			TriggerServerEvent('RetireMarsk')
		elseif btn == "Animaux" then
			OpenMenuMask('mask1')
		elseif btn == "Halloween" then
			OpenMenuMask('mask2')
		elseif btn == "Carnaval" then
			OpenMenuMask('mask3')
		elseif btn == "NoÃ«l" then
			OpenMenuMask('mask4')
		elseif btn == "Autres" then
			OpenMenuMask('mask5')
		elseif btn == "Comics" then
			OpenMenuMask('mask6')
		elseif btn == "Sac en papier" then
			OpenMenuMask('mask7')
		end
	else
	TriggerServerEvent('CheckMoneyForMask',button.slot,button.draw,button.tex,button.pal,button.costs)
	end
end

RegisterNetEvent('FinishMoneyCheckForMask')
AddEventHandler('FinishMoneyCheckForMask', function(button)
	boughtMask = true
	CloseCreatorMask()
	maskshop.opened = false
	maskshop.menu.from = 1
	maskshop.menu.to = 10
	TriggerServerEvent('SetVariationServer')
	
end)

function OpenMenuMask(menu)
	maskshop.lastmenu = maskshop.currentmenu
	if menu == "homme" then
		maskshop.lastmenu = "main2"
	elseif menu == "fille"  then
		maskshop.lastmenu = "main2"
	else
		maskshop.lastmenu = "homme"
	end
	
	maskshop.menu.from = 1
	maskshop.menu.to = 10
	maskshop.selectedbutton = 0
	maskshop.currentmenu = menu	
end


function BackMask()
	if backlock then
		return
	end
	backlock = true
	if maskshop.currentmenu == "main2" then
		CloseCreatorMask()
		TriggerServerEvent('SetVariationServer')
	else
		CloseCreatorMask()
		TriggerServerEvent('SetVariationServer')
	end
	
end

function stringstartsMask(String1,Start2)
   return string.sub(String1,1,string.len(Start2))==Start2
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowmaskshopBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      local coiffeur = {
	opened = false,
	title = "Coiffeur",
	currentmenu = "main2",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.9,
		y = 0.20,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main2"] = { 
			title = "Coupes de cheveux", 
			name = "main2",
			buttons = { 
				{name = "Cheveux 1", description = "", slot = "2", draw = "0", tex = "0", pal = "0", costs = 250},
				{name = "Cheveux 2", description = "", slot = "2", draw = "1", tex = "0", pal = "0", costs = 250},
				{name = "Cheveux 3", description = "", slot = "2", draw = "2", tex = "0", pal = "0", costs = 250},
				{name = "Cheveux 4", description = "", slot = "2", draw = "3", tex = "0", pal = "0", costs = 250},
				{name = "Cheveux 5", description = "", slot = "2", draw = "4", tex = "0", pal = "0", costs = 250},
				{name = "Cheveux 6", description = "", slot = "2", draw = "5", tex = "0", pal = "0", costs = 250},
				{name = "Cheveux 7", description = "", slot = "2", draw = "6", tex = "0", pal = "0", costs = 250},
				{name = "Cheveux 8", description = "", slot = "2", draw = "7", tex = "0", pal = "0", costs = 250},
				{name = "Cheveux 9", description = "", slot = "2", draw = "8", tex = "0", pal = "0", costs = 250},
				{name = "Cheveux 10", description = "", slot = "2", draw = "9", tex = "0", pal = "0", costs = 250},
				{name = "Cheveux 11", description = "", slot = "2", draw = "10", tex = "0", pal = "0", costs = 250},
				{name = "Cheveux 12", description = "", slot = "2", draw = "11", tex = "0", pal = "0", costs = 250},
				{name = "Cheveux 13", description = "", slot = "2", draw = "12", tex = "0", pal = "0", costs = 250},
				{name = "Cheveux 14", description = "", slot = "2", draw = "13", tex = "0", pal = "0", costs = 250},
				{name = "Cheveux 15", description = "", slot = "2", draw = "14", tex = "0", pal = "0", costs = 250},
				{name = "Cheveux 16", description = "", slot = "2", draw = "15", tex = "0", pal = "0", costs = 250},
				{name = "Cheveux 17", description = "", slot = "2", draw = "16", tex = "0", pal = "0", costs = 250},
				{name = "Cheveux 18", description = "", slot = "2", draw = "17", tex = "0", pal = "0", costs = 250},
				{name = "Cheveux 19", description = "", slot = "2", draw = "18", tex = "0", pal = "0", costs = 250},
				{name = "Cheveux 20", description = "", slot = "2", draw = "19", tex = "0", pal = "0", costs = 250},
				{name = "Cheveux 21", description = "", slot = "2", draw = "20", tex = "0", pal = "0", costs = 250},
				{name = "Cheveux 22", description = "", slot = "2", draw = "21", tex = "0", pal = "0", costs = 250},
				{name = "Cheveux 23", description = "", slot = "2", draw = "22", tex = "0", pal = "0", costs = 250},
			}
		},
		["coiff1"] = { 
			title = "Couleurs", 
			name = "coiff1",
			buttons = { 
				{name = "ChÃ¢tain foncÃ© ", description = "", slot = "2", tex = "1", costs = 150},
				{name = "ChÃ¢tain clair", description = "", slot = "2", tex = "2", costs = 150},
				{name = "Blond", description = "", slot = "2", tex = "3", costs = 150},
				{name = "Brun", description = "", slot = "2", tex = "4", costs = 150},
			}
		},
	}
}

local fakecar = {model = '', car = nil}
local coiffeur_locations = {
[1] = {inside = {137.3962,-1708.339,29.29162}},
[2] = {inside = {-1283.002,-1117.564,6.990112}},
[3] = {inside = {-814.7316,-184.6056,37.56893}},
[4] = {inside = {-33.32565,-152.7993,57.0765}},
}

local coiffeur_blips ={}
local inrangeofcoiffeur = false
local currentlocation = nil
local boughtCoiff = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfcoiffeur()
return inrangeofcoiffeur
end

function ShowcoiffeurBlips(bool)
	if bool and #coiffeur_blips == 0 then
		for station,pos in pairs(coiffeur_locations) do
			local loc = pos
			pos = pos.inside
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,71)
			SetBlipColour(blip, 19)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Coiffeur')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(coiffeur_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #coiffeur_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(coiffeur_blips) do
					if GetDistanceBetweenCoords(b.pos.inside[1],b.pos.inside[2],b.pos.inside[3],GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(1,b.pos.inside[1],b.pos.inside[2],b.pos.inside[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.inside[1],b.pos.inside[2],b.pos.inside[3],GetEntityCoords(LocalPed()),true) < 4 then
						-- drawTxt('Appuyez sur ~g~ENTRER~s~ pour acheter une ~b~Tenue',0,1,0.5,0.8,0.6,255,255,255,255)
						Show("Appuyez sur ~INPUT_CONTEXT~ pour changer de ~b~coupe de cheveux.")
						inrange = true
						end
					end
				end
				inrangeofcoiffeur = inrange
			end
		end)
	elseif bool == false and #coiffeur_blips > 0 then
		for i,b in ipairs(coiffeur_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		coiffeur_blips = {}
	end
end

function fi(n)
return n + 0.0001
end

function LocalPed()
return GetPlayerPed(-1)
end

function tryCoiff(fi, catch_f)
local status, exception = pcall(fi)
if not status then
catch_f(exception)
end
end
function firstToUpperCoiff(str)
    return (str:gsub("^%l", string.upper))
end
--local veh = nil
function OpenCreatorCoiff()		
	boughtCoiff = false
	local ped = LocalPed()
	local pos = currentlocation.pos.inside
	local g = Citizen.InvokeNative(0xC906A7DAB05C8D2B,pos[1],pos[2],pos[3],Citizen.PointerValueFloat(),0)
	coiffeur.currentmenu = "main2"
	coiffeur.opened = true
	coiffeur.selectedbutton = 0
	SetPedComponentVariation(GetPlayerPed(-1), 1, 0, 0, 0)
    SetPedPropIndex(GetPlayerPed(-1), 0,8,0,1)
end

local Coiff_price = 0

function CloseCreatorCoiff()
	Citizen.CreateThread(function()
		local ped = LocalPed()
		if not boughtCoiff then
			local pos = currentlocation.pos.inside
			FreezeEntityPosition(ped,false)
			SetEntityVisible(ped,true)
		else
			local model = GetEntityModel(Coiff)

			Citizen.InvokeNative(0xEA386986E786A54F, Citizen.PointerValueIntInitialized(Coiff))
			local pos = currentlocation.pos.inside

			FreezeEntityPosition(ped,false)
			RequestModel(model)
			while not HasModelLoaded(model) do
				Citizen.Wait(0)
			end
			SetModelAsNoLongerNeeded(model)
			SetCoiffHasBeenOwnedByPlayer(skin,true)
			local id = NetworkGetNetworkIdFromEntity(skin)
			SetNetworkIdCanMigrate(id, true)
			Citizen.InvokeNative(0x629BFA74418D6239,Citizen.PointerValueIntInitialized(skin))
			SetEntityVisible(ped,true)
			FreezeEntityPosition(ped,false)
			
		end
		coiffeur.opened = false
		coiffeur.menu.from = 1
		coiffeur.menu.to = 10
		TriggerServerEvent('SetVariationServer')
	end)
end
	
function drawMenuButton(button,x,y,selected)
	local menu = coiffeur.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
		
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = coiffeur.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = coiffeur.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitleCoiff(txt,x,y)
local menu = coiffeur.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end
function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function NotifyCoiff(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

function DoesPlayerHaveSkin(model,button,y,selected)
		local t = false
		--TODO:check if player own car
		if t then
			drawMenuRight("OWNED",coiffeur.menu.x,y,selected)
		else
			drawMenuRight(button.costs.."$",coiffeur.menu.x,y,selected)
		end
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfcoiffeur() then
			if coiffeur.opened then
				CloseCreatorCoiff()
			else
				OpenCreatorCoiff()
				-- clearPed()
			end
		end
		if coiffeur.opened then
			local ped = LocalPed()
			local menu = coiffeur.menu[coiffeur.currentmenu]
			drawTxt(coiffeur.title,1,1,coiffeur.menu.x,coiffeur.menu.y,1.0, 255,255,255,255)
			drawMenuTitleCoiff(menu.title, coiffeur.menu.x,coiffeur.menu.y + 0.08)
			drawTxt(coiffeur.selectedbutton.."/"..tablelength(menu.buttons),0,0,coiffeur.menu.x + coiffeur.menu.width/2 - 0.0385,coiffeur.menu.y + 0.067,0.4, 255,255,255,255)
			local y = coiffeur.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= coiffeur.menu.from and i <= coiffeur.menu.to then
					
					if i == coiffeur.selectedbutton then
						selected = true						
						if coiffeur.currentmenu == "coiff1" then
						SetPedComponentVariation(GetPlayerPed(-1), tonumber(button.slot),tonumber(savedrawCoiff),tonumber(button.tex),tonumber(savepalCoiff))
						else
						SetPedComponentVariation(GetPlayerPed(-1), tonumber(button.slot),tonumber(button.draw),tonumber(button.tex),tonumber(button.pal))
						end
					else
						selected = false
					end
					drawMenuButton(button,coiffeur.menu.x,y,selected)
					if button.costs ~= nil then
						drawMenuRight(button.costs.."$",coiffeur.menu.x,y,selected)
					end
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelected1(button)
					end
				end
			end	
		end
		if coiffeur.opened then
			if IsControlJustPressed(1,202) then
				BackCoiff()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if coiffeur.selectedbutton > 1 then
					coiffeur.selectedbutton = coiffeur.selectedbutton -1
					if buttoncount > 10 and coiffeur.selectedbutton < coiffeur.menu.from then
						coiffeur.menu.from = coiffeur.menu.from -1
						coiffeur.menu.to = coiffeur.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if coiffeur.selectedbutton < buttoncount then
					coiffeur.selectedbutton = coiffeur.selectedbutton +1
					if buttoncount > 10 and coiffeur.selectedbutton > coiffeur.menu.to then
						coiffeur.menu.to = coiffeur.menu.to + 1
						coiffeur.menu.from = coiffeur.menu.from + 1
					end
				end	
			end
		end
		
	end
end)


function roundCoiff(num1, idp2)
  if idp2 and idp2>0 then
    local mult = 10^idp2
    return math.floor(num1 * mult + 0.5) / mult
  end
  return math.floor(num1 + 0.5)
end
function ButtonSelected1(button)
	local ped = GetPlayerPed(-1)
	local this = coiffeur.currentmenu
	local btn = button.name
	if this == "main2" then
	    savedrawCoiff =  button.draw
		savepalCoiff = button.pal
		TriggerServerEvent('CheckMoneyForCoiff1',button.slot,button.draw,button.tex,button.pal,button.costs)
		OpenMenuCoiff('coiff1')
	elseif this == "coiff1" then	    
		TriggerServerEvent('CheckMoneyForCoiff2',button.slot,savedrawCoiff,button.tex,savepalCoiff,button.costs)		
	end
end

RegisterNetEvent('FinishMoneyCheckForCoiff')
AddEventHandler('FinishMoneyCheckForCoiff', function(button)
	boughtCoiff = true
	CloseCreatorCoiff()
	coiffeur.opened = false
	coiffeur.menu.from = 1
	TriggerServerEvent('SetVariationServer')
	coiffeur.menu.to = 10	
end)

function OpenMenuCoiff(menu)
	coiffeur.lastmenu = coiffeur.currentmenu
	if menu == "homme" then
		coiffeur.lastmenu = "main2"
	elseif menu == "fille"  then
		coiffeur.lastmenu = "main2"
	else
		coiffeur.lastmenu = "homme"
	end
	
	coiffeur.menu.from = 1
	coiffeur.menu.to = 10
	coiffeur.selectedbutton = 0
	coiffeur.currentmenu = menu	
end


function BackCoiff()
	if backlock then
		return
	end
	backlock = true
	if coiffeur.currentmenu == "main2" then
		CloseCreatorCoiff()
		TriggerServerEvent('SetVariationServer')
	elseif coiffeur.currentmenu == "coiff1" then
		OpenMenuCoiff('main2')
	else
		OpenMenuCoiff(coiffeur.lastmenu)
	end
	
end

function stringstartsCoiff(String1,Start2)
   return string.sub(String1,1,string.len(Start2))==Start2
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowcoiffeurBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                         local propshop = {
	opened = false,
	title = "Magasin",
	currentmenu = "main2",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.9,
		y = 0.20,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main2"] = { 
			title = "Categories", 
			name = "main2",
			buttons = { 
			    {name = "Chapeau", description = ''},
				{name = "Lunette", description = ''},
				{name = "Montre", description = ''},
				-- {name = "Boucle d'oreilles", description = ''},
			}
		},
		["item1"] = { 
			title = "Chapeau", 
			name = "item1",
			buttons = { 
				{name = "Casquettes"},
				{name = "Casques"},
				{name = "Autres"},
				{name = "Bonnet"},
				{name = "Chapeau"},
				{name = "Bandana"},
				{name = "NoÃ«l"},
				{name = "USA"},
			}
		},
		["chap1"] = { 
			title = "Casquettes", 
			name = "chap1",
			buttons = { 
				{name = "Aucune Casquette", slot = '0', draw = '11', tex = '0', costs = 0},
				{name = "Chapeau", slot = '0', draw = '4', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '4', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '6', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '6', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '6', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '6', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '6', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '6', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '6', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '6', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '9', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '9', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '10', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '10', tex = '7', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '44', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '44', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '44', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '44', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '44', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '44', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '44', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '44', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '45', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '45', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '45', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '45', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '45', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '45', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '45', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '45', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '54', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '54', tex = '1', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '55', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '55', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '55', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '55', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '55', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '55', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '55', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '55', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '55', tex = '8', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '55', tex = '9', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '55', tex = '10', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '55', tex = '11', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '55', tex = '12', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '55', tex = '13', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '55', tex = '14', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '55', tex = '15', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '55', tex = '16', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '55', tex = '17', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '55', tex = '18', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '55', tex = '19', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '55', tex = '20', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '55', tex = '21', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '55', tex = '22', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '55', tex = '23', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '55', tex = '24', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '55', tex = '25', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '56', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '56', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '56', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '56', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '56', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '56', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '56', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '56', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '56', tex = '8', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '56', tex = '9', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '58', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '58', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '58', tex = '2', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '60', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '60', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '60', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '60', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '60', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '60', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '60', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '60', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '60', tex = '8', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '60', tex = '9', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '63', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '63', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '63', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '63', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '63', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '63', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '63', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '63', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '63', tex = '8', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '63', tex = '9', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '76', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '76', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '76', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '76', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '76', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '76', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '76', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '76', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '76', tex = '8', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '76', tex = '9', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '76', tex = '10', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '76', tex = '11', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '76', tex = '12', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '76', tex = '13', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '76', tex = '14', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '76', tex = '15', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '76', tex = '16', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '76', tex = '17', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '76', tex = '18', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '76', tex = '19', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '76', tex = '20', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '77', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '77', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '77', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '77', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '77', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '77', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '77', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '77', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '77', tex = '8', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '77', tex = '9', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '77', tex = '10', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '77', tex = '11', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '77', tex = '12', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '77', tex = '13', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '77', tex = '14', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '77', tex = '15', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '77', tex = '16', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '77', tex = '17', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '77', tex = '18', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '77', tex = '19', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '77', tex = '20', costs = 2500},
			}
		},
		["chap2"] = { 
			title = "Casques", 
			name = "chap2",
			buttons = { 
				{name = "Aucun Casque", slot = '0', draw = '11', tex = '0', costs = 0},
				{name = "Chapeau", slot = '0', draw = '16', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '16', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '16', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '16', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '16', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '16', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '16', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '16', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '17', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '17', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '17', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '17', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '17', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '17', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '17', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '17', tex = '7', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '18', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '18', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '18', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '18', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '18', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '18', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '18', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '18', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '48', tex = '0', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '49', tex = '0', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '50', tex = '0', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '51', tex = '0', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '52', tex = '0', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '53', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '62', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '62', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '62', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '62', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '62', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '62', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '62', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '62', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '62', tex = '8', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '62', tex = '9', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '67', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '67', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '67', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '67', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '67', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '67', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '67', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '67', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '67', tex = '8', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '67', tex = '9', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '67', tex = '10', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '67', tex = '11', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '67', tex = '12', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '67', tex = '13', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '67', tex = '14', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '67', tex = '15', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '67', tex = '16', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '67', tex = '17', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '67', tex = '18', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '67', tex = '19', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '67', tex = '20', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '67', tex = '21', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '67', tex = '22', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '67', tex = '23', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '67', tex = '24', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '68', tex = '0', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '69', tex = '0', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '70', tex = '0', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '71', tex = '0', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '72', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '72', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '72', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '72', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '72', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '72', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '72', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '72', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '72', tex = '8', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '72', tex = '9', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '73', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '73', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '73', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '73', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '73', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '73', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '73', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '73', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '73', tex = '8', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '73', tex = '9', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '73', tex = '10', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '73', tex = '11', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '73', tex = '12', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '74', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '74', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '74', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '74', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '74', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '74', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '74', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '74', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '74', tex = '8', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '74', tex = '9', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '74', tex = '10', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '74', tex = '11', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '74', tex = '12', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '75', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '75', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '75', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '75', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '75', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '75', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '75', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '75', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '75', tex = '8', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '75', tex = '9', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '75', tex = '10', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '75', tex = '11', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '75', tex = '12', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '75', tex = '13', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '75', tex = '14', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '75', tex = '15', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '78', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '78', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '78', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '78', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '78', tex = '4', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '79', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '79', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '79', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '79', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '79', tex = '4', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '80', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '80', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '80', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '80', tex = '3', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '81', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '81', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '81', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '81', tex = '3', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '82', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '82', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '82', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '82', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '82', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '82', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '82', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '82', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '82', tex = '8', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '82', tex = '9', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '82', tex = '10', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '82', tex = '11', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '82', tex = '12', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '82', tex = '13', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '82', tex = '14', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '82', tex = '15', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '82', tex = '16', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '82', tex = '17', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '82', tex = '18', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '82', tex = '19', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '82', tex = '20', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '82', tex = '21', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '82', tex = '22', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '82', tex = '23', costs = 2500},
			}
		},
		["chap3"] = { 
			title = "Autres", 
			name = "chap3",
			buttons = { 
				{name = "Aucun Chapeau", slot = '0', draw = '11', tex = '0', costs = 0},
				{name = "Chapeau", slot = '0', draw = '0', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '0', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '0', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '0', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '0', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '0', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '0', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '0', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '1', tex = '0', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '15', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '15', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '15', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '15', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '15', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '15', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '15', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '15', tex = '7', costs = 2500},
			}
		},
		["chap4"] = { 
			title = "Bonnet", 
			name = "chap4",
			buttons = { 
				{name = "Aucun Bonnet", slot = '0', draw = '11', tex = '0', costs = 0},
				
				{name = "Chapeau", slot = '0', draw = '2', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '2', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '2', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '2', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '2', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '2', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '2', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '2', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '5', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '5', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '7', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '7', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '7', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '7', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '7', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '7', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '7', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '7', tex = '7', costs = 2500},
							
				{name = "Chapeau", slot = '0', draw = '28', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '28', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '28', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '28', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '28', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '28', tex = '5', costs = 2500},
			}
		},
		["chap5"] = { 
			title = "Chapeau", 
			name = "chap5",
			buttons = { 
				{name = "Aucun Chapeau", slot = '0', draw = '11', tex = '0', costs = 0},
				{name = "Chapeau", slot = '0', draw = '3', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '3', tex = '2', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '12', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '12', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '12', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '12', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '12', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '12', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '13', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '13', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '13', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '13', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '13', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '13', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '13', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '13', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '20', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '20', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '20', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '20', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '20', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '20', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '21', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '21', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '21', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '21', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '21', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '21', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '21', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '21', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '25', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '25', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '25', tex = '2', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '26', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '26', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '26', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '26', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '26', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '26', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '26', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '26', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '26', tex = '8', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '26', tex = '9', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '26', tex = '10', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '26', tex = '11', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '26', tex = '12', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '26', tex = '13', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '27', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '27', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '27', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '27', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '27', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '27', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '27', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '27', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '27', tex = '8', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '27', tex = '9', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '27', tex = '10', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '27', tex = '11', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '27', tex = '12', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '27', tex = '13', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '29', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '29', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '29', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '29', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '29', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '29', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '29', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '29', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '30', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '30', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '61', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '61', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '61', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '61', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '61', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '61', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '61', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '61', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '61', tex = '8', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '61', tex = '9', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '64', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '64', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '64', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '64', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '64', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '64', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '64', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '64', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '64', tex = '8', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '64', tex = '9', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '64', tex = '10', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '64', tex = '11', costs = 2500},
				
			}
		},
		["chap6"] = { 
			title = "Bandana", 
			name = "chap6",
			buttons = { 
				{name = "Aucun Bandana", slot = '0', draw = '11', tex = '0', costs = 0},
				{name = "Chapeau", slot = '0', draw = '14', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '14', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '14', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '14', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '14', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '14', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '14', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '14', tex = '7', costs = 2500},
			}
		},
		["chap7"] = { 
			title = "Noel", 
			name = "chap7",
			buttons = { 
				{name = "Aucun Chapeau", slot = '0', draw = '11', tex = '0', costs = 0},
				{name = "Chapeau", slot = '0', draw = '22', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '22', tex = '1', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '23', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '24', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '40', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '40', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '40', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '40', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '40', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '40', tex = '5', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '40', tex = '6', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '40', tex = '7', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '41', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '42', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '42', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '42', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '42', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '43', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '43', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '43', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '43', tex = '3', costs = 2500},
			}
		},
		["chap8"] = { 
			title = "USA", 
			name = "chap8",
			buttons = { 
				{name = "Aucun Chapeau", slot = '0', draw = '11', tex = '0', costs = 0},
				{name = "Chapeau", slot = '0', draw = '31', tex = '0', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '32', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '33', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '33', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '34', tex = '0', costs = 2500},
				
				{name = "Chapeau", slot = '0', draw = '35', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '36', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '37', tex = '0', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '37', tex = '1', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '37', tex = '2', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '37', tex = '3', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '37', tex = '4', costs = 2500},
				{name = "Chapeau", slot = '0', draw = '37', tex = '5', costs = 2500},
			}
		},
		["item2"] = { 
			title = "Lunette", 
			name = "item2",
			buttons = { 
				{name = "Sans lunette", slot = '1', draw = '0', tex = '0', costs = 1000},
				{name = "Lunette", slot = '1', draw = '1', tex = '1', costs = 1000},
				
				{name = "Lunette", slot = '1', draw = '2', tex = '0', costs = 1000},
				{name = "Lunette", slot = '1', draw = '2', tex = '1', costs = 1000},
				{name = "Lunette", slot = '1', draw = '2', tex = '2', costs = 1000},
				{name = "Lunette", slot = '1', draw = '2', tex = '3', costs = 1000},
				{name = "Lunette", slot = '1', draw = '2', tex = '4', costs = 1000},
				{name = "Lunette", slot = '1', draw = '2', tex = '5', costs = 1000},
				{name = "Lunette", slot = '1', draw = '2', tex = '6', costs = 1000},
				{name = "Lunette", slot = '1', draw = '2', tex = '7', costs = 1000},
				{name = "Lunette", slot = '1', draw = '2', tex = '8', costs = 1000},
				{name = "Lunette", slot = '1', draw = '2', tex = '9', costs = 1000},
				{name = "Lunette", slot = '1', draw = '2', tex = '10', costs = 1000},
				
				{name = "Lunette", slot = '1', draw = '3', tex = '0', costs = 1000},
				{name = "Lunette", slot = '1', draw = '3', tex = '1', costs = 1000},
				{name = "Lunette", slot = '1', draw = '3', tex = '2', costs = 1000},
				{name = "Lunette", slot = '1', draw = '3', tex = '3', costs = 1000},
				{name = "Lunette", slot = '1', draw = '3', tex = '4', costs = 1000},
				{name = "Lunette", slot = '1', draw = '3', tex = '5', costs = 1000},
				{name = "Lunette", slot = '1', draw = '3', tex = '6', costs = 1000},
				{name = "Lunette", slot = '1', draw = '3', tex = '7', costs = 1000},
				{name = "Lunette", slot = '1', draw = '3', tex = '8', costs = 1000},
				{name = "Lunette", slot = '1', draw = '3', tex = '9', costs = 1000},
				{name = "Lunette", slot = '1', draw = '3', tex = '10', costs = 1000},
				
				{name = "Lunette", slot = '1', draw = '4', tex = '0', costs = 1000},
				{name = "Lunette", slot = '1', draw = '4', tex = '1', costs = 1000},
				{name = "Lunette", slot = '1', draw = '4', tex = '2', costs = 1000},
				{name = "Lunette", slot = '1', draw = '4', tex = '3', costs = 1000},
				{name = "Lunette", slot = '1', draw = '4', tex = '4', costs = 1000},
				{name = "Lunette", slot = '1', draw = '4', tex = '5', costs = 1000},
				{name = "Lunette", slot = '1', draw = '4', tex = '6', costs = 1000},
				{name = "Lunette", slot = '1', draw = '4', tex = '7', costs = 1000},
				{name = "Lunette", slot = '1', draw = '4', tex = '8', costs = 1000},
				{name = "Lunette", slot = '1', draw = '4', tex = '9', costs = 1000},
				{name = "Lunette", slot = '1', draw = '4', tex = '10', costs = 1000},
				
				{name = "Lunette", slot = '1', draw = '5', tex = '0', costs = 1000},
				{name = "Lunette", slot = '1', draw = '5', tex = '1', costs = 1000},
				{name = "Lunette", slot = '1', draw = '5', tex = '2', costs = 1000},
				{name = "Lunette", slot = '1', draw = '5', tex = '3', costs = 1000},
				{name = "Lunette", slot = '1', draw = '5', tex = '4', costs = 1000},
				{name = "Lunette", slot = '1', draw = '5', tex = '5', costs = 1000},
				{name = "Lunette", slot = '1', draw = '5', tex = '6', costs = 1000},
				{name = "Lunette", slot = '1', draw = '5', tex = '7', costs = 1000},
				{name = "Lunette", slot = '1', draw = '5', tex = '8', costs = 1000},
				{name = "Lunette", slot = '1', draw = '5', tex = '9', costs = 1000},
				{name = "Lunette", slot = '1', draw = '5', tex = '10', costs = 1000},
				
				{name = "Lunette", slot = '1', draw = '7', tex = '0', costs = 1000},
				{name = "Lunette", slot = '1', draw = '7', tex = '1', costs = 1000},
				{name = "Lunette", slot = '1', draw = '7', tex = '2', costs = 1000},
				{name = "Lunette", slot = '1', draw = '7', tex = '3', costs = 1000},
				{name = "Lunette", slot = '1', draw = '7', tex = '4', costs = 1000},
				{name = "Lunette", slot = '1', draw = '7', tex = '5', costs = 1000},
				{name = "Lunette", slot = '1', draw = '7', tex = '6', costs = 1000},
				{name = "Lunette", slot = '1', draw = '7', tex = '7', costs = 1000},
				{name = "Lunette", slot = '1', draw = '7', tex = '8', costs = 1000},
				{name = "Lunette", slot = '1', draw = '7', tex = '9', costs = 1000},
				{name = "Lunette", slot = '1', draw = '7', tex = '10', costs = 1000},
				
				{name = "Lunette", slot = '1', draw = '8', tex = '0', costs = 1000},
				{name = "Lunette", slot = '1', draw = '8', tex = '1', costs = 1000},
				{name = "Lunette", slot = '1', draw = '8', tex = '2', costs = 1000},
				{name = "Lunette", slot = '1', draw = '8', tex = '3', costs = 1000},
				{name = "Lunette", slot = '1', draw = '8', tex = '4', costs = 1000},
				{name = "Lunette", slot = '1', draw = '8', tex = '5', costs = 1000},
				{name = "Lunette", slot = '1', draw = '8', tex = '6', costs = 1000},
				{name = "Lunette", slot = '1', draw = '8', tex = '7', costs = 1000},
				{name = "Lunette", slot = '1', draw = '8', tex = '8', costs = 1000},
				{name = "Lunette", slot = '1', draw = '8', tex = '9', costs = 1000},
				{name = "Lunette", slot = '1', draw = '8', tex = '10', costs = 1000},
				
				{name = "Lunette", slot = '1', draw = '9', tex = '0', costs = 1000},
				{name = "Lunette", slot = '1', draw = '9', tex = '1', costs = 1000},
				{name = "Lunette", slot = '1', draw = '9', tex = '2', costs = 1000},
				{name = "Lunette", slot = '1', draw = '9', tex = '3', costs = 1000},
				{name = "Lunette", slot = '1', draw = '9', tex = '4', costs = 1000},
				{name = "Lunette", slot = '1', draw = '9', tex = '5', costs = 1000},
				{name = "Lunette", slot = '1', draw = '9', tex = '6', costs = 1000},
				{name = "Lunette", slot = '1', draw = '9', tex = '7', costs = 1000},
				{name = "Lunette", slot = '1', draw = '9', tex = '8', costs = 1000},
				{name = "Lunette", slot = '1', draw = '9', tex = '9', costs = 1000},
				{name = "Lunette", slot = '1', draw = '9', tex = '10', costs = 1000},
				
				{name = "Lunette", slot = '1', draw = '10', tex = '0', costs = 1000},
				{name = "Lunette", slot = '1', draw = '10', tex = '1', costs = 1000},
				{name = "Lunette", slot = '1', draw = '10', tex = '2', costs = 1000},
				{name = "Lunette", slot = '1', draw = '10', tex = '3', costs = 1000},
				{name = "Lunette", slot = '1', draw = '10', tex = '4', costs = 1000},
				{name = "Lunette", slot = '1', draw = '10', tex = '5', costs = 1000},
				{name = "Lunette", slot = '1', draw = '10', tex = '6', costs = 1000},
				{name = "Lunette", slot = '1', draw = '10', tex = '7', costs = 1000},
				{name = "Lunette", slot = '1', draw = '10', tex = '8', costs = 1000},
				{name = "Lunette", slot = '1', draw = '10', tex = '9', costs = 1000},
				{name = "Lunette", slot = '1', draw = '10', tex = '10', costs = 1000},
				
				{name = "Lunette", slot = '1', draw = '12', tex = '0', costs = 1000},
				{name = "Lunette", slot = '1', draw = '12', tex = '1', costs = 1000},
				{name = "Lunette", slot = '1', draw = '12', tex = '2', costs = 1000},
				{name = "Lunette", slot = '1', draw = '12', tex = '3', costs = 1000},
				{name = "Lunette", slot = '1', draw = '12', tex = '4', costs = 1000},
				{name = "Lunette", slot = '1', draw = '12', tex = '5', costs = 1000},
				{name = "Lunette", slot = '1', draw = '12', tex = '6', costs = 1000},
				{name = "Lunette", slot = '1', draw = '12', tex = '7', costs = 1000},
				{name = "Lunette", slot = '1', draw = '12', tex = '8', costs = 1000},
				{name = "Lunette", slot = '1', draw = '12', tex = '9', costs = 1000},
				{name = "Lunette", slot = '1', draw = '12', tex = '10', costs = 1000},
				
				{name = "Lunette", slot = '1', draw = '13', tex = '0', costs = 1000},
				{name = "Lunette", slot = '1', draw = '13', tex = '1', costs = 1000},
				{name = "Lunette", slot = '1', draw = '13', tex = '2', costs = 1000},
				{name = "Lunette", slot = '1', draw = '13', tex = '3', costs = 1000},
				{name = "Lunette", slot = '1', draw = '13', tex = '4', costs = 1000},
				{name = "Lunette", slot = '1', draw = '13', tex = '5', costs = 1000},
				{name = "Lunette", slot = '1', draw = '13', tex = '6', costs = 1000},
				{name = "Lunette", slot = '1', draw = '13', tex = '7', costs = 1000},
				{name = "Lunette", slot = '1', draw = '13', tex = '8', costs = 1000},
				{name = "Lunette", slot = '1', draw = '13', tex = '9', costs = 1000},
				{name = "Lunette", slot = '1', draw = '13', tex = '10', costs = 1000},
				
				{name = "Lunette", slot = '1', draw = '15', tex = '0', costs = 1000},
				{name = "Lunette", slot = '1', draw = '15', tex = '1', costs = 1000},
				{name = "Lunette", slot = '1', draw = '15', tex = '2', costs = 1000},
				{name = "Lunette", slot = '1', draw = '15', tex = '3', costs = 1000},
				{name = "Lunette", slot = '1', draw = '15', tex = '4', costs = 1000},
				{name = "Lunette", slot = '1', draw = '15', tex = '5', costs = 1000},
				{name = "Lunette", slot = '1', draw = '15', tex = '6', costs = 1000},
				{name = "Lunette", slot = '1', draw = '15', tex = '7', costs = 1000},
				{name = "Lunette", slot = '1', draw = '15', tex = '8', costs = 1000},
				{name = "Lunette", slot = '1', draw = '15', tex = '9', costs = 1000},
				{name = "Lunette", slot = '1', draw = '15', tex = '10', costs = 1000},
				
				{name = "Lunette", slot = '1', draw = '16', tex = '0', costs = 1000},
				{name = "Lunette", slot = '1', draw = '16', tex = '1', costs = 1000},
				{name = "Lunette", slot = '1', draw = '16', tex = '2', costs = 1000},
				{name = "Lunette", slot = '1', draw = '16', tex = '3', costs = 1000},
				{name = "Lunette", slot = '1', draw = '16', tex = '4', costs = 1000},
				{name = "Lunette", slot = '1', draw = '16', tex = '5', costs = 1000},
				{name = "Lunette", slot = '1', draw = '16', tex = '6', costs = 1000},
				{name = "Lunette", slot = '1', draw = '16', tex = '7', costs = 1000},
				{name = "Lunette", slot = '1', draw = '16', tex = '8', costs = 1000},
				{name = "Lunette", slot = '1', draw = '16', tex = '9', costs = 1000},
				
				{name = "Lunette", slot = '1', draw = '17', tex = '0', costs = 1000},
				{name = "Lunette", slot = '1', draw = '17', tex = '1', costs = 1000},
				{name = "Lunette", slot = '1', draw = '17', tex = '2', costs = 1000},
				{name = "Lunette", slot = '1', draw = '17', tex = '3', costs = 1000},
				{name = "Lunette", slot = '1', draw = '17', tex = '4', costs = 1000},
				{name = "Lunette", slot = '1', draw = '17', tex = '5', costs = 1000},
				{name = "Lunette", slot = '1', draw = '17', tex = '6', costs = 1000},
				{name = "Lunette", slot = '1', draw = '17', tex = '7', costs = 1000},
				{name = "Lunette", slot = '1', draw = '17', tex = '8', costs = 1000},
				{name = "Lunette", slot = '1', draw = '17', tex = '9', costs = 1000},
				{name = "Lunette", slot = '1', draw = '17', tex = '10', costs = 1000},
				
				{name = "Lunette", slot = '1', draw = '18', tex = '0', costs = 1000},
				{name = "Lunette", slot = '1', draw = '18', tex = '1', costs = 1000},
				{name = "Lunette", slot = '1', draw = '18', tex = '2', costs = 1000},
				{name = "Lunette", slot = '1', draw = '18', tex = '3', costs = 1000},
				{name = "Lunette", slot = '1', draw = '18', tex = '4', costs = 1000},
				{name = "Lunette", slot = '1', draw = '18', tex = '5', costs = 1000},
				{name = "Lunette", slot = '1', draw = '18', tex = '6', costs = 1000},
				{name = "Lunette", slot = '1', draw = '18', tex = '7', costs = 1000},
				{name = "Lunette", slot = '1', draw = '18', tex = '8', costs = 1000},
				{name = "Lunette", slot = '1', draw = '18', tex = '9', costs = 1000},
				{name = "Lunette", slot = '1', draw = '18', tex = '10', costs = 1000},
				
				{name = "Lunette", slot = '1', draw = '19', tex = '0', costs = 1000},
				{name = "Lunette", slot = '1', draw = '19', tex = '1', costs = 1000},
				{name = "Lunette", slot = '1', draw = '19', tex = '2', costs = 1000},
				{name = "Lunette", slot = '1', draw = '19', tex = '3', costs = 1000},
				{name = "Lunette", slot = '1', draw = '19', tex = '4', costs = 1000},
				{name = "Lunette", slot = '1', draw = '19', tex = '5', costs = 1000},
				{name = "Lunette", slot = '1', draw = '19', tex = '6', costs = 1000},
				{name = "Lunette", slot = '1', draw = '19', tex = '7', costs = 1000},
				{name = "Lunette", slot = '1', draw = '19', tex = '8', costs = 1000},
				{name = "Lunette", slot = '1', draw = '19', tex = '9', costs = 1000},
				{name = "Lunette", slot = '1', draw = '19', tex = '10', costs = 1000},
				
				{name = "Lunette", slot = '1', draw = '20', tex = '0', costs = 1000},
				{name = "Lunette", slot = '1', draw = '20', tex = '1', costs = 1000},
				{name = "Lunette", slot = '1', draw = '20', tex = '2', costs = 1000},
				{name = "Lunette", slot = '1', draw = '20', tex = '3', costs = 1000},
				{name = "Lunette", slot = '1', draw = '20', tex = '4', costs = 1000},
				{name = "Lunette", slot = '1', draw = '20', tex = '5', costs = 1000},
				{name = "Lunette", slot = '1', draw = '20', tex = '6', costs = 1000},
				{name = "Lunette", slot = '1', draw = '20', tex = '7', costs = 1000},
				{name = "Lunette", slot = '1', draw = '20', tex = '8', costs = 1000},
				{name = "Lunette", slot = '1', draw = '20', tex = '9', costs = 1000},
				{name = "Lunette", slot = '1', draw = '20', tex = '10', costs = 1000},
				
				{name = "Lunette", slot = '1', draw = '21', tex = '0', costs = 1000},
				
				{name = "Lunette", slot = '1', draw = '22', tex = '0', costs = 1000},
				
				{name = "Lunette", slot = '1', draw = '23', tex = '0', costs = 1000},
				{name = "Lunette", slot = '1', draw = '23', tex = '1', costs = 1000},
				{name = "Lunette", slot = '1', draw = '23', tex = '2', costs = 1000},
				{name = "Lunette", slot = '1', draw = '23', tex = '3', costs = 1000},
				{name = "Lunette", slot = '1', draw = '23', tex = '4', costs = 1000},
				{name = "Lunette", slot = '1', draw = '23', tex = '5', costs = 1000},
				{name = "Lunette", slot = '1', draw = '23', tex = '6', costs = 1000},
				{name = "Lunette", slot = '1', draw = '23', tex = '7', costs = 1000},
				{name = "Lunette", slot = '1', draw = '23', tex = '8', costs = 1000},
				{name = "Lunette", slot = '1', draw = '23', tex = '9', costs = 1000},
			}
		},
		["item3"] = { 
			title = "Montre", 
			name = "item3",
			buttons = { 
				{name = "Montre", slot = '6', draw = '0', tex = '0', costs = 2500},
				
				{name = "Montre", slot = '6', draw = '1', tex = '0', costs = 2500},
				
				{name = "Montre", slot = '6', draw = '3', tex = '0', costs = 2500},
				{name = "Montre", slot = '6', draw = '3', tex = '1', costs = 2500},
				{name = "Montre", slot = '6', draw = '3', tex = '2', costs = 2500},
				{name = "Montre", slot = '6', draw = '3', tex = '3', costs = 2500},
				{name = "Montre", slot = '6', draw = '3', tex = '4', costs = 2500},
				
				{name = "Montre", slot = '6', draw = '4', tex = '0', costs = 2500},
				{name = "Montre", slot = '6', draw = '4', tex = '1', costs = 2500},
				{name = "Montre", slot = '6', draw = '4', tex = '2', costs = 2500},
				{name = "Montre", slot = '6', draw = '4', tex = '3', costs = 2500},
				
				{name = "Montre", slot = '6', draw = '5', tex = '0', costs = 2500},
				{name = "Montre", slot = '6', draw = '5', tex = '1', costs = 2500},
				{name = "Montre", slot = '6', draw = '5', tex = '2', costs = 2500},
				{name = "Montre", slot = '6', draw = '5', tex = '3', costs = 2500},
				
				{name = "Montre", slot = '6', draw = '6', tex = '0', costs = 2500},
				{name = "Montre", slot = '6', draw = '6', tex = '1', costs = 2500},
				{name = "Montre", slot = '6', draw = '6', tex = '2', costs = 2500},
				
				{name = "Montre", slot = '6', draw = '7', tex = '0', costs = 2500},
				{name = "Montre", slot = '6', draw = '7', tex = '1', costs = 2500},
				{name = "Montre", slot = '6', draw = '7', tex = '2', costs = 2500},
				
				{name = "Montre", slot = '6', draw = '8', tex = '0', costs = 2500},
				{name = "Montre", slot = '6', draw = '8', tex = '1', costs = 2500},
				{name = "Montre", slot = '6', draw = '8', tex = '2', costs = 2500},
				
				{name = "Montre", slot = '6', draw = '9', tex = '0', costs = 2500},
				{name = "Montre", slot = '6', draw = '9', tex = '1', costs = 2500},
				{name = "Montre", slot = '6', draw = '9', tex = '2', costs = 2500},
				
				{name = "Montre", slot = '6', draw = '10', tex = '0', costs = 2500},
				{name = "Montre", slot = '6', draw = '10', tex = '1', costs = 2500},
				{name = "Montre", slot = '6', draw = '10', tex = '2', costs = 2500},
				
				{name = "Montre", slot = '6', draw = '11', tex = '0', costs = 2500},
				{name = "Montre", slot = '6', draw = '11', tex = '1', costs = 2500},
				{name = "Montre", slot = '6', draw = '11', tex = '2', costs = 2500},
				
				{name = "Montre", slot = '6', draw = '12', tex = '0', costs = 2500},
				{name = "Montre", slot = '6', draw = '12', tex = '1', costs = 2500},
				{name = "Montre", slot = '6', draw = '12', tex = '2', costs = 2500},
				
				{name = "Montre", slot = '6', draw = '13', tex = '0', costs = 2500},
				{name = "Montre", slot = '6', draw = '13', tex = '1', costs = 2500},
				{name = "Montre", slot = '6', draw = '13', tex = '2', costs = 2500},
				
				{name = "Montre", slot = '6', draw = '14', tex = '0', costs = 2500},
				{name = "Montre", slot = '6', draw = '14', tex = '1', costs = 2500},
				{name = "Montre", slot = '6', draw = '14', tex = '2', costs = 2500},
				
				{name = "Montre", slot = '6', draw = '15', tex = '0', costs = 2500},
				{name = "Montre", slot = '6', draw = '15', tex = '1', costs = 2500},
				{name = "Montre", slot = '6', draw = '15', tex = '2', costs = 2500},
				
				{name = "Montre", slot = '6', draw = '16', tex = '0', costs = 2500},
				{name = "Montre", slot = '6', draw = '16', tex = '1', costs = 2500},
				{name = "Montre", slot = '6', draw = '16', tex = '2', costs = 2500},
				
				{name = "Montre", slot = '6', draw = '17', tex = '0', costs = 2500},
				{name = "Montre", slot = '6', draw = '17', tex = '1', costs = 2500},
				{name = "Montre", slot = '6', draw = '17', tex = '2', costs = 2500},
				
				{name = "Montre", slot = '6', draw = '18', tex = '0', costs = 2500},
				{name = "Montre", slot = '6', draw = '18', tex = '1', costs = 2500},
				{name = "Montre", slot = '6', draw = '18', tex = '2', costs = 2500},
				
				{name = "Montre", slot = '6', draw = '19', tex = '0', costs = 2500},
				{name = "Montre", slot = '6', draw = '19', tex = '1', costs = 2500},
				{name = "Montre", slot = '6', draw = '19', tex = '2', costs = 2500},
				
				{name = "Montre", slot = '6', draw = '20', tex = '0', costs = 2500},
				{name = "Montre", slot = '6', draw = '20', tex = '1', costs = 2500},
				{name = "Montre", slot = '6', draw = '20', tex = '2', costs = 2500},
				
				{name = "Montre", slot = '6', draw = '21', tex = '0', costs = 2500},
				{name = "Montre", slot = '6', draw = '21', tex = '1', costs = 2500},
				{name = "Montre", slot = '6', draw = '21', tex = '2', costs = 2500},
			}
		},
		["item4"] = { 
			title = "Boucle oreilles", 
			name = "item4",
			buttons = { 
				{name = "Boucle", slot = '1', draw = '2', tex = '0', costs = 2500},
			}
		},
	}
}

local fakecar = {model = '', car = nil}
local propshop_locations = {
[1] = {inside = {-160.7523,-302.8272,39.73331}},
}

local propshop_blips ={}
local inrangeofpropshop = false
local currentlocation = nil
local boughtProps = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfpropshop()
return inrangeofpropshop
end

function ShowpropshopBlips(bool)
	if bool and #propshop_blips == 0 then
		for station,pos in pairs(propshop_locations) do
			local loc = pos
			pos = pos.inside
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,102)
			SetBlipColour(blip, 7)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString("Boutique d'Accessoires")
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(propshop_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #propshop_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(propshop_blips) do
					if GetDistanceBetweenCoords(b.pos.inside[1],b.pos.inside[2],b.pos.inside[3],GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(1,b.pos.inside[1],b.pos.inside[2],b.pos.inside[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.inside[1],b.pos.inside[2],b.pos.inside[3],GetEntityCoords(LocalPed()),true) < 4 then
						-- drawTxt('Appuyez sur ~g~ENTRER~s~ pour acheter une ~b~Tenue',0,1,0.5,0.8,0.6,255,255,255,255)
						Show("Appuyez sur ~INPUT_CONTEXT~ pour acheter un ~b~Accessoire.")
						inrange = true
						end
					end
				end
				inrangeofpropshop = inrange
			end
		end)
	elseif bool == false and #propshop_blips > 0 then
		for i,b in ipairs(propshop_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		propshop_blips = {}
	end
end

function fi(n)
return n + 0.0001
end

function LocalPed()
return GetPlayerPed(-1)
end

function tryProps(fi, catch_f)
local status, exception = pcall(fi)
if not status then
catch_f(exception)
end
end
function firstToUpperProps(str)
    return (str:gsub("^%l", string.upper))
end
--local veh = nil
function OpenCreatorProps()		
	boughtProps = false
	local ped = LocalPed()
	local pos = currentlocation.pos.inside
	local g = Citizen.InvokeNative(0xC906A7DAB05C8D2B,pos[1],pos[2],pos[3],Citizen.PointerValueFloat(),0)
	propshop.currentmenu = "main2"
	propshop.opened = true
	propshop.selectedbutton = 0	
	SetPedComponentVariation(GetPlayerPed(-1), 1, 0, 0, 0)
end

local Props_price = 0

function CloseCreatorProps()
	Citizen.CreateThread(function()
		local ped = LocalPed()
		if not boughtProps then
			local pos = currentlocation.pos.inside
			FreezeEntityPosition(ped,false)
			SetEntityVisible(ped,true)
		else
			local model = GetEntityModel(Props)

			Citizen.InvokeNative(0xEA386986E786A54F, Citizen.PointerValueIntInitialized(Props))
			local pos = currentlocation.pos.inside

			FreezeEntityPosition(ped,false)
			RequestModel(model)
			while not HasModelLoaded(model) do
				Citizen.Wait(0)
			end
			SetModelAsNoLongerNeeded(model)
			SetPropsHasBeenOwnedByPlayer(skin,true)
			local id = NetworkGetNetworkIdFromEntity(skin)
			SetNetworkIdCanMigrate(id, true)
			Citizen.InvokeNative(0x629BFA74418D6239,Citizen.PointerValueIntInitialized(skin))
			SetEntityVisible(ped,true)
			FreezeEntityPosition(ped,false)
			
		end
		propshop.opened = false
		propshop.menu.from = 1
		propshop.menu.to = 10
		TriggerServerEvent('SetVariationServer')
	end)
end
	
function drawMenuButton(button,x,y,selected)
	local menu = propshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
		
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = propshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = propshop.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitleProp(txt,x,y)
local menu = propshop.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end
function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function NotifyProps(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

function DoesPlayerHaveSkin(model,button,y,selected)
		local t = false
		--TODO:check if player own car
		if t then
			drawMenuRight("OWNED",propshop.menu.x,y,selected)
		else
			drawMenuRight(button.costs.."$",propshop.menu.x,y,selected)
		end
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,38) and IsPlayerInRangeOfpropshop() then
			if propshop.opened then
				CloseCreatorProps()
			else
				OpenCreatorProps()
				-- clearPed()
			end
		end
		if propshop.opened then
			local ped = LocalPed()
			local menu = propshop.menu[propshop.currentmenu]
			drawTxt(propshop.title,1,1,propshop.menu.x,propshop.menu.y,1.0, 255,255,255,255)
			drawMenuTitleProp(menu.title, propshop.menu.x,propshop.menu.y + 0.08)
			drawTxt(propshop.selectedbutton.."/"..tablelength(menu.buttons),0,0,propshop.menu.x + propshop.menu.width/2 - 0.0385,propshop.menu.y + 0.067,0.4, 255,255,255,255)
			local y = propshop.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= propshop.menu.from and i <= propshop.menu.to then
					
					if i == propshop.selectedbutton then
						selected = true		
                        SetPedPropIndex(GetPlayerPed(-1), tonumber(button.slot),tonumber(button.draw),tonumber(button.tex),tonumber(button.pal))			
					else
						selected = false
					end
					drawMenuButton(button,propshop.menu.x,y,selected)
					if button.costs ~= nil then
						drawMenuRight(button.costs.."$",propshop.menu.x,y,selected)
					end
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedProps(button)
					end
				end
			end	
		end
		if propshop.opened then
			if IsControlJustPressed(1,202) then
				BackProps()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if propshop.selectedbutton > 1 then
					propshop.selectedbutton = propshop.selectedbutton -1
					if buttoncount > 10 and propshop.selectedbutton < propshop.menu.from then
						propshop.menu.from = propshop.menu.from -1
						propshop.menu.to = propshop.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if propshop.selectedbutton < buttoncount then
					propshop.selectedbutton = propshop.selectedbutton +1
					if buttoncount > 10 and propshop.selectedbutton > propshop.menu.to then
						propshop.menu.to = propshop.menu.to + 1
						propshop.menu.from = propshop.menu.from + 1
					end
				end	
			end
		end
		
	end
end)


function roundProps(num1, idp2)
  if idp2 and idp2>0 then
    local mult = 10^idp2
    return math.floor(num1 * mult + 0.5) / mult
  end
  return math.floor(num1 + 0.5)
end
function ButtonSelectedProps(button)
	local ped = GetPlayerPed(-1)
	local this = propshop.currentmenu
	local btn = button.name
	if this == "main2" then
	    if btn == "Chapeau" then
			OpenMenuProps('item1')
		elseif btn == "Lunette" then
			OpenMenuProps('item2')
		elseif btn == "Montre" then
			OpenMenuProps('item3')
		elseif btn == "Boucle d'oreilles" then
			OpenMenuProps('item4')
		end
	elseif this == "item1" then
	    if btn == "Casquettes" then
			OpenMenuProps('chap1')
		elseif btn == "Casques" then
			OpenMenuProps('chap2')
		elseif btn == "Autres" then
			OpenMenuProps('chap3')
		elseif btn == "Bonnet" then
			OpenMenuProps('chap4')
		elseif btn == "Chapeau" then
			OpenMenuProps('chap5')
		elseif btn == "Bandana" then
			OpenMenuProps('chap6')
		elseif btn == "NoÃ«l" then
			OpenMenuProps('chap7')
		elseif btn == "USA" then
			OpenMenuProps('chap8')
		end
	else
	TriggerServerEvent('CheckMoneyForProps',button.slot,button.draw,button.tex,"1",button.costs)
	end
end

RegisterNetEvent('FinishMoneyCheckForProps')
AddEventHandler('FinishMoneyCheckForProps', function(button)
	boughtProps = true
	CloseCreatorProps()
	propshop.opened = false
	propshop.menu.from = 1
	propshop.menu.to = 10
	TriggerServerEvent('SetVariationServer')
	
end)

function OpenMenuProps(menu)
	propshop.lastmenu = propshop.currentmenu
	if menu == "homme" then
		propshop.lastmenu = "main2"
	elseif menu == "fille"  then
		propshop.lastmenu = "main2"
	else
		propshop.lastmenu = "homme"
	end
	
	propshop.menu.from = 1
	propshop.menu.to = 10
	propshop.selectedbutton = 0
	propshop.currentmenu = menu	
end


function BackProps()
	if backlock then
		return
	end
	backlock = true
	if propshop.currentmenu == "main2" then
		CloseCreatorProps()
		TriggerServerEvent('SetVariationServer')
	else
		CloseCreatorProps()
		TriggerServerEvent('SetVariationServer')
	end
	
end

function stringstartsProps(String1,Start2)
   return string.sub(String1,1,string.len(Start2))==Start2
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowpropshopBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               local dab = {
	opened = false,
	title = "Distributeur",
	currentmenu = "main",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.9,
		y = 0.22,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main"] = { 
			title = "CATEGORIES", 
			name = "main",
			buttons = { 
				{name = "Retirer de l'argent", description = ""},
				{name = "Deposer de l'argent", description = ""},
			}
		},
		["retrait1"] = { 
			title = "Retrait",
			name = "retrait1",
			buttons = { 
				{name = "Tout retirer", sommes = 0, description = {}, model = ""},
				{name = "1000 $", sommes = 1000, description = {}, model = "WEAPON_NIGHTSTICK"},
				{name = "5 000 $", sommes = 5000, description = {}, model = "WEAPON_PISTOL"},
				{name = "10 000 $", sommes = 10000, description = {}, model = "WEAPON_STUNGUN"},
				{name = "20 000 $", sommes = 20000, description = {}, model = "WEAPON_FLASHLIGHT"},
				{name = "50 000 $", sommes = 50000, description = {}, model = "WEAPON_FIREEXTINGUISHER"},
				{name = "100 000 $", sommes = 100000, description = {}, model = "WEAPON_FIREEXTINGUISHER"},
				{name = "500 000 $", sommes = 500000, description = {}, model = "WEAPON_FIREEXTINGUISHER"},
			}
		},
		["depostit1"] = { 
			title = "Depot", 
			name = "depostit1",
			buttons = { 
				{name = "Tout dÃ©poser", sommes = 0, description = {}, model = ""},
				{name = "1000 $", sommes = 1000, description = {}, model = "WEAPON_NIGHTSTICK"},
				{name = "5 000 $", sommes = 5000, description = {}, model = "WEAPON_PISTOL"},
				{name = "10 000 $", sommes = 10000, description = {}, model = "WEAPON_STUNGUN"},
				{name = "20 000 $", sommes = 20000, description = {}, model = "WEAPON_FLASHLIGHT"},
				{name = "50 000 $", sommes = 50000, description = {}, model = "WEAPON_FIREEXTINGUISHER"},
				{name = "100 000 $", sommes = 100000, description = {}, model = "WEAPON_FIREEXTINGUISHER"},
				{name = "500 000 $", sommes = 500000, description = {}, model = "WEAPON_FIREEXTINGUISHER"},
			}
		},
	}
}

local DAB_locations = {
[1] = {distrib = {-537.6802,-854.4805,28.55176}},
[2] = {distrib = {-1430.185,-210.8764,45.5004}},
[3] = {distrib = {288.2663,-1282.425,28.65403}},
[4] = {distrib = {-164.5872,232.5836,93.92194}},
[5] = {distrib = {-866.6587,-187.6242,36.84126}},
[6] = {distrib = {296.4671,-894.212,28.23106}},
}

local Dab_blips ={}
local inrangeofDab = false
local currentlocation = nil

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerinrangeofDab()
return inrangeofDab
end

function ShowDabBlips(bool)
	if bool and #Dab_blips == 0 then
		for station,pos in pairs(DAB_locations) do
			local loc = pos
			pos = pos.distrib
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,431)
			SetBlipColour(blip, 2)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Distributeur')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Dab_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #Dab_blips > 0 do
				Citizen.Wait(0)
				local inrange2 = false
				for i,b in ipairs(Dab_blips) do
					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0)  == false and  GetDistanceBetweenCoords(b.pos.distrib[1],b.pos.distrib[2],b.pos.distrib[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.distrib[1],b.pos.distrib[2],b.pos.distrib[3],0,0,0,0,0,0,2.001,2.0001,0.5001,255,219,41,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.distrib[1],b.pos.distrib[2],b.pos.distrib[3],GetEntityCoords(LocalPed()),true) < 2 then
						Show("Appuyez sur ~INPUT_CONTEXT~ pour faire un ~b~Retrait.")
						inrange2 = true
						end
					end
				end
				inrangeofDab = inrange2
			end
		end)
	elseif bool == false and #Dab_blips > 0 then
		for i,b in ipairs(Dab_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		Dab_blips = {}
	end
end

--Creator Weapon

--Menu Weapon

function drawMenuButton(button,x,y,selected)
	local menu = dab.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = dab.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = dab.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitle(txt,x,y)
local menu = dab.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function NotifyDab(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if not inrangeofDab then
			dab.opened = false
			dab.menu.from = 1
			dab.menu.to = 10
		end
		if IsControlJustPressed(1,38) and IsPlayerinrangeofDab() then
			if dab.opened == false then
			Citizen.CreateThread(function()
                TaskStartScenarioInPlace(GetPlayerPed(-1), "PROP_HUMAN_ATM", 0, 1)
			    PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
			end)
			Wait(5000)
			dab.currentmenu = "main"
            dab.opened = true
	        dab.selectedbutton = 0
			end
		end
		if dab.opened then
			local ped = LocalPed()
			local menu = dab.menu[dab.currentmenu]
			drawTxt(dab.title,1,1,dab.menu.x,dab.menu.y,1.0, 255,255,255,255)
			drawMenuTitle(menu.title, dab.menu.x,dab.menu.y + 0.08)
			drawTxt(dab.selectedbutton.."/"..tablelength(menu.buttons),0,0,dab.menu.x + dab.menu.width/2 - 0.0385,dab.menu.y + 0.067,0.4, 255,255,255,255)
			local y = dab.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= dab.menu.from and i <= dab.menu.to then
					
					if i == dab.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,dab.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedDab(button)
					end
				end
			end	
		end
		if dab.opened then
			if IsControlJustPressed(1,202) then
				BackDab()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if dab.selectedbutton > 1 then
					dab.selectedbutton = dab.selectedbutton -1
					if buttoncount > 10 and dab.selectedbutton < dab.menu.from then
						dab.menu.from = dab.menu.from -1
						dab.menu.to = dab.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if dab.selectedbutton < buttoncount then
					dab.selectedbutton = dab.selectedbutton +1
					if buttoncount > 10 and dab.selectedbutton > dab.menu.to then
						dab.menu.to = dab.menu.to + 1
						dab.menu.from = dab.menu.from + 1
					end
				end	
			end
		end
	end
end)

function ButtonSelectedDab(button)
	local ped = GetPlayerPed(-1)
	local this = dab.currentmenu
	local btn = button.name
	if this == "main" then
		if btn == "Retirer de l'argent" then
			-- OpenMenuDab('retrait1')
			DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
			inputdabretrait = 1
		elseif btn == "Deposer de l'argent" then
			-- OpenMenuDab('depostit1')
			DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
			inputdabdepot = 1
		end
	elseif this == "retrait1" then
		TriggerServerEvent('CheckMoneyDabRetrait',button.model,button.sommes)
		Citizen.CreateThread(function()
            ClearPedTasksImmediately(GetPlayerPed(-1))
		end)
	elseif this == "depostit1" then
		TriggerServerEvent('CheckMoneyDabDeposit',button.model,button.sommes)
		Citizen.CreateThread(function()
            ClearPedTasksImmediately(GetPlayerPed(-1))
		end)
	end
end

inputdabdepot = 0
inputdabretrait = 0

--DEPOT DAB
Citizen.CreateThread(function()
	while true do
		Wait(0)
		if inputdabdepot == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputdabdepot = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputdabdepot2 = GetOnscreenKeyboardResult()
					if string.len(inputdabdepot2) > 0 then
						Resultdabsommesdepot = inputdabdepot2
						inputdabdepot = 2
					else
						inputdabdepot = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputdabdepot = 0
			end
		end
		if inputdabdepot == 2 then
			TriggerServerEvent('CheckMoneyDabDeposit',Resultdabsommesdepot)
			inputdabdepot = 0
		end
	end
end)

--RETRAIT DAB
Citizen.CreateThread(function()
	while true do
		Wait(0)
		if inputdabretrait == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputdabretrait = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputdabretrait2 = GetOnscreenKeyboardResult()
					if string.len(inputdabretrait2) > 0 then
						Resultdabsommesretrait = inputdabretrait2
						inputdabretrait = 2
					else
						inputdabretrait = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputdabretrait = 0
			end
		end
		if inputdabretrait == 2 then
			TriggerServerEvent('CheckMoneyDabRetrait',Resultdabsommesretrait)
			inputdabretrait = 0
		end
	end
end)

RegisterNetEvent('FinishCheckMoneyDab')
AddEventHandler('FinishCheckMoneyDab', function()
	dab.opened = false
	dab.menu.from = 1
	dab.menu.to = 10
	Citizen.CreateThread(function()
        ClearPedTasksImmediately(GetPlayerPed(-1))
	end)
end)

function OpenMenuDab(menu)
	dab.lastmenu = dab.currentmenu
	if menu == "retrait1" then
		dab.lastmenu = "main"
	elseif menu == "depostit1"  then
		dab.lastmenu = "main"
	elseif menu == 'race_create_objects' then
		dab.lastmenu = "main"
	elseif menu == "race_create_objects_spawn" then
		dab.lastmenu = "race_create_objects"
	end
	dab.menu.from = 1
	dab.menu.to = 10
	dab.selectedbutton = 0
	dab.currentmenu = menu	
end

function BackDab()
	if backlock then
		return
	end
	backlock = true
	if dab.currentmenu == "main" then
		dab.opened = false
		dab.menu.from = 1
		dab.menu.to = 10
		Citizen.CreateThread(function()
            ClearPedTasksImmediately(GetPlayerPed(-1))
		end)
	elseif dab.currentmenu == "retrait1" or dab.currentmenu == "depostit1" then
		OpenMenuDab(dab.lastmenu)
	else
		OpenMenuDab(dab.lastmenu)
	end
end

function stringstartsDab(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowDabBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                     local dab2 = {
	opened = false,
	title = "Distributeur",
	currentmenu = "main",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.9,
		y = 0.22,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main"] = { 
			title = "CATEGORIES", 
			name = "main",
			buttons = { 
				{name = "Retirer de l'argent", description = ""},
				{name = "Deposer de l'argent", description = ""},
			}
		},
		["retrait1"] = { 
			title = "Retrait",
			name = "retrait1",
			buttons = { 
				{name = "Tout retirer", sommes = 0, description = {}, model = ""},
				{name = "1000 $", sommes = 1000, description = {}, model = "WEAPON_NIGHTSTICK"},
				{name = "5 000 $", sommes = 5000, description = {}, model = "WEAPON_PISTOL"},
				{name = "10 000 $", sommes = 10000, description = {}, model = "WEAPON_STUNGUN"},
				{name = "20 000 $", sommes = 20000, description = {}, model = "WEAPON_FLASHLIGHT"},
				{name = "50 000 $", sommes = 50000, description = {}, model = "WEAPON_FIREEXTINGUISHER"},
				{name = "100 000 $", sommes = 100000, description = {}, model = "WEAPON_FIREEXTINGUISHER"},
				{name = "500 000 $", sommes = 500000, description = {}, model = "WEAPON_FIREEXTINGUISHER"},
			}
		},
		["depostit1"] = { 
			title = "Depot", 
			name = "depostit1",
			buttons = { 
				{name = "Tout dÃ©poser", sommes = 0, description = {}, model = ""},
				{name = "1000 $", sommes = 1000, description = {}, model = "WEAPON_NIGHTSTICK"},
				{name = "5 000 $", sommes = 5000, description = {}, model = "WEAPON_PISTOL"},
				{name = "10 000 $", sommes = 10000, description = {}, model = "WEAPON_STUNGUN"},
				{name = "20 000 $", sommes = 20000, description = {}, model = "WEAPON_FLASHLIGHT"},
				{name = "50 000 $", sommes = 50000, description = {}, model = "WEAPON_FIREEXTINGUISHER"},
				{name = "100 000 $", sommes = 100000, description = {}, model = "WEAPON_FIREEXTINGUISHER"},
				{name = "500 000 $", sommes = 500000, description = {}, model = "WEAPON_FIREEXTINGUISHER"},
			}
		},
	}
}

local dab2_locations = {
[1] = {distrib = {-821.6721,-1082.029,11.13243}},
[2] = {distrib = {237.4575,217.6217,106.2869}},
[3] = {distrib = {145.9351,-1035.039,29.34496}},
-- [4] = {distrib = {453.0239,-973.4056,29.68961}},
[5] = {distrib = {129.2535,-1292.206,29.26953}},

[6] = {distrib = {-1315.704,-834.7679,16.96173}},
[7] = {distrib = {-1314.833,-835.9480,16.96023}},
[8] = {distrib = {-254.4179,-692.4133,33.60726}},
[9] = {distrib = {-1109.622,-1690.682,4.37499}},

[10] = {distrib = {285.5261,143.4649,104.1721}},
[11] = {distrib = {89.79687,2.337373,68.30541}},

[12] = {distrib = {-1409.714,-100.592,52.38089}},
[13] = {distrib = {-254.3934,-692.3837,33.60837}},
[14] = {distrib = {-256.181,-715.9352,33.52503}},
[15] = {distrib = {-258.8951,-723.5166,33.47699}},
[16] = {distrib = {-710.0677,-818.9226,23.72953}},
[17] = {distrib = {-712.8065,-818.9503,23.72953}},
[18] = {distrib = {5.183324,-919.8215,29.55892}},
[19] = {distrib = {-2072.415,-317.156,13.31597}},
}

local dab2_blips ={}
local inrangeofdab2 = false
local currentlocation = nil

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerinrangeofdab2()
return inrangeofdab2
end

function Showdab2Blips(bool)
	if bool and #dab2_blips == 0 then
		for station,pos in pairs(dab2_locations) do
			local loc = pos
			pos = pos.distrib
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(dab2_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #dab2_blips > 0 do
				Citizen.Wait(0)
				local inrange2 = false
				for i,b in ipairs(dab2_blips) do
					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0)  == false and  GetDistanceBetweenCoords(b.pos.distrib[1],b.pos.distrib[2],b.pos.distrib[3],GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(0,b.pos.distrib[1],b.pos.distrib[2],b.pos.distrib[3],0,0,0,0,0,0,2.001,2.0001,0.5001,255,219,41,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.distrib[1],b.pos.distrib[2],b.pos.distrib[3],GetEntityCoords(LocalPed()),true) < 1 then
						Show("Appuyez sur ~INPUT_CONTEXT~ pour faire un ~b~Retrait~w~.")
						inrange2 = true
						end
					end
				end
				inrangeofdab2 = inrange2
			end
		end)
	elseif bool == false and #dab2_blips > 0 then
		for i,b in ipairs(dab2_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		dab2_blips = {}
	end
end

--Creator Weapon

--Menu Weapon

function drawMenuButton(button,x,y,selected)
	local menu = dab2.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = dab2.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = dab2.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitle(txt,x,y)
local menu = dab2.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function Notifydab2(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if not inrangeofdab2 then
			dab2.opened = false
			dab2.menu.from = 1
			dab2.menu.to = 10
		end
		if IsControlJustPressed(1,38) and IsPlayerinrangeofdab2() then
			if dab2.opened == false then
			Citizen.CreateThread(function()
                TaskStartScenarioInPlace(GetPlayerPed(-1), "PROP_HUMAN_ATM", 0, 1)
			    PlayAmbientSpeech1(GetPlayerPed(-1), "GENERIC_CURSE_MED", "SPEECH_PARAMS_FORCE")
			end)
			Wait(5000)
			dab2.currentmenu = "main"
            dab2.opened = true
	        dab2.selectedbutton = 0
			end
		end
		if dab2.opened then
			local ped = LocalPed()
			local menu = dab2.menu[dab2.currentmenu]
			drawTxt(dab2.title,1,1,dab2.menu.x,dab2.menu.y,1.0, 255,255,255,255)
			drawMenuTitle(menu.title, dab2.menu.x,dab2.menu.y + 0.08)
			drawTxt(dab2.selectedbutton.."/"..tablelength(menu.buttons),0,0,dab2.menu.x + dab2.menu.width/2 - 0.0385,dab2.menu.y + 0.067,0.4, 255,255,255,255)
			local y = dab2.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= dab2.menu.from and i <= dab2.menu.to then
					
					if i == dab2.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,dab2.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelecteddab2(button)
					end
				end
			end	
		end
		if dab2.opened then
			if IsControlJustPressed(1,202) then
				Backdab2()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if dab2.selectedbutton > 1 then
					dab2.selectedbutton = dab2.selectedbutton -1
					if buttoncount > 10 and dab2.selectedbutton < dab2.menu.from then
						dab2.menu.from = dab2.menu.from -1
						dab2.menu.to = dab2.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if dab2.selectedbutton < buttoncount then
					dab2.selectedbutton = dab2.selectedbutton +1
					if buttoncount > 10 and dab2.selectedbutton > dab2.menu.to then
						dab2.menu.to = dab2.menu.to + 1
						dab2.menu.from = dab2.menu.from + 1
					end
				end	
			end
		end
	end
end)

function ButtonSelecteddab2(button)
	local ped = GetPlayerPed(-1)
	local this = dab2.currentmenu
	local btn = button.name
	if this == "main" then
		if btn == "Retirer de l'argent" then
			OpenMenudab2('retrait1')
			
		elseif btn == "Deposer de l'argent" then
			OpenMenudab2('depostit1')
		end
	elseif this == "retrait1" then
		TriggerServerEvent('CheckMoneyDab2Retrait',button.model,button.sommes)
		Citizen.CreateThread(function()
            ClearPedTasksImmediately(GetPlayerPed(-1))
		end)
	elseif this == "depostit1" then
		TriggerServerEvent('CheckMoneyDab2Deposit',button.model,button.sommes)
		Citizen.CreateThread(function()
            ClearPedTasksImmediately(GetPlayerPed(-1))
			end)
	end
end

RegisterNetEvent('FinishCheckMoneyDab2')
AddEventHandler('FinishCheckMoneyDab2', function()
	dab2.opened = false
	dab2.menu.from = 1
	dab2.menu.to = 10
	Citizen.CreateThread(function()
     ClearPedTasksImmediately(GetPlayerPed(-1))
	end)
end)

function OpenMenudab2(menu)
	dab2.lastmenu = dab2.currentmenu
	if menu == "retrait1" then
		dab2.lastmenu = "main"
	elseif menu == "depostit1"  then
		dab2.lastmenu = "main"
	elseif menu == 'race_create_objects' then
		dab2.lastmenu = "main"
	elseif menu == "race_create_objects_spawn" then
		dab2.lastmenu = "race_create_objects"
	end
	dab2.menu.from = 1
	dab2.menu.to = 10
	dab2.selectedbutton = 0
	dab2.currentmenu = menu	
end

function Backdab2()
	if backlock then
		return
	end
	backlock = true
	if dab2.currentmenu == "main" then
		dab2.opened = false
		dab2.menu.from = 1
		dab2.menu.to = 10
		Citizen.CreateThread(function()
            ClearPedTasksImmediately(GetPlayerPed(-1))
			end)
	elseif dab2.currentmenu == "retrait1" or dab2.currentmenu == "depostit1" then
		OpenMenudab2(dab2.lastmenu)
	else
		OpenMenudab2(dab2.lastmenu)
	end
end

function stringstartsdab2(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	Showdab2Blips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                foodlvl = 100
waterlvl = 100


--HUD

function drawRctFood(x,y,width,height,r,g,b,a)
	DrawRect(x + width/2, y + height/2, width, height, r, g, b, a)
end

Citizen.CreateThread(function()
	while true do
        Citizen.Wait(0)	
		
        drawRctFood(0.013, 0.757, 0.145, 0.0359999999999999, 0, 0, 0, 97) --Blackground 
		
		-- drawRctFood(0.015, 0.778, 0.141, 0.0109999999999999, 0, 0, 0, 100) --Blackground Water
		-- drawRctFood(0.015, 0.760, 0.141, 0.0109999999999999, 0, 0, 0, 100) --Blackground Food
		
        drawRctFood(0.015, 0.778, 0.141, 0.0109999999999999, 117, 163, 209, 50) --Blackground Water
		drawRctFood(0.015, 0.760, 0.141, 0.0109999999999999, 209, 163, 117, 50) --Blackground Food
		
		drawRctFood(0.015, 0.778, waterlvl * 0.141 / 100, 0.0109999999999999, 71, 133, 194, 200) --Water
		
		drawRctFood(0.015, 0.760, foodlvl * 0.141 / 100, 0.0109999999999999, 194, 133, 71, 200) --Food	
	end
end)

--DESCENTE

RegisterNetEvent('fooddimiclient')
AddEventHandler('fooddimiclient', function()
	
	if foodlvl >= 1 then
	
		foodlvl = foodlvl - 2
		
	end
	
end)

RegisterNetEvent('waterdimiclient')
AddEventHandler('waterdimiclient', function()
	
	if waterlvl >= 1 then
	
	 	waterlvl = waterlvl - 2
		
	end
	
end)

local msgaffiche = 0
local msgaffiche2 = 0

Citizen.CreateThread(function()
	while true do
        Citizen.Wait(0)	
		
        if foodlvl <= 40 then
		   if msgaffiche == 0 then
			ShowNotificationMain("~h~Vous avez ~r~Faim~w~.")
			msgaffiche = 1
		   end
		end
		
		
		-- if foodlvl <= 15 then
			-- local ped = GetPlayerPed(-1)
			-- SetEntityHealth(ped, 20)
		-- end
		
		if foodlvl == 0 then
			local ped = GetPlayerPed(-1)
			SetEntityHealth(ped, 0)
			msgaffiche = 0
		end
		
		if waterlvl <= 40 then
			if msgaffiche2 == 0 then
			ShowNotificationMain("~h~Vous avez ~r~Soif~w~.")
			msgaffiche2 = 1
		   end
		end
		
		
		-- if waterlvl <= 15 then
			-- local ped = GetPlayerPed(-1)
			-- SetEntityHealth(ped, 20)
		-- end
		
		if waterlvl == 0 then
			local ped = GetPlayerPed(-1)
			SetEntityHealth(ped, 0)
			msgaffiche2 = 0
		end
	end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     function DrawAdvancedText2(x,y ,w,h,sc, text, r,g,b,a,font,jus)
    SetTextFont(font)
    SetTextProportional(0)
    SetTextScale(sc, sc)
	N_0x4e096588b13ffeca(jus)
    SetTextColour(r, g, b, a)
    SetTextDropShadow(0, 0, 0, 0,255)
    SetTextEdge(1, 0, 0, 0, 255)
    SetTextDropShadow()
    SetTextOutline()
    SetTextEntry("STRING")
    AddTextComponentString(text)
	DrawText(x - 0.1+w, y - 0.02+h)
end

function DrawAdvancedText(x,y ,w,h,sc, text, r,g,b,a,font,jus)
    SetTextFont(font)
    SetTextProportional(0)
    SetTextScale(sc, sc)
	N_0x4e096588b13ffeca(jus)
    SetTextColour(r, g, b, a)
    SetTextDropShadow(0, 0, 0, 0,255)
    SetTextEdge(1, 0, 0, 0, 255)
    SetTextDropShadow()
    SetTextOutline()
    SetTextEntry("STRING")
    AddTextComponentString(text)
	DrawText(x - 0.1+w, y - 0.02+h)
end

affichecarte = false

RegisterNetEvent('OpenCarteIdent')
AddEventHandler('OpenCarteIdent', function(name, age, job, permis1, permis2, permis3, permis4, num, wanted, identitehouse)
	affichecarte = not affichecarte
	
	identitename = name
	identiteage = age
	identitejob = job
	identitepermis1 = permis1
	identitepermis2 = permis2
	identitepermis3 = permis3
	identitepermis4 = permis4
	identitetel = num
	identitewanted = wanted
	
	if identitehouse == 1 then
	    myadresse = "1 Boulevard Del Perro"
	elseif identitehouse == 2 then
	    myadresse = "2 Boulevard Del Perro"
	elseif identitehouse == 3 then
	    myadresse = "3 Rue Movie Star"
	elseif identitehouse == 4 then
	    myadresse = "4 Rue Movie Star"
	elseif identitehouse == 5 then
	    myadresse = "5 Rue Heritage"
	elseif identitehouse == 6 then
	    myadresse = "6 Rue Heritage"
	elseif identitehouse == 7 then
	    myadresse = "7 Rue Heritage"
	elseif identitehouse == 8 then
	    myadresse = "8 Avenue Marathon"
	elseif identitehouse == 9 then
	    myadresse = "9 Avenue Marathon"
	elseif identitehouse == 10 then
	    myadresse = "10 Avenue Marathon "
	elseif identitehouse == 11 then
	    myadresse = "11 Avenue San Andreas"
	elseif identitehouse == 12 then
	    myadresse = "12 Avenue San Andreas"
	elseif identitehouse == 13 then
	    myadresse = "13 Avenue San Andreas"
	else
	    myadresse = "Sans domicile fixe"
	end
	
end)

Citizen.CreateThread(function()
	while true do
        Citizen.Wait(0)	
		    			
			if (affichecarte == true) then
			
		    DrawRect(0.883000000000001, 0.37, 0.185, 0.350, 0, 0, 0, 150)
			DrawAdvancedText2(0.975000000000001, 0.239, 0.005, 0.0028, 0.7, "Carte d'identitÃ©", 255, 255, 255, 255, 1, 0)
			
			DrawAdvancedText2(0.897000000000001, 0.290, 0.005, 0.0028, 0.3, "Nom :~b~ "..identitename, 255, 255, 255, 255, 0, 1)
			DrawAdvancedText2(0.897000000000001, 0.320, 0.005, 0.0028, 0.3, "Age :~b~ "..identiteage.."~w~ ans", 255, 255, 255, 255, 0, 1)
			DrawAdvancedText2(0.897000000000001, 0.350, 0.005, 0.0028, 0.3, "Profession :~b~ "..identitejob, 255, 255, 255, 255, 0, 1)
			DrawAdvancedText2(0.897000000000001, 0.380, 0.005, 0.0028, 0.3, "Permis de voiture :~b~ "..identitepermis1, 255, 255, 255, 255, 0, 1)
			DrawAdvancedText2(0.897000000000001, 0.410, 0.005, 0.0028, 0.3, "Permis Bateau : "..identitepermis2, 255, 255, 255, 255, 0, 1)
			DrawAdvancedText2(0.897000000000001, 0.440, 0.005, 0.0028, 0.3, "Licence Pilote : "..identitepermis3, 255, 255, 255, 255, 0, 1)
			DrawAdvancedText2(0.897000000000001, 0.470, 0.005, 0.0028, 0.3, "Permis Port d'armes : "..identitepermis4, 255, 255, 255, 255, 0, 1)
			DrawAdvancedText2(0.897000000000001, 0.500, 0.005, 0.0028, 0.3, "NumÃ©ro de tÃ©lÃ©phone : ~b~"..identitetel, 255, 255, 255, 255, 0, 1)
			DrawAdvancedText2(0.897000000000001, 0.530, 0.005, 0.0028, 0.3, "Adresse : ~b~"..myadresse, 255, 255, 255, 255, 0, 1)
			
			if identitewanted == 1 then
			DrawRect(0.883000000000001, 0.58, 0.185, 0.0559999999999999, 146, 0, 0, 150)
			DrawAdvancedText2(0.940000000000001, 0.580, 0.005, 0.0028, 0.6, "WANTED", 255, 255, 255, 255, 7, 1)
			end
			
			end
	end
end)                                                                                                                                                                      createhead = {
	opened = false,
	title = "Creation personnage",
	currentmenu = "visagemenu",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.1,
		y = 0.15,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["visagemenu"] = { 
			title = "Visage", 
			name = "visagemenu",
			buttons = { 
				{name = "Visage 1", description = "", slot = "0", draw = "0", tex = "0", pal = "0"},
				{name = "Visage 2", description = "", slot = "0", draw = "1", tex = "0", pal = "0"},
				-- {name = "Visage ", description = "", slot = "0", draw = "2", tex = "0", pal = "0"},
				-- {name = "Visage ", description = "", slot = "0", draw = "3", tex = "0", pal = "0"},
				{name = "Visage 3", description = "", slot = "0", draw = "4", tex = "0", pal = "0"},
				{name = "Visage 4", description = "", slot = "0", draw = "5", tex = "0", pal = "0"},
				{name = "Visage 5", description = "", slot = "0", draw = "6", tex = "0", pal = "0"},
				{name = "Visage 6", description = "", slot = "0", draw = "7", tex = "0", pal = "0"},
				-- {name = "Visage ", description = "", slot = "0", draw = "8", tex = "0", pal = "0"},
				-- {name = "Visage ", description = "", slot = "0", draw = "9", tex = "0", pal = "0"},
				{name = "Visage 7", description = "", slot = "0", draw = "10", tex = "0", pal = "0"},
				{name = "Visage 8", description = "", slot = "0", draw = "11", tex = "0", pal = "0"},
				{name = "Visage 9", description = "", slot = "0", draw = "12", tex = "0", pal = "0"},
				{name = "Visage 10", description = "", slot = "0", draw = "13", tex = "0", pal = "0"},
				-- {name = "Visage ", description = "", slot = "0", draw = "14", tex = "0", pal = "0"},
				-- {name = "Visage ", description = "", slot = "0", draw = "15", tex = "0", pal = "0"},
				{name = "Visage 11", description = "", slot = "0", draw = "16", tex = "0", pal = "0"},
				{name = "Visage 12", description = "", slot = "0", draw = "17", tex = "0", pal = "0"},
				{name = "Visage 13", description = "", slot = "0", draw = "18", tex = "0", pal = "0"},
				-- {name = "Visage ", description = "", slot = "0", draw = "19", tex = "0", pal = "0"},
				{name = "Visage 14", description = "", slot = "0", draw = "20", tex = "0", pal = "0"},
				{name = "Visage 15", description = "", slot = "0", draw = "21", tex = "0", pal = "0"},
				{name = "Visage 16", description = "", slot = "0", draw = "22", tex = "0", pal = "0"},
				-- {name = "Visage ", description = "", slot = "0", draw = "23", tex = "0", pal = "0"},
				-- {name = "Visage ", description = "", slot = "0", draw = "24", tex = "0", pal = "0"},
				{name = "Visage 17", description = "", slot = "0", draw = "25", tex = "0", pal = "0"},
				{name = "Visage 18", description = "", slot = "0", draw = "26", tex = "0", pal = "0"},
				{name = "Visage 19", description = "", slot = "0", draw = "27", tex = "0", pal = "0"},
				{name = "Visage 20", description = "", slot = "0", draw = "28", tex = "0", pal = "0"},
				-- {name = "Visage ", description = "", slot = "0", draw = "29", tex = "0", pal = "0"},
				-- {name = "Visage ", description = "", slot = "0", draw = "30", tex = "0", pal = "0"},
				{name = "Visage 21", description = "", slot = "0", draw = "31", tex = "0", pal = "0"},
				{name = "Visage 22", description = "", slot = "0", draw = "32", tex = "0", pal = "0"},
				{name = "Visage 23", description = "", slot = "0", draw = "33", tex = "0", pal = "0"},
				{name = "Visage 24", description = "", slot = "0", draw = "34", tex = "0", pal = "0"},
				-- {name = "Visage ", description = "", slot = "0", draw = "35", tex = "0", pal = "0"},
				-- {name = "Visage ", description = "", slot = "0", draw = "36", tex = "0", pal = "0"},
				{name = "Visage 25", description = "", slot = "0", draw = "37", tex = "0", pal = "0"},
				{name = "Visage 26", description = "", slot = "0", draw = "38", tex = "0", pal = "0"},
				{name = "Visage 27", description = "", slot = "0", draw = "39", tex = "0", pal = "0"},
				{name = "Visage 28", description = "", slot = "0", draw = "40", tex = "0", pal = "0"},
				-- {name = "Visage ", description = "", slot = "0", draw = "41", tex = "0", pal = "0"},
				{name = "Visage 29", description = "", slot = "0", draw = "42", tex = "0", pal = "0"},
				{name = "Visage 30", description = "", slot = "0", draw = "43", tex = "0", pal = "0"},
				{name = "Visage 31", description = "", slot = "0", draw = "44", tex = "0", pal = "0"},
				{name = "Visage 32", description = "", slot = "0", draw = "45", tex = "0", pal = "0"},
			}
		},
		["cheveuxmenu"] = { 
			title = "Cheveux", 
			name = "cheveuxmenu",
			buttons = { 
				{name = "Cheveux 1", description = "", slot = "2", draw = "0", tex = "0", pal = "0"},
				{name = "Cheveux 2", description = "", slot = "2", draw = "1", tex = "0", pal = "0"},
				{name = "Cheveux 3", description = "", slot = "2", draw = "2", tex = "0", pal = "0"},
				{name = "Cheveux 4", description = "", slot = "2", draw = "3", tex = "0", pal = "0"},
				{name = "Cheveux 5", description = "", slot = "2", draw = "4", tex = "0", pal = "0"},
				{name = "Cheveux 6", description = "", slot = "2", draw = "5", tex = "0", pal = "0"},
				{name = "Cheveux 7", description = "", slot = "2", draw = "6", tex = "0", pal = "0"},
				{name = "Cheveux 8", description = "", slot = "2", draw = "7", tex = "0", pal = "0"},
				{name = "Cheveux 9", description = "", slot = "2", draw = "8", tex = "0", pal = "0"},
				{name = "Cheveux 10", description = "", slot = "2", draw = "9", tex = "0", pal = "0"},
				{name = "Cheveux 11", description = "", slot = "2", draw = "10", tex = "0", pal = "0"},
				{name = "Cheveux 12", description = "", slot = "2", draw = "11", tex = "0", pal = "0"},
				{name = "Cheveux 13", description = "", slot = "2", draw = "12", tex = "0", pal = "0"},
				{name = "Cheveux 14", description = "", slot = "2", draw = "13", tex = "0", pal = "0"},
				{name = "Cheveux 15", description = "", slot = "2", draw = "14", tex = "0", pal = "0"},
				{name = "Cheveux 16", description = "", slot = "2", draw = "15", tex = "0", pal = "0"},
				{name = "Cheveux 17", description = "", slot = "2", draw = "16", tex = "0", pal = "0"},
				{name = "Cheveux 18", description = "", slot = "2", draw = "17", tex = "0", pal = "0"},
				{name = "Cheveux 19", description = "", slot = "2", draw = "18", tex = "0", pal = "0"},
				{name = "Cheveux 20", description = "", slot = "2", draw = "19", tex = "0", pal = "0"},
				{name = "Cheveux 21", description = "", slot = "2", draw = "20", tex = "0", pal = "0"},
				{name = "Cheveux 22", description = "", slot = "2", draw = "21", tex = "0", pal = "0"},
				{name = "Cheveux 23", description = "", slot = "2", draw = "22", tex = "0", pal = "0"},
			}
		},
		["couleurcheveuxmenu"] = { 
			title = "Couleur Cheveux", 
			name = "couleurcheveuxmenu",
			buttons = { 
				{name = "ChÃ¢tain foncÃ© ", description = "", slot = "2", tex = "1"},
				{name = "ChÃ¢tain clair", description = "", slot = "2", tex = "2"},
				{name = "Blond", description = "", slot = "2", tex = "3"},
				{name = "Brun", description = "", slot = "2", tex = "4"},
			}
		},
	}
}

local boughtweapon = false

local function LocalPed()
return GetPlayerPed(-1)
end

--Creator Weapon
function OpenCreatorcreatehead()		
	boughtweapon = false
	createhead.currentmenu = "visagemenu"
	createhead.opened = true
	createhead.selectedbutton = 0
end
function CloseCreatorcreatehead()
	Citizen.CreateThread(function()
		createhead.opened = false
		createhead.menu.from = 1
		createhead.menu.to = 10
	end)
end

--Menu pomenu

function drawMenuButton(button,x,y,selected)
	local menu = createhead.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = createhead.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = createhead.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)		
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitleTaxi(txt,x,y)
local menu = createhead.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,93,166,202,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function Notifycreatehead(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

function ShowNotificationcreatehead(text)
	SetNotificationTextEntry("STRING")
	AddTextComponentString(text)
	DrawNotification(false, false)
end

RegisterNetEvent('OpenCreatorVisage')
AddEventHandler('OpenCreatorVisage', function()
		createhead.currentmenu = "visagemenu"
		createhead.opened = true
		createhead.selectedbutton = 0
end)

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1,168) and ((clientAdminlevel == 2) or (clientAdminlevel == 3)) then --F7
				if createhead.opened then
					CloseCreatorcreatehead()
				else
					OpenCreatorcreatehead()
				end
		end
		if createhead.opened then
			local ped = LocalPed()
			local menu = createhead.menu[createhead.currentmenu]
			drawTxt(createhead.title,1,1,createhead.menu.x,createhead.menu.y,1.0, 255,255,255,255)
			drawMenuTitleTaxi(menu.title, createhead.menu.x,createhead.menu.y + 0.08)
			drawTxt(createhead.selectedbutton.."/"..tablelength(menu.buttons),0,0,createhead.menu.x + createhead.menu.width/2 - 0.0385,createhead.menu.y + 0.067,0.4, 255,255,255,255)
			local y = createhead.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= createhead.menu.from and i <= createhead.menu.to then
					
					if i == createhead.selectedbutton then
						selected = true
						if createhead.currentmenu == "couleurcheveuxmenu" then
						SetPedComponentVariation(GetPlayerPed(-1), tonumber(button.slot),tonumber(savedraw),tonumber(button.tex),tonumber(button.pal))
						else
						SetPedComponentVariation(GetPlayerPed(-1), tonumber(button.slot),tonumber(button.draw),tonumber(button.tex),tonumber(button.pal))
						end		
					else
						selected = false
						
					end
					drawMenuButton(button,createhead.menu.x,y,selected)					
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedcreatehead(button)
					end
				end
			end	
		end
		if createhead.opened then
			if IsControlJustPressed(1,202) then
				Backcreatehead()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if createhead.selectedbutton > 1 then
					createhead.selectedbutton = createhead.selectedbutton -1
					if buttoncount > 10 and createhead.selectedbutton < createhead.menu.from then
						createhead.menu.from = createhead.menu.from -1
						createhead.menu.to = createhead.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if createhead.selectedbutton < buttoncount then
					createhead.selectedbutton = createhead.selectedbutton +1
					if buttoncount > 10 and createhead.selectedbutton > createhead.menu.to then
						createhead.menu.to = createhead.menu.to + 1
						createhead.menu.from = createhead.menu.from + 1
					end
				end	
			end
		end
	end
end)
		    
function DrawMissionTextcreatehead(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

inputtariftaxi = 0

function ButtonSelectedcreatehead(button)
	local ped = GetPlayerPed(-1)
	local this = createhead.currentmenu
	local btn = button.name

	if this == "visagemenu" then
		if btn == "visage 0" then
		     
		else
			TriggerServerEvent('CheckVisage', button.slot, button.draw, button.tex, button.pal)
		    OpenMenucreatehead('cheveuxmenu')
			
		end
    elseif this == "cheveuxmenu" then
		if btn == "visage 0" then
		     
		else
		    savedraw =  button.draw
			savepal = button.pal
			TriggerServerEvent('CheckCheveux', button.slot, button.draw, button.tex, button.pal)
		    OpenMenucreatehead('couleurcheveuxmenu')
			
		end
    elseif this == "couleurcheveuxmenu" then
		if btn == "visage 0" then
		     
		else
			TriggerServerEvent('CheckCouleurCheveux', button.slot, savedraw, button.tex, savepal)
			TriggerServerEvent('CheckFinishPerso')			
			ShowNotificationMain("~h~Vous avez crÃ©er votre personnage avec ~g~succÃ¨s~w~.")
		    CloseCreatorcreatehead()
			
		end
	end
end

RegisterNetEvent('Finishcreatehead')
AddEventHandler('Finishcreatehead', function()
	boughtweapon = true
	CloseCreatorcreatehead()
	createhead.opened = false
	createhead.menu.from = 1
	createhead.menu.to = 10
	TriggerServerEvent('SetVariationServer')
end)

function OpenMenucreatehead(menu)
	createhead.lastmenu = createhead.currentmenu
	if menu == "visagemenuinteraction" then
		createhead.lastmenu = "visagemenu"
	elseif menu == "visagemenuvehicle"  then
		createhead.lastmenu = "visagemenu"
	elseif menu == 'race_create_objects' then
		createhead.lastmenu = "visagemenu"
	elseif menu == "race_create_objects_spawn" then
		createhead.lastmenu = "race_create_objects"
	end
	createhead.menu.from = 1
	createhead.menu.to = 10
	createhead.selectedbutton = 0
	createhead.currentmenu = menu	
end

function Backcreatehead()
	if backlock then
		return
	end
	backlock = true
	if createhead.currentmenu == "visagemenu" then
		-- CloseCreatorcreatehead()
	elseif createhead.currentmenu == "citoyen1" or createhead.currentmenu == "citoyen2" or createhead.currentmenu == "citoyen3" or createhead.currentmenu == "citoyen4" or createhead.currentmenu == "citoyen5" or createhead.currentmenu == "vehicle1" or createhead.currentmenu == "vehicle2" then
		OpenMenucreatehead(createhead.lastmenu)
	else
		OpenMenucreatehead(createhead.lastmenu)
	end
end

function stringstartscreatehead(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 local superet = {
	opened = false,
	title = "Superette",
	currentmenu = "main",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.9,
		y = 0.22,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main"] = { 
			title = "CATEGORIES", 
			name = "main",
			buttons = { 
				{name = "Sandwich", description = "", costs = 20},
				{name = "Bouteille d'eau", description = "", costs = 20},
				{name = "Bouteille de Vodka", description = "", costs = 90},
				{name = "GPS", description = "", costs = 260},
				{name = "TÃ©lÃ©phone", description = "", costs = 85},
				-- {name = "Bandage", description = "", costs = 120},
				-- {name = "Repair Kit", description = "", costs = 5000},
				{name = "----------------", description = ""},
				{name = "Braquer la superette", description = ""},
			}
		},
	}
}

local superet_locations = {
[1] = {magsuper = {-1222.874,-907.1458,12.32636}},
[2] = {magsuper = {-47.30128,-1756.594,29.42102}},
[3] = {magsuper = {1135.639,-982.1616,46.41581}},
[4] = {magsuper = {-707.4099,-912.6725,19.21559}},
[5] = {magsuper = {374.1449,327.4888,103.5664}},
[6] = {magsuper = {1163.313,-322.3746,69.20515}},
[7] = {magsuper = {-1486.936,-379.3845,40.16339}},
}

local superet_blips ={}
local inrangeofsuperet = false
local currentlocation = nil

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerinrangeofsuperet()
return inrangeofsuperet
end

possuperx = 0
possupery = 0
possuperz = 0
braquagereussi = false

RegisterNetEvent('debriefbraquoPolice')
AddEventHandler('debriefbraquoPolice', function(id)
    
	if id == 1 then
	   braquagereussi = true
	end
end)

function ShowsuperetBlips(bool)
	if bool and #superet_blips == 0 then
		for station,pos in pairs(superet_locations) do
			local loc = pos
			pos = pos.magsuper
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,52)
			SetBlipColour(blip, 18)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Superette')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(superet_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #superet_blips > 0 do
				Citizen.Wait(0)
				local inrange2 = false
				for i,b in ipairs(superet_blips) do
					if GetDistanceBetweenCoords(b.pos.magsuper[1],b.pos.magsuper[2],b.pos.magsuper[3],GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(0,b.pos.magsuper[1],b.pos.magsuper[2],b.pos.magsuper[3],0,0,0,0,0,0,2.001,2.0001,0.5001,255,219,41,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.magsuper[1],b.pos.magsuper[2],b.pos.magsuper[3],GetEntityCoords(LocalPed()),true) < 4 then
						Show("Appuyez sur ~INPUT_CONTEXT~ pour acheter un ~b~article.")
						possuperx = b.pos.magsuper[1]
						possupery = b.pos.magsuper[2]
						possuperz = b.pos.magsuper[3]
						inrange2 = true
						end
					end
				end
				inrangeofsuperet = inrange2
			end
		end)
	elseif bool == false and #superet_blips > 0 then
		for i,b in ipairs(superet_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		superet_blips = {}
	end
end


function drawMenuButton(button,x,y,selected)
	local menu = superet.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = superet.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,selected)
	local menu = superet.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitle(txt,x,y)
local menu = superet.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function Notifysuperet(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if not inrangeofsuperet then
			superet.opened = false
			superet.menu.from = 1
			superet.menu.to = 10
		end
		if IsControlJustPressed(1,38) and IsPlayerinrangeofsuperet() then
			if (clientjobID == 10) then
			    if braquagereussi == true then
				    DrawMissionTextBraquageSuperet("~h~~b~Ginette~w~ : Monsieur l'agent ! Un voleur viens de me piller ma caisse !", 10000)
				    braquagereussi = false
				else
				    -- DrawMissionTextBraquageSuperet("~h~~b~Ginette~w~ : Bonjour monsieur l'agent, tout va bien merci.", 10000)
				    if superet.opened == false then
					superet.currentmenu = "main"
					superet.opened = true
					superet.selectedbutton = 0
					end
				end			
			else
				if superet.opened == false then
				superet.currentmenu = "main"
           		superet.opened = true
	        	superet.selectedbutton = 0
				end
			end
		end
		if superet.opened then
			local ped = LocalPed()
			local menu = superet.menu[superet.currentmenu]
			drawTxt(superet.title,1,1,superet.menu.x,superet.menu.y,1.0, 255,255,255,255)
			drawMenuTitle(menu.title, superet.menu.x,superet.menu.y + 0.08)
			drawTxt(superet.selectedbutton.."/"..tablelength(menu.buttons),0,0,superet.menu.x + superet.menu.width/2 - 0.0385,superet.menu.y + 0.067,0.4, 255,255,255,255)
			local y = superet.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= superet.menu.from and i <= superet.menu.to then
					
					if i == superet.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,superet.menu.x,y,selected)
					if button.costs ~= nil then
						if superet.currentmenu == "compacts" then
							
						else
						drawMenuRight(button.costs.."$",superet.menu.x,y,selected)
						end
					end
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedsuperet(button)
					end
				end
			end	
		end
		if superet.opened then
			if IsControlJustPressed(1,202) then
				Backsuperet()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if superet.selectedbutton > 1 then
					superet.selectedbutton = superet.selectedbutton -1
					if buttoncount > 10 and superet.selectedbutton < superet.menu.from then
						superet.menu.from = superet.menu.from -1
						superet.menu.to = superet.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if superet.selectedbutton < buttoncount then
					superet.selectedbutton = superet.selectedbutton +1
					if buttoncount > 10 and superet.selectedbutton > superet.menu.to then
						superet.menu.to = superet.menu.to + 1
						superet.menu.from = superet.menu.from + 1
					end
				end	
			end
		end
	end
end)

function ButtonSelectedsuperet(button)
	local ped = GetPlayerPed(-1)
	local this = superet.currentmenu
	local btn = button.name
	if this == "main" then
		if btn == "Sandwich" then
			TriggerServerEvent('CheckSandwich',button.costs)
			ShowNotificationMain("~h~Vous avez achetÃ© un ~b~Sandwich~w~.")
		elseif btn == "Bouteille d'eau" then
			TriggerServerEvent('CheckEau',button.costs)
			ShowNotificationMain("~h~Vous avez achetÃ© une ~b~Bouteille d'eau~w~.")
		elseif btn == "Bouteille de Vodka" then
			TriggerServerEvent('CheckVodka',button.costs)
			ShowNotificationMain("~h~Vous avez achetÃ© une ~b~Bouteille de vodka~w~.")
		elseif btn == "TÃ©lÃ©phone" then
			TriggerServerEvent('CheckTel',button.costs)
			ShowNotificationMain("~h~Vous avez achetÃ© une ~b~TÃ©lÃ©phone~w~.")
		elseif btn == "GPS" then
			TriggerServerEvent('CheckGPS',button.costs)
			ShowNotificationMain("~h~Vous avez achetÃ© un ~b~GPS~w~.")
						
		elseif btn == "Braquer la superette" then
			TriggerServerEvent('CheckbraquageSuperett1', possuperx, possupery, possuperz)
			superet.opened = false
			superet.menu.from = 1
			superet.menu.to = 10
		end
	end
end

RegisterNetEvent('FinishSuperette')
AddEventHandler('FinishSuperette', function()
	superet.opened = false
	superet.menu.from = 1
	superet.menu.to = 10
end)

function OpenMenusuperet(menu)
	superet.lastmenu = superet.currentmenu
	if menu == "retrait1" then
		superet.lastmenu = "main"
	elseif menu == "depostit1"  then
		superet.lastmenu = "main"
	elseif menu == 'race_create_objects' then
		superet.lastmenu = "main"
	elseif menu == "race_create_objects_spawn" then
		superet.lastmenu = "race_create_objects"
	end
	superet.menu.from = 1
	superet.menu.to = 10
	superet.selectedbutton = 0
	superet.currentmenu = menu	
end

function Backsuperet()
	if backlock then
		return
	end
	backlock = true
	if superet.currentmenu == "main" then
		superet.opened = false
		superet.menu.from = 1
		superet.menu.to = 10
	elseif superet.currentmenu == "retrait1" or superet.currentmenu == "depostit1" then
		OpenMenusuperet(superet.lastmenu)
	else
		OpenMenusuperet(superet.lastmenu)
	end
end

function stringstartssuperet(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowsuperetBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             -- CONFIG --

-- AFK Kick Time Limit (in seconds)
secondsUntilKick = 600

-- Warn players if 3/4 of the Time Limit ran up
kickWarning = true

-- CODE --

function ShowNotificationAfk(text)
	SetNotificationTextEntry("STRING")
	AddTextComponentString(text)
	DrawNotification(false, false)
end


Citizen.CreateThread(function()
	while true do
		Wait(1000)

		playerPed = GetPlayerPed(-1)
		if playerPed then
			currentPos = GetEntityCoords(playerPed, true)

			if currentPos == prevPos then
			    if handCuffed == false then
				    if IsEntityDead(GetPlayerPed(-1)) then
					else
				    	if time > 0 then
				    		if kickWarning and time == math.ceil(secondsUntilKick / 4) then
					    		-- TriggerEvent("chatMessage", "WARNING", {255, 0, 0}, "^1You'll be kicked in " .. time .. " seconds for being AFK!")
					    	    ShowNotificationAfk("~h~Vous allez Ãªtre kick dans ~b~" .. time .. " ~w~secondes pour AFK.")
					   		end

					   		time = time - 1
				    	else
				    		TriggerServerEvent("kickForBeingAnAFKDouchebag")
				    	end
					end
				end
			else
				time = secondsUntilKick
			end

			prevPos = currentPos
		end
	end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         local recelvehi = {
	opened = false,
	title = "Jhon",
	currentmenu = "main",
	lastmenu = nil,
	currentpos = nil,
	srecelvehiedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.9,
		y = 0.22,
		width = 0.2,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		scale = 0.4,
		font = 0,
		["main"] = { 
			title = "Recelle de vehicule", 
			name = "main",
			buttons = { 
				{name = "Revendre ce vÃ©hicule", description = ""},	
				-- {name = "Changer la plaque", description = ""},				
			}
		},
	}
}

local recelvehi_locations = {
[1] = {recel = {-442.1982,-2178.609,10.32102}},
}

local recelvehi_blips ={}
local inrangeofrecelvehi = false
local currentlocation = nil

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerinrangeofrecelvehi()
return inrangeofrecelvehi
end

function ShowrecelvehiBlips(bool)
	if bool and #recelvehi_blips == 0 then
		for station,pos in pairs(recelvehi_locations) do
			local loc = pos
			pos = pos.recel
			-- local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			-- SetBlipSprite(blip,419)
			-- SetBlipColour(blip, 2)
			-- BeginTextCommandSetBlipName("STRING")
			-- AddTextComponentString('Bureau de vote')
			-- EndTextCommandSetBlipName(blip)
			-- SetBlipAsShortRange(blip,true)
			-- SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(recelvehi_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #recelvehi_blips > 0 do
				Citizen.Wait(0)
				local inrange2 = false
				for i,b in ipairs(recelvehi_blips) do
					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0)  == false and  GetDistanceBetweenCoords(b.pos.recel[1],b.pos.recel[2],b.pos.recel[3],GetEntityCoords(LocalPed()),true) > 0 then
						-- DrawMarker(0,b.pos.recel[1],b.pos.recel[2],b.pos.recel[3],0,0,0,0,0,0,2.001,2.0001,0.5001,180,33,185,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.recel[1],b.pos.recel[2],b.pos.recel[3],GetEntityCoords(LocalPed()),true) < 5 then
						Show("Appuyez sur ~INPUT_CONTEXT~ pour parler Ã  ~b~John.")
						inrange2 = true
						end
					end
				end
				inrangeofrecelvehi = inrange2
			end
		end)
	elseif bool == false and #recelvehi_blips > 0 then
		for i,b in ipairs(recelvehi_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		recelvehi_blips = {}
	end
end

function drawMenuButton(button,x,y,srecelvehied)
	local menu = recelvehi.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if srecelvehied then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if srecelvehied then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuInfo(text)
	local menu = recelvehi.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(0.45, 0.45)
	SetTextColour(255, 255, 255, 255)
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawRect(0.675, 0.95,0.65,0.050,0,0,0,150)
	DrawText(0.365, 0.934)	
end

function drawMenuRight(txt,x,y,srecelvehied)
	local menu = recelvehi.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	SetTextRightJustify(1)
	if srecelvehied then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawText(x + menu.width/2 - 0.03, y - menu.height/2 + 0.0028)	
end

function drawMenuTitleVote(txt,x,y)
local menu = recelvehi.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function Notifyrecelvehi(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

local backlock = false
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if not inrangeofrecelvehi then
			recelvehi.opened = false
			recelvehi.menu.from = 1
			recelvehi.menu.to = 10
		end
		if IsPedInAnyVehicle(LocalPed(), true) == false and IsControlJustPressed(1,38) and IsPlayerinrangeofrecelvehi() then
			recelvehi.currentmenu = "main"
            recelvehi.opened = true
	        recelvehi.srecelvehiedbutton = 1
		end
		if recelvehi.opened then
			local ped = LocalPed()
			local menu = recelvehi.menu[recelvehi.currentmenu]
			drawTxt(recelvehi.title,1,1,recelvehi.menu.x,recelvehi.menu.y,1.0, 255,255,255,255)
			drawMenuTitleVote(menu.title, recelvehi.menu.x,recelvehi.menu.y + 0.08)
			drawTxt(recelvehi.srecelvehiedbutton.."/"..tablelength(menu.buttons),0,0,recelvehi.menu.x + recelvehi.menu.width/2 - 0.0385,recelvehi.menu.y + 0.067,0.4, 255,255,255,255)
			local y = recelvehi.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local srecelvehied = false
			
			for i,button in pairs(menu.buttons) do
				if i >= recelvehi.menu.from and i <= recelvehi.menu.to then
					
					if i == recelvehi.srecelvehiedbutton then
						srecelvehied = true
					else
						srecelvehied = false
					end
					drawMenuButton(button,recelvehi.menu.x,y,srecelvehied)
					y = y + 0.04
					if srecelvehied and IsControlJustPressed(1,201) then
						ButtonSrecelvehiedrecelvehi(button)
					end
				end
			end	
		end
		if recelvehi.opened then
			if IsControlJustPressed(1,202) then
				Backrecelvehi()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if recelvehi.srecelvehiedbutton > 1 then
					recelvehi.srecelvehiedbutton = recelvehi.srecelvehiedbutton -1
					if buttoncount > 10 and recelvehi.srecelvehiedbutton < recelvehi.menu.from then
						recelvehi.menu.from = recelvehi.menu.from -1
						recelvehi.menu.to = recelvehi.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if recelvehi.srecelvehiedbutton < buttoncount then
					recelvehi.srecelvehiedbutton = recelvehi.srecelvehiedbutton +1
					if buttoncount > 10 and recelvehi.srecelvehiedbutton > recelvehi.menu.to then
						recelvehi.menu.to = recelvehi.menu.to + 1
						recelvehi.menu.from = recelvehi.menu.from + 1
					end
				end	
			end
		end
	end
end)

function ButtonSrecelvehiedrecelvehi(button)
	local ped = GetPlayerPed(-1)
	local this = recelvehi.currentmenu
	local btn = button.name
	if this == "main" then
		if btn == "Revendre ce vÃ©hicule" then
			local posplayer = GetEntityCoords(GetPlayerPed(-1))
			local xposplayer = posplayer['x']
			local yposplayer = posplayer['y']
			local zposplayer = posplayer['z']
			targetCarRecel = GetClosestVehicle(posplayer['x'], posplayer['y'], posplayer['z'], 10.0,0,70)
			local plateCar = GetVehicleNumberPlateText(targetCarRecel)
			TriggerServerEvent('RecelVehicule',plateCar)
			
			recelvehi.opened = false
			recelvehi.menu.from = 1
			recelvehi.menu.to = 10
		elseif btn == "Changer la plaque" then
			recelvehi.opened = false
			recelvehi.menu.from = 1
			recelvehi.menu.to = 10
		end
	end
end

RegisterNetEvent("ClearCarRecel")
AddEventHandler("ClearCarRecel", function()
	deleteCar(targetCarRecel)
end)

RegisterNetEvent("RecelFinish")
AddEventHandler("RecelFinish", function(montant)
    ShowNotificationMain("~h~Vous avez vendu le vÃ©hicule pour ~r~"..montant.."~w~ $.")
end)

function OpenMenurecelvehi(menu)
	recelvehi.lastmenu = recelvehi.currentmenu
	if menu == "retrait1" then
		recelvehi.lastmenu = "main"
	elseif menu == "depostit1"  then
		recelvehi.lastmenu = "main"
	elseif menu == 'race_create_objects' then
		recelvehi.lastmenu = "main"
	elseif menu == "race_create_objects_spawn" then
		recelvehi.lastmenu = "race_create_objects"
	end
	recelvehi.menu.from = 1
	recelvehi.menu.to = 10
	recelvehi.srecelvehiedbutton = 0
	recelvehi.currentmenu = menu	
end

function Backrecelvehi()
	if backlock then
		return
	end
	backlock = true
	if recelvehi.currentmenu == "main" then
		recelvehi.opened = false
		recelvehi.menu.from = 1
		recelvehi.menu.to = 10
	else
	    recelvehi.opened = false
		recelvehi.menu.from = 1
		recelvehi.menu.to = 10
	end
end

function stringstartsrecelvehi(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end

local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowrecelvehiBlips(true)
	firstspawn = 1
end
end)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        local garage = {
	opened = false,
	title = "Garage",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}
local garage_locations = {
[1] = {entering = {-1000.801,-2607.725,13.12767}},
[2] = {entering = {-357.9683,-227.8372,36.28223}},
[3] = {entering = {291.0583,-338.9058,43.91983}},
[4] = {entering = {422.3618,-1287.206,29.25669}},
[5] = {entering = {-1140.779,-1258.508,6.001478}},
[6] = {entering = {2018.671,4975.711,40.24067}},
[7] = {entering = {-357.1287,6069.743,30.49842}},
}

function Show(text)
	SetTextComponentFormat("STRING")
	AddTextComponentString(text)
	DisplayHelpTextFromStringLabel(0, 0, 0, -1)
end			

local garage_blips ={}
local inrangeofgarage = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfgarage()
return inrangeofgarage
end

function ShowgarageBlips(bool)
	if bool and #garage_blips == 0 then
		for station,pos in pairs(garage_locations) do
			local loc = pos
			pos = pos.entering
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,50)
			SetBlipColour(blip, 30)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Garage personnel')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(garage_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #garage_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(garage_blips) do
					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0) == false and garage.opened == false and  GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(0,b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],0,0,0,0,0,0,4.001,4.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) < 4 and IsPedInAnyVehicle(LocalPed(), true) == false then
							Show("Appuyez sur ~INPUT_CONTEXT~ pour ouvrir votre garage ~b~vÃ©hicule.")
							inrange = true
						end
					end
				end
				inrangeofgarage = inrange
			end
		end)
	elseif bool == false and #garage_blips > 0 then
		for i,b in ipairs(garage_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		garage_blips = {}
	end
end

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofgarage then
            TriggerServerEvent('MyGarage',"car")
        end
		if not inrangeofgarage then
			CloseCreatorgaragemenu()
		end
    end
end)



local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowgarageBlips(true)
	firstspawn = 1
end
end)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     local garageboat = {
	opened = false,
	title = "Garage Boat",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}
local garageboat_locations = {
{entering = {-858.5917,-1332.976,0.595219}, inside = {-858.5917,-1332.976,0.595219}, outside = {-858.5917,-1332.976,0.595219}},
}

local garageboat_blips ={}
local inrangeofgarageboat = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfgarageboat()
return inrangeofgarageboat
end

function ShowgarageboatBlips(bool)
	if bool and #garageboat_blips == 0 then
		for station,pos in pairs(garageboat_locations) do
			local loc = pos
			pos = pos.entering
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(garageboat_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #garageboat_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(garageboat_blips) do
					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0) == false and garageboat.opened == false and  GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) < 4 then
							-- drawTxt('Appuyez sur ~g~ENTRER~s~ pour sortir votre Bateau',0,1,0.5,0.8,0.6,255,255,255,255)
							--Show("Appuyez sur ~INPUT_CONTEXT~ pour sortir votre ~b~Bateau.")
							Show("Ce magasin est fermÃ© de 00h01 Ã  23h59.")
						   -- inrange = true
						end
					end
				end
				inrangeofgarageboat = inrange
			end
		end)
	elseif bool == false and #garageboat_blips > 0 then
		for i,b in ipairs(garageboat_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		garageboat_blips = {}
	end
end

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofgarageboat then
            TriggerServerEvent('MyGarageBoat',"boat")
        end
    end
end)



local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowgarageboatBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   local garagehelico = {
	opened = false,
	title = "Garage Helico",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}
local garagehelico_locations = {
{entering = {-725.9915,-1444.327,4.400525}, inside = {-725.9915,-1444.327,4.400525}, outside = {-725.9915,-1444.327,4.400525}},
}

local garagehelico_blips ={}
local inrangeofgaragehelico = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfgaragehelico()
return inrangeofgaragehelico
end

function ShowgaragehelicoBlips(bool)
	if bool and #garagehelico_blips == 0 then
		for station,pos in pairs(garagehelico_locations) do
			local loc = pos
			pos = pos.entering
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(garagehelico_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #garagehelico_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(garagehelico_blips) do
					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0) == false and garagehelico.opened == false and  GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) < 4 then
							-- drawTxt('Appuyez sur ~g~ENTRER~s~ pour sortir votre HÃ©licoptÃ¨re',0,1,0.5,0.8,0.6,255,255,255,255)
							--Show("Appuyez sur ~INPUT_CONTEXT~ pour ouvrir votre garage d'~b~HÃ©licoptÃ¨re.")
							Show("Ce magasin est fermÃ© de 00h01 Ã  23h59.")
						--inrange = true
						end
					end
				end
				inrangeofgaragehelico = inrange
			end
		end)
	elseif bool == false and #garagehelico_blips > 0 then
		for i,b in ipairs(garagehelico_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		garagehelico_blips = {}
	end
end

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofgaragehelico then
            TriggerServerEvent('MyGarageHeli',"heli")
        end
    end
end)



local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowgaragehelicoBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        local IndicatorL = false
local IndicatorR = false

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
		if IsControlJustPressed(1, 174) then -- left
			if IsPedInAnyVehicle(GetPlayerPed(-1), true) then
				TriggerEvent('Indicator', 'left')
			end
		end

		if IsControlJustPressed(1, 175) then --right
			if IsPedInAnyVehicle(GetPlayerPed(-1), true) then
				TriggerEvent('Indicator', 'right')
			end
		end
    end
end)

AddEventHandler('Indicator', function(dir)
	Citizen.CreateThread(function()
		local Ped = GetPlayerPed(-1)
		if IsPedInAnyVehicle(Ped, true) then
			local Veh = GetVehiclePedIsIn(Ped, false)
			if GetPedInVehicleSeat(Veh, -1) == Ped then
				if dir == 'left' then
					IndicatorL = not IndicatorL
					TriggerServerEvent('IndicatorL', IndicatorL)
				elseif dir == 'right' then
					IndicatorR = not IndicatorR
					TriggerServerEvent('IndicatorR', IndicatorR)
				end
			end
		end
	end)
end)

RegisterNetEvent('updateIndicators')
AddEventHandler('updateIndicators', function(PID, dir, Toggle)
	--if isPlayerOnline(PID) then
		local Veh = GetVehiclePedIsIn(GetPlayerPed(GetPlayerFromServerId(PID)), false)
		if dir == 'left' then
			SetVehicleIndicatorLights(Veh, 1, Toggle)
		elseif dir == 'right' then
			SetVehicleIndicatorLights(Veh, 0, Toggle)
		end
	--end
end)

-- POLICE SIREN

Citizen.CreateThread(function()
while true do
    Citizen.Wait(0)
	if IsControlJustPressed(1, 173) then
		if IsPedInAnyVehicle(GetPlayerPed(-1), true) then
			TriggerEvent('NoSiren')
		end
	end
end
end)

-- Updates sirens every 2 seconds
Citizen.CreateThread(function()
while true do
    Citizen.Wait(2000)
	local Ped = GetPlayerPed(-1)
	if IsPedInAnyVehicle(Ped, true) then
		local Veh = GetVehiclePedIsIn(Ped, false)

			local PF = GetVehiclePaintFade(Veh)
			local Toggle = false
			if PF < 0.04 then
				Toggle = true
			end

			TriggerServerEvent('SilentSiren', Toggle)

	end
end
end)

-- Initial siren enable/disable. Sends to server
AddEventHandler('NoSiren', function()
Citizen.CreateThread(function()
	local Ped = GetPlayerPed(-1)
	if IsPedInAnyVehicle(Ped, true) then
		local Veh = GetVehiclePedIsIn(Ped, false)

		if GetPedInVehicleSeat(Veh, -1) == Ped then

			local OldPF = GetVehiclePaintFade(Veh)
			local Toggle = false
			if OldPF < 0.04 then
				Toggle = true
			end

			local PF = 0.1
			if not Toggle then
				PF = 0.0
			end

			SetVehiclePaintFade(Veh, PF)
			TriggerServerEvent('SilentSiren', not Toggle)
		end
	end

end)
end)

-- Called by server to disable siren on any target vehicle
RegisterNetEvent('updateSirens')
AddEventHandler('updateSirens', function(PID, Toggle)
local Veh = GetVehiclePedIsIn(GetPlayerPed(GetPlayerFromServerId(PID)), false)
DisableVehicleImpactExplosionActivation(Veh, Toggle)
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       function ShowNotificationLockVeh(text)
	SetNotificationTextEntry("STRING")
	AddTextComponentString(text)
	DrawNotification(false, false)
end

Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if IsControlJustPressed(1, 303) then --Press u
			local posplayer = GetEntityCoords(GetPlayerPed(-1))
			local xposplayer = posplayer['x']
			local yposplayer = posplayer['y']
			local zposplayer = posplayer['z']
			if IsPedSittingInAnyVehicle(GetPlayerPed(-1)) then
				CarTargetForLock = GetVehiclePedIsIn(GetPlayerPed(-1),false)
				plateCarLock = GetVehicleNumberPlateText(CarTargetForLock)
			else
			    if (tonumber(clientjobID) ~= 10) and (tonumber(clientjobID) ~= 19) and (tonumber(clientjobID) ~= 37) then
					CarTargetForLock = GetClosestVehicle(posplayer['x'], posplayer['y'], posplayer['z'], 10.0,0,70)
					plateCarLock = GetVehicleNumberPlateText(CarTargetForLock)
				else
				    CarTargetForLock = GetPlayersLastVehicle(GetPlayerPed(-1))
				end
			end
			
			if (tonumber(clientjobID) ~= 10) and (tonumber(clientjobID) ~= 19) and (tonumber(clientjobID) ~= 37) then
				TriggerServerEvent('CheckProprioForLock',plateCarLock)
			else
				lockStatus = GetVehicleDoorLockStatus(CarTargetForLock)
				
				if lockStatus == 0 or lockStatus == 1 and CarTargetForLock ~= nil then
				SetVehicleDoorsLocked(CarTargetForLock, 2)
				SetVehicleDoorsLockedForPlayer(CarTargetForLock, PlayerId(), false)				
				ShowNotificationLockVeh('Votre vÃ©hicule est dÃ©sormais ~r~FermÃ©')
				else
				SetVehicleDoorsLocked(CarTargetForLock, 1)
				ShowNotificationLockVeh('Votre vÃ©hicule est dÃ©sormais ~g~Ouvert')
				end	
			end

		end
	end
end)

RegisterNetEvent("isProprioLock")
AddEventHandler('isProprioLock', function()

		lockStatus = GetVehicleDoorLockStatus(CarTargetForLock)
		if lockStatus == 0 or lockStatus == 1 then
			SetVehicleDoorsLocked(CarTargetForLock, 2)
			SetVehicleDoorsLockedForPlayer(CarTargetForLock, PlayerId(), false)
			ShowNotificationLockVeh('Votre vÃ©hicule est dÃ©sormais ~r~FermÃ©')
		else
			SetVehicleDoorsLocked(CarTargetForLock, 1)
			ShowNotificationLockVeh('Votre vÃ©hicule est dÃ©sormais ~g~Ouvert')
	 	end
end)

RegisterNetEvent("isNotProprioLock")
AddEventHandler('isNotProprioLock', function()
	ShowNotificationLockVeh('Ce vÃ©hicule ne vous appartient pas.')
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  local permis = {
	opened = false,
	title = "permis",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}
local permis_locations = {
{entering = {249.7434,-1512.085,28.34321}, inside = {38.34729,-969.293,29.09835}, outside = {249.7434,-1512.085,28.34321}},
}

local permis_blips ={}
local inrangeofpermis = false
local currentlocation = nil

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfpermis()
return inrangeofpermis
end

function ShowpermisBlips(bool)
	if bool and #permis_blips == 0 then
		for station,pos in pairs(permis_locations) do
			local loc = pos
			pos = pos.entering
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,430)
			SetBlipColour(blip, 5)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Auto Ã©cole')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(permis_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #permis_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				for i,b in ipairs(permis_blips) do
					if IsPlayerWantedLevelGreater(GetPlayerIndex(),0) == false and permis.opened == false and  GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) > 0 then
						DrawMarker(1,b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
						currentlocation = b
						if GetDistanceBetweenCoords(b.pos.entering[1],b.pos.entering[2],b.pos.entering[3],GetEntityCoords(LocalPed()),true) < 4 and IsPedInAnyVehicle(LocalPed(), true) == false then
							ShowInfoComico("Appuyez sur ~INPUT_CONTEXT~ pour passer votre ~b~Permis de conduire.", 0)
							inrange = true
						end
					end
				end
				inrangeofpermis = inrange
			end
		end)
	elseif bool == false and #permis_blips > 0 then
		for i,b in ipairs(permis_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		permis_blips = {}
	end
end

function DrawMissionText2(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

onPermis = 0

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if IsControlJustPressed(1,38) and inrangeofpermis then
			TriggerServerEvent('CheckPermis')	
	    end
    end
end)

RegisterNetEvent('FinishCheckPermis')
AddEventHandler('FinishCheckPermis', function()

	blippermis = AddBlipForCoord(344.5361,3418.954,35.40971)
	N_0x80ead8e2e1d5d52e(blippermis)
	SetBlipRoute(blippermis, 1)
    onPermis = 1
	
end)

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
        if onPermis == 1 then
		DrawMissionText2("~b~Conduit prudemment en respectant le code de la route.", 5000)
		end
		
        local veh = GetVehiclePedIsUsing(GetPlayerPed(-1))
		if IsVehicleDamaged(veh) and onPermis == 1 then
			DrawMissionText2("~r~Vous avez endommagÃ© le vÃ©hicule, fin de la conduite!", 5000)
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(blippermis))
			blippermis = nil
			onPermis = 0
		end
		
		if onPermis == 1 then
		if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), 344.5361,3418.954,35.40971, true) > 4.0001 then
		   DrawMarker(1,344.5361,3418.954,35.40971,0,0,0,0,0,0,2.001,2.0001,0.5001,0,155,255,200,0,0,0,0)
		else
		    if blippermis ~= nil and DoesBlipExist(blippermis) then
			Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(blippermis))
		    end
		blippermis = nil
	    DrawMissionText2("~g~FÃ©licitations tu as obtenu ton ~b~permis de conduire~g~ !", 5000)
		TriggerServerEvent('ValidePermis')
		onPermis = 0
		end
		end
    end
end)


local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowpermisBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
local garagemenu = {
	opened = false,
	title = "Garage",
	currentmenu = "main",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.1,
		y = 0.32,
		width = 0.2,
		height = 0.04,
		buttons = 9,
		from = 1,
		to = 9,
		scale = 0.4,
		font = 0,
		["main"] = { 
			title = "", 
			name = "main",
			buttons = {
				{name = "Garage", description = ''},
				{name = "Ranger mon vÃ©hicule", description = ''},
			}
		},
		
		["maingarage"] = { 
			title = "", 
			name = "maingarage",
			buttons = { 
			}
		},
		["vehiclemenu"] = { 
			title = "", 
			name = "vehiclemenu",
			buttons = {				
			}
		},
	}
}


RegisterNetEvent('MyGarageClient')
AddEventHandler('MyGarageClient', function(playergarage,vehtype)
	typeveh = vehtype
	local insrt = table.insert
	garagemenu.menu["maingarage"].buttons = {}
	local counttable = tablelength(playergarage)
	local countbutton = 0
	i = 1
	while countbutton ~= counttable do
		veh = playergarage[i]['vehicle_id']
		if veh ~= null then
			local finaltext = playergarage[i]['vehicle_name']
			local refname = playergarage[i]['vehicle_id']
			local plate = playergarage[i]['plate']
			local sellprice = playergarage[i]['sellprice']
			local upgrade = playergarage[i]['custom']
			insrt(garagemenu.menu["maingarage"].buttons, {name = finaltext, description = "", ref = refname, upgrade = upgrade, plate = plate, sellprice = sellprice})
			countbutton = countbutton + 1
		end
		i = i + 1
	end
	garagemenu.currentmenu = "main"
	garagemenu.opened = true
	garagemenu.selectedbutton = 0
end)

local function LocalPed()
return GetPlayerPed(-1)
end

function CloseCreatorgaragemenu()
	Citizen.CreateThread(function()
		garagemenu.opened = false
		garagemenu.menu.from = 1
		garagemenu.menu.to = 10
		inmenugarage = 0
	end)
end



function drawMenuButton(button,x,y,selected)
	local menu = garagemenu.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuTitleGarage(txt,x,y)
local menu = garagemenu.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,93,166,202,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function Notifygaragemenu(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

local backlock = false
inputvehname = 0
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if garagemenu.opened then
			local ped = LocalPed()
			local menu = garagemenu.menu[garagemenu.currentmenu]
			drawTxt(garagemenu.title,1,1,garagemenu.menu.x,garagemenu.menu.y,1.0, 255,255,255,255)
			drawMenuTitleInv(menu.title, garagemenu.menu.x,garagemenu.menu.y + 0.08)
			drawTxt(garagemenu.selectedbutton.."/"..tablelength(menu.buttons),0,0,garagemenu.menu.x + garagemenu.menu.width/2 - 0.0385,garagemenu.menu.y + 0.067,0.4, 255,255,255,255)
			local y = garagemenu.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= garagemenu.menu.from and i <= garagemenu.menu.to then
					
					if i == garagemenu.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,garagemenu.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedgaragemenu(button)
					end
				end
			end	
		end
		if garagemenu.opened then
			if IsControlJustPressed(1,202) then
				Backgaragemenu()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if garagemenu.selectedbutton > 1 then
					garagemenu.selectedbutton = garagemenu.selectedbutton -1
					if buttoncount > 10 and garagemenu.selectedbutton < garagemenu.menu.from then
						garagemenu.menu.from = garagemenu.menu.from -1
						garagemenu.menu.to = garagemenu.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if garagemenu.selectedbutton < buttoncount then
					garagemenu.selectedbutton = garagemenu.selectedbutton +1
					if buttoncount > 10 and garagemenu.selectedbutton > garagemenu.menu.to then
						garagemenu.menu.to = garagemenu.menu.to + 1
						garagemenu.menu.from = garagemenu.menu.from + 1
					end
				end	
			end
		end
	end
end)

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if inputvehname == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputvehname = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputvehnameclient = GetOnscreenKeyboardResult()
					if string.len(inputvehnameclient) > 0 then
						NewName = inputvehnameclient
						inputvehname = 2
					else
						inputvehname = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputvehname = 0
			end
		end
		if inputvehname == 2 then
		   		TriggerServerEvent('RenameVehicle', NewName,plate)
				inputvehname = 0
		end
	end
end)


				
function ButtonSelectedgaragemenu(button)
	local ped = GetPlayerPed(-1)
	local this = garagemenu.currentmenu
	local btn = button.name
	if this == "main" then
		if btn == "Garage" then
			OpenMenugaragemenu('maingarage')
		elseif btn =="Ranger mon vÃ©hicule" then
			local posplayer = GetEntityCoords(GetPlayerPed(-1))
			local xposplayer = posplayer['x']
			local yposplayer = posplayer['y']
			local zposplayer = posplayer['z']
			targetCar = GetClosestVehicle(posplayer['x'], posplayer['y'], posplayer['z'], 10.0,0,70)
			local plateCar = GetVehicleNumberPlateText(targetCar)
			TriggerServerEvent('StockVehicle',plateCar)
			CloseCreatorgaragemenu()
		end
	elseif this == "maingarage" then
			refname = button.ref
			text = button.name
			plate = button.plate
			sellprice = button.sellprice
			upgrade = button.upgrade
			name = button.name
			garagemenu.menu["vehiclemenu"].title = text
			garagemenu.menu["vehiclemenu"].buttons = {}
			table.insert(garagemenu.menu["vehiclemenu"].buttons, {name = "Sortir", description = ""})
			table.insert(garagemenu.menu["vehiclemenu"].buttons, {name = "Renommer", description = ""})
			textvendre = "Vendre - "..sellprice.."$"
			if textvendre == "Vendre - 0$" then
			else
			table.insert(garagemenu.menu["vehiclemenu"].buttons, {name = textvendre, description = ""})
			end
			OpenMenugaragemenu('vehiclemenu')
	elseif this == "vehiclemenu" then
		if btn == "Sortir" then
			TriggerServerEvent('SpawnVehGarage',refname,plate,upgrade)
			CloseCreatorgaragemenu()
		elseif btn =="Renommer" then
			DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
			inputvehname = 1
			CloseCreatorgaragemenu()
		elseif btn == textvendre then
			TriggerServerEvent('SellVehicle',sellprice,name,plate)
			CloseCreatorgaragemenu()
		end
	end
end

function OpenMenugaragemenu(menu)
	garagemenu.lastmenu = garagemenu.currentmenu
	if menu == "vehiclemenu" then
		garagemenu.lastmenu = "maingarage"
	end
	garagemenu.menu.from = 1
	garagemenu.menu.to = 10
	garagemenu.selectedbutton = 0
	garagemenu.currentmenu = menu	
end

RegisterNetEvent("ClearCar")
AddEventHandler("ClearCar", function()
	deleteCar(targetCar)
    ShowNotificationMain("~h~Vous avez rangÃ© votre vÃ©hicule.")
	CloseCreatorgaragemenu()
end)


function Backgaragemenu()
	if backlock then
		return
	end
	backlock = true
	if garagemenu.currentmenu == "main" then
		CloseCreatorgaragemenu()
	end
	if garagemenu.currentmenu == "vehiclemenu" then
		CloseCreatorgaragemenu()
		TriggerServerEvent('MyGarage',typeveh)	
		inmenugarage = 1
	else
		OpenMenugaragemenu(garagemenu.lastmenu)
	end
end

function stringstartsgaragemenu(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end

RegisterNetEvent("GaragePRIVATE")
AddEventHandler('GaragePRIVATE', function(veh,plate,upgrade)

        local carid = GetHashKey(veh)
        local playerPed = GetPlayerPed(-1)
        if playerPed and playerPed ~= -1 then
            RequestModel(carid)
            while not HasModelLoaded(carid) do
                Citizen.Wait(0)
            end
            local playerCoords = GetEntityCoords(playerPed)
            playerCoords = playerCoords + vector3(0, 2, 0)
			
            local lastSpawnedVehiclePersoGarage = CreateVehicle(carid, playerCoords, 0.0, true, false)
			TaskWarpPedIntoVehicle(playerPed, lastSpawnedVehiclePersoGarage, -1)
			SetVehicleModKit(lastSpawnedVehiclePersoGarage, 0)
			SetVehicleNumberPlateText(lastSpawnedVehiclePersoGarage, plate)

			vehupgrade = json.decode(upgrade)
		-- Couleur VEH
		SetVehicleColours(lastSpawnedVehiclePersoGarage, vehupgrade["colors1"], vehupgrade["colors2"])
		SetVehicleExtraColours(lastSpawnedVehiclePersoGarage, vehupgrade["colorsextra1"], vehupgrade["colorsextra2"])
		-- Lumiere
		if vehupgrade["lightype"] ~= null then
		ToggleVehicleMod(lastSpawnedVehiclePersoGarage, 22, vehupgrade["lightype"])
		end

		if vehupgrade["neoncoloractif"] ~= null then
		SetVehicleNeonLightEnabled(lastSpawnedVehiclePersoGarage,0,vehupgrade["neoncoloractif"])
		SetVehicleNeonLightEnabled(lastSpawnedVehiclePersoGarage,1,vehupgrade["neoncoloractif"])
		SetVehicleNeonLightEnabled(lastSpawnedVehiclePersoGarage,2,vehupgrade["neoncoloractif"])
		SetVehicleNeonLightEnabled(lastSpawnedVehiclePersoGarage,3,vehupgrade["neoncoloractif"])
		end

		if vehupgrade["neoncolor1"] ~= null then
		SetVehicleNeonLightsColour(lastSpawnedVehiclePersoGarage,vehupgrade["neoncolor1"],vehupgrade["neoncolor2"],vehupgrade["neoncolor3"])
		end

		-- Chassis
		if vehupgrade["chassis"] ~= null then
		SetVehicleMod(lastSpawnedVehiclePersoGarage,5,vehupgrade["chassis"])
		end

		-- Blindage
		if vehupgrade["blindage"] ~= null then
		SetVehicleMod(lastSpawnedVehiclePersoGarage,16,vehupgrade["blindage"])
		end

		-- Freins
		if vehupgrade["freins"] ~= null then
		SetVehicleMod(lastSpawnedVehiclePersoGarage,12,vehupgrade["freins"])
		end

		-- Parechoc AV
		if vehupgrade["parechocav"] ~= null then
		SetVehicleMod(lastSpawnedVehiclePersoGarage,1,vehupgrade["parechocav"])
		end

		-- Parechoc AR
		if vehupgrade["parechocar"] ~= null then
		SetVehicleMod(lastSpawnedVehiclePersoGarage,2,vehupgrade["parechocar"])
		end

		-- Moteur
		if vehupgrade["moteur"] ~= null then
		SetVehicleMod(lastSpawnedVehiclePersoGarage,11,vehupgrade["moteur"])
		end

		-- Echappement
		if vehupgrade["echap"] ~= null then
		SetVehicleMod(lastSpawnedVehiclePersoGarage,4,vehupgrade["echap"])
		end

		-- Capot
		if vehupgrade["capot"] ~= null then
		SetVehicleMod(lastSpawnedVehiclePersoGarage,7,vehupgrade["capot"])
		end

		-- Klaxon
		if vehupgrade["klaxon"] ~= null then
		SetVehicleMod(lastSpawnedVehiclePersoGarage,14,vehupgrade["klaxon"])
		end

		-- Arceau
		if vehupgrade["arceau"] ~= null then
		SetVehicleMod(lastSpawnedVehiclePersoGarage,5,vehupgrade["arceau"])
		end

		-- Toit
		if vehupgrade["toit"] ~= null then
		SetVehicleMod(lastSpawnedVehiclePersoGarage,10,vehupgrade["toit"])
		end

		-- Bas de caisse
		if vehupgrade["bascaisse"] ~= null then
		SetVehicleMod(lastSpawnedVehiclePersoGarage,3,vehupgrade["bascaisse"])
		end
		-- Aileron
		if vehupgrade["aileron"] ~= null then
		SetVehicleMod(lastSpawnedVehiclePersoGarage,14,vehupgrade["aileron"])
		end
		-- Suspension
		if vehupgrade["suspension"] ~= null then
		SetVehicleMod(lastSpawnedVehiclePersoGarage,15,vehupgrade["suspension"])
		end
		-- Transmission
		if vehupgrade["transmission"] ~= null then
		SetVehicleMod(lastSpawnedVehiclePersoGarage,13,vehupgrade["transmission"])
		end
		-- Calandre
		if vehupgrade["calandre"] ~= null then
		SetVehicleMod(lastSpawnedVehiclePersoGarage,6,vehupgrade["calandre"])
		end
		-- Ailes
		if vehupgrade["ailes1"] ~= null then
		SetVehicleMod(lastSpawnedVehiclePersoGarage,8,vehupgrade["ailes1"])
		end
		if vehupgrade["ailes2"] ~= null then
		SetVehicleMod(lastSpawnedVehiclePersoGarage,9,vehupgrade["ailes2"])
		end

		-- Turbo
		if vehupgrade["turbo"] ~= null then
		ToggleVehicleMod(lastSpawnedVehiclePersoGarage, 18, vehupgrade["turbo"])
		end

		-- Type de roue
		if vehupgrade["typeroue"] ~= null then
		SetVehicleWheelType(lastSpawnedVehiclePersoGarage,vehupgrade["typeroue"])
		end

		-- Type de roue MOD
		if vehupgrade["typerouemod"] ~= null then
		SetVehicleMod(lastSpawnedVehiclePersoGarage,23,vehupgrade["typerouemod"])
		end

		-- Fenetre
		if vehupgrade["fenetre"] ~= null then
		SetVehicleWindowTint(lastSpawnedVehiclePersoGarage, vehupgrade["fenetre"])
		end
		-- Pneus custom
		if vehupgrade["jantecustom"] ~= null then
			if vehupgrade["typerouemod"] ~= null then
				SetVehicleMod(lastSpawnedVehiclePersoGarage,23,vehupgrade["typerouemod"],vehupgrade["jantecustom"])
			else
				SetVehicleMod(lastSpawnedVehiclePersoGarage,23,-1,vehupgrade["jantecustom"])
			end
		end

		-- Pneus vÃ©lo
		if vehupgrade["jantecustombike"] ~= null then
			if vehupgrade["typerouemod"] ~= null then
				SetVehicleMod(lastSpawnedVehiclePersoGarage,24,vehupgrade["typerouemod"],vehupgrade["jantecustombike"])
			else
				SetVehicleMod(lastSpawnedVehiclePersoGarage,24,-1,vehupgrade["jantecustombike"])
			end
		end
		-- Plate
		if vehupgrade["plate"] ~= null then
		SetVehicleNumberPlateTextIndex(lastSpawnedVehiclePersoGarage,vehupgrade["plate"])
		end
    end
end)

-- Notif

RegisterNetEvent("notproprio")
AddEventHandler("notproprio", function()
    ShowNotificationMain("~h~Vous n'avez pas de vÃ©hicule dans la zone.")
end)






                                                                                                                                                                                                                                                                                                                                                                                                                                            
local garagemenuboat = {
	opened = false,
	title = "Garage",
	currentmenu = "main",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.1,
		y = 0.32,
		width = 0.2,
		height = 0.04,
		buttons = 9,
		from = 1,
		to = 9,
		scale = 0.4,
		font = 0,
		["main"] = { 
			title = "", 
			name = "main",
			buttons = {
				{name = "Garage", description = ''},
				{name = "Ranger mon vÃ©hicule", description = ''},
			}
		},
		
		["maingarage"] = { 
			title = "", 
			name = "maingarage",
			buttons = { 
			}
		},
		["vehiclemenu"] = { 
			title = "", 
			name = "vehiclemenu",
			buttons = {				
			}
		},
	}
}


RegisterNetEvent('MyGarageClientBoat')
AddEventHandler('MyGarageClientBoat', function(playergarage,vehtype)
	typeveh = vehtype
	local insrt = table.insert
	garagemenuboat.menu["maingarage"].buttons = {}
	local counttable = tablelength(playergarage)
	local countbutton = 0
	i = 1
	while countbutton ~= counttable do
		veh = playergarage[i]['vehicle_id']
		if veh ~= null then
			local finaltext = playergarage[i]['vehicle_name']
			local refname = playergarage[i]['vehicle_id']
			local plate = playergarage[i]['plate']
			local sellprice = playergarage[i]['sellprice']
			local upgrade = playergarage[i]['custom']
			insrt(garagemenuboat.menu["maingarage"].buttons, {name = finaltext, description = "", ref = refname, upgrade = upgrade, plate = plate, sellprice = sellprice})
			countbutton = countbutton + 1
		end
		i = i + 1
	end
	garagemenuboat.currentmenu = "main"
	garagemenuboat.opened = true
	garagemenuboat.selectedbutton = 0
end)

local function LocalPed()
return GetPlayerPed(-1)
end

function CloseCreatorgaragemenuboat()
	Citizen.CreateThread(function()
		garagemenuboat.opened = false
		garagemenuboat.menu.from = 1
		garagemenuboat.menu.to = 10
		inmenugarage = 0
	end)
end



function drawMenuButton(button,x,y,selected)
	local menu = garagemenuboat.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuTitleGarage(txt,x,y)
local menu = garagemenuboat.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,93,166,202,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function Notifygaragemenuboat(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

local backlock = false
inputvehname = 0
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if garagemenuboat.opened then
			local ped = LocalPed()
			local menu = garagemenuboat.menu[garagemenuboat.currentmenu]
			drawTxt(garagemenuboat.title,1,1,garagemenuboat.menu.x,garagemenuboat.menu.y,1.0, 255,255,255,255)
			drawMenuTitleInv(menu.title, garagemenuboat.menu.x,garagemenuboat.menu.y + 0.08)
			drawTxt(garagemenuboat.selectedbutton.."/"..tablelength(menu.buttons),0,0,garagemenuboat.menu.x + garagemenuboat.menu.width/2 - 0.0385,garagemenuboat.menu.y + 0.067,0.4, 255,255,255,255)
			local y = garagemenuboat.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= garagemenuboat.menu.from and i <= garagemenuboat.menu.to then
					
					if i == garagemenuboat.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,garagemenuboat.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedgaragemenuboat(button)
					end
				end
			end	
		end
		if garagemenuboat.opened then
			if IsControlJustPressed(1,202) then
				Backgaragemenuboat()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if garagemenuboat.selectedbutton > 1 then
					garagemenuboat.selectedbutton = garagemenuboat.selectedbutton -1
					if buttoncount > 10 and garagemenuboat.selectedbutton < garagemenuboat.menu.from then
						garagemenuboat.menu.from = garagemenuboat.menu.from -1
						garagemenuboat.menu.to = garagemenuboat.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if garagemenuboat.selectedbutton < buttoncount then
					garagemenuboat.selectedbutton = garagemenuboat.selectedbutton +1
					if buttoncount > 10 and garagemenuboat.selectedbutton > garagemenuboat.menu.to then
						garagemenuboat.menu.to = garagemenuboat.menu.to + 1
						garagemenuboat.menu.from = garagemenuboat.menu.from + 1
					end
				end	
			end
		end
	end
end)

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if inputvehname == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputvehname = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputvehnameclient = GetOnscreenKeyboardResult()
					if string.len(inputvehnameclient) > 0 then
						NewName = inputvehnameclient
						inputvehname = 2
					else
						inputvehname = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputvehname = 0
			end
		end
		if inputvehname == 2 then
		   		TriggerServerEvent('RenameVehicleBoat', NewName,plate)
				inputvehname = 0
		end
	end
end)


				
function ButtonSelectedgaragemenuboat(button)
	local ped = GetPlayerPed(-1)
	local this = garagemenuboat.currentmenu
	local btn = button.name
	if this == "main" then
		if btn == "Garage" then
			OpenMenugaragemenuboat('maingarage')
		elseif btn =="Ranger mon vÃ©hicule" then
			local posplayer = GetEntityCoords(GetPlayerPed(-1))
			local xposplayer = posplayer['x']
			local yposplayer = posplayer['y']
			local zposplayer = posplayer['z']
			local targetCar = GetClosestVehicle(posplayer['x'], posplayer['y'], posplayer['z'], 10.0,0,70)
			local plateCar = GetVehicleNumberPlateText(targetCar)
			TriggerServerEvent('StockVehicleBoat',plateCar,xposplayer,yposplayer,zposplayer)
			CloseCreatorgaragemenuboat()
		end
	elseif this == "maingarage" then
			refname = button.ref
			text = button.name
			plate = button.plate
			sellprice = button.sellprice
			upgrade = button.upgrade
			name = button.name
			garagemenuboat.menu["vehiclemenu"].title = text
			garagemenuboat.menu["vehiclemenu"].buttons = {}
			table.insert(garagemenuboat.menu["vehiclemenu"].buttons, {name = "Sortir", description = ""})
			table.insert(garagemenuboat.menu["vehiclemenu"].buttons, {name = "Renommer", description = ""})
			textvendre = "Vendre - "..sellprice.."$"
			table.insert(garagemenuboat.menu["vehiclemenu"].buttons, {name = textvendre, description = ""})
			OpenMenugaragemenuboat('vehiclemenu')
	elseif this == "vehiclemenu" then
		if btn == "Sortir" then
			TriggerServerEvent('SpawnVehGarageBoat',refname,plate,upgrade)
			CloseCreatorgaragemenuboat()
		elseif btn =="Renommer" then
			DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
			inputvehname = 1
			CloseCreatorgaragemenuboat()
		elseif btn == textvendre then
			TriggerServerEvent('SellVehicleBoat',sellprice,name,plate)
			CloseCreatorgaragemenuboat()
		end
	end
end

function OpenMenugaragemenuboat(menu)
	garagemenuboat.lastmenu = garagemenuboat.currentmenu
	if menu == "vehiclemenu" then
		garagemenuboat.lastmenu = "maingarage"
	end
	garagemenuboat.menu.from = 1
	garagemenuboat.menu.to = 10
	garagemenuboat.selectedbutton = 0
	garagemenuboat.currentmenu = menu	
end


function Backgaragemenuboat()
	if backlock then
		return
	end
	backlock = true
	if garagemenuboat.currentmenu == "main" then
		CloseCreatorgaragemenuboat()
	end
	if garagemenuboat.currentmenu == "vehiclemenu" then
		CloseCreatorgaragemenuboat()
		TriggerServerEvent('MyGarageBoat',typeveh)	
		inmenugarage = 1
	else
		OpenMenugaragemenuboat(garagemenuboat.lastmenu)
	end
end

function stringstartsgaragemenuboat(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end

RegisterNetEvent("GaragePRIVATEBoat")
AddEventHandler('GaragePRIVATEBoat', function(veh,plate,upgrade)
    Citizen.CreateThread(function()
        Citizen.Wait(50)
        local carid = GetHashKey(veh)
        local playerPed = GetPlayerPed(-1)
        if playerPed and playerPed ~= -1 then
            RequestModel(carid)
            while not HasModelLoaded(carid) do
                Citizen.Wait(0)
            end
			
            lastSpawnedVehiclePersoGarageBoat = CreateVehicle(carid, -869.3359,-1336.833,-0.08679427, 0.0, true, false)
			TaskWarpPedIntoVehicle(playerPed, lastSpawnedVehiclePersoGarageBoat, -1)
			TaskWarpPedIntoVehicle(playerPed, lastSpawnedVehiclePersoGarageBoat, -1)
			SetVehicleModKit(lastSpawnedVehiclePersoGarageBoat, 0)
			SetVehicleNumberPlateText(lastSpawnedVehiclePersoGarageBoat, plate)
        end
    end)
end)

RegisterNetEvent("ClearCarBoat")
AddEventHandler("ClearCarBoat", function()
	deleteCar(targetCar)
    ShowNotificationMain("~h~Vous avez rangÃ© votre vÃ©hicule.")
	CloseCreatorgaragemenuboat()
end)


-- Notif

RegisterNetEvent("notproprioBoat")
AddEventHandler("notproprioBoat", function()
    ShowNotificationMain("~h~Vous n'avez pas de vÃ©hicule dans la zone.")
end)




                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
local garagemenuheli = {
	opened = false,
	title = "Garage",
	currentmenu = "main",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 0, g = 155, b = 255, a = 200, type = 1 },
	menu = {
		x = 0.1,
		y = 0.32,
		width = 0.2,
		height = 0.04,
		buttons = 9,
		from = 1,
		to = 9,
		scale = 0.4,
		font = 0,
		["main"] = { 
			title = "", 
			name = "main",
			buttons = {
				{name = "Garage", description = ''},
				{name = "Ranger mon vÃ©hicule", description = ''},
			}
		},
		
		["maingarage"] = { 
			title = "", 
			name = "maingarage",
			buttons = { 
			}
		},
		["vehiclemenu"] = { 
			title = "", 
			name = "vehiclemenu",
			buttons = {				
			}
		},
	}
}


RegisterNetEvent('MyGarageClientheli')
AddEventHandler('MyGarageClientheli', function(playergarage,vehtype)
	typeveh = vehtype
	local insrt = table.insert
	garagemenuheli.menu["maingarage"].buttons = {}
	local counttable = tablelength(playergarage)
	local countbutton = 0
	i = 1
	while countbutton ~= counttable do
		veh = playergarage[i]['vehicle_id']
		if veh ~= null then
			local finaltext = playergarage[i]['vehicle_name']
			local refname = playergarage[i]['vehicle_id']
			local plate = playergarage[i]['plate']
			local sellprice = playergarage[i]['sellprice']
			local upgrade = playergarage[i]['custom']
			insrt(garagemenuheli.menu["maingarage"].buttons, {name = finaltext, description = "", ref = refname, upgrade = upgrade, plate = plate, sellprice = sellprice})
			countbutton = countbutton + 1
		end
		i = i + 1
	end

	garagemenuheli.currentmenu = "main"
	garagemenuheli.opened = true
	garagemenuheli.selectedbutton = 0
end)

local function LocalPed()
return GetPlayerPed(-1)
end

function CloseCreatorgaragemenuheli()
	Citizen.CreateThread(function()
		garagemenuheli.opened = false
		garagemenuheli.menu.from = 1
		garagemenuheli.menu.to = 10
		inmenugarage = 0
	end)
end



function drawMenuButton(button,x,y,selected)
	local menu = garagemenuheli.menu
	SetTextFont(menu.font)
	SetTextProportional(0)
	SetTextScale(menu.scale, menu.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(0)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,menu.width,menu.height,255,255,255,255)
	else
		DrawRect(x,y,menu.width,menu.height,0,0,0,150)
	end
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)	
end

function drawMenuTitleGarage(txt,x,y)
local menu = garagemenuheli.menu
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,menu.width,menu.height,93,166,202,150)
	DrawText(x - menu.width/2 + 0.005, y - menu.height/2 + 0.0028)
end

function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
function Notifygaragemenuheli(text)
SetNotificationTextEntry('STRING')
AddTextComponentString(text)
DrawNotification(false, false)
end

local backlock = false
inputvehname = 0
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if garagemenuheli.opened then
			local ped = LocalPed()
			local menu = garagemenuheli.menu[garagemenuheli.currentmenu]
			drawTxt(garagemenuheli.title,1,1,garagemenuheli.menu.x,garagemenuheli.menu.y,1.0, 255,255,255,255)
			drawMenuTitleInv(menu.title, garagemenuheli.menu.x,garagemenuheli.menu.y + 0.08)
			drawTxt(garagemenuheli.selectedbutton.."/"..tablelength(menu.buttons),0,0,garagemenuheli.menu.x + garagemenuheli.menu.width/2 - 0.0385,garagemenuheli.menu.y + 0.067,0.4, 255,255,255,255)
			local y = garagemenuheli.menu.y + 0.12
			buttoncount = tablelength(menu.buttons)
			local selected = false
			
			for i,button in pairs(menu.buttons) do
				if i >= garagemenuheli.menu.from and i <= garagemenuheli.menu.to then
					
					if i == garagemenuheli.selectedbutton then
						selected = true
					else
						selected = false
					end
					drawMenuButton(button,garagemenuheli.menu.x,y,selected)
					y = y + 0.04
					if selected and IsControlJustPressed(1,201) then
						ButtonSelectedgaragemenuheli(button)
					end
				end
			end	
		end
		if garagemenuheli.opened then
			if IsControlJustPressed(1,202) then
				Backgaragemenuheli()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if garagemenuheli.selectedbutton > 1 then
					garagemenuheli.selectedbutton = garagemenuheli.selectedbutton -1
					if buttoncount > 10 and garagemenuheli.selectedbutton < garagemenuheli.menu.from then
						garagemenuheli.menu.from = garagemenuheli.menu.from -1
						garagemenuheli.menu.to = garagemenuheli.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if garagemenuheli.selectedbutton < buttoncount then
					garagemenuheli.selectedbutton = garagemenuheli.selectedbutton +1
					if buttoncount > 10 and garagemenuheli.selectedbutton > garagemenuheli.menu.to then
						garagemenuheli.menu.to = garagemenuheli.menu.to + 1
						garagemenuheli.menu.from = garagemenuheli.menu.from + 1
					end
				end	
			end
		end
	end
end)

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if inputvehname == 1 then
			if UpdateOnscreenKeyboard() == 3 then
				inputvehname = 0
			elseif UpdateOnscreenKeyboard() == 1 then
				inputvehnameclient = GetOnscreenKeyboardResult()
					if string.len(inputvehnameclient) > 0 then
						NewName = inputvehnameclient
						inputvehname = 2
					else
						inputvehname = 0
					end

			elseif UpdateOnscreenKeyboard() == 2 then
				inputvehname = 0
			end
		end
		if inputvehname == 2 then
		   		TriggerServerEvent('RenameVehicleheli', NewName,plate)
				inputvehname = 0
		end
	end
end)


				
function ButtonSelectedgaragemenuheli(button)
	local ped = GetPlayerPed(-1)
	local this = garagemenuheli.currentmenu
	local btn = button.name
	if this == "main" then
		if btn == "Garage" then
			OpenMenugaragemenuheli('maingarage')
		elseif btn =="Ranger mon vÃ©hicule" then
			local posplayer = GetEntityCoords(GetPlayerPed(-1))
			TriggerServerEvent('DebugPrint',"BITCH","61")
			local xposplayer = posplayer['x']
			TriggerServerEvent('DebugPrint',"BITCH","62")
			local yposplayer = posplayer['y']
			TriggerServerEvent('DebugPrint',"BITCH","63")
			local zposplayer = posplayer['z']
			TriggerServerEvent('DebugPrint',"BITCH","64")
			local targetCar = GetClosestVehicle(posplayer['x'], posplayer['y'], posplayer['z'], 10.0,0,127)
			TriggerServerEvent('DebugPrint',"BITCH","65")
			local plateCar = GetVehicleNumberPlateText(targetCar)
			TriggerServerEvent('DebugPrint',"BITCH","66")
			TriggerServerEvent('DebugPrint',"BITCH",plateCar)
			TriggerServerEvent('StockVehicleheli',plateCar)
			CloseCreatorgaragemenuheli()
		end
	elseif this == "maingarage" then
			refname = button.ref
			text = button.name
			plate = button.plate
			sellprice = button.sellprice
			upgrade = button.upgrade
			name = button.name
			garagemenuheli.menu["vehiclemenu"].title = text
			garagemenuheli.menu["vehiclemenu"].buttons = {}
			table.insert(garagemenuheli.menu["vehiclemenu"].buttons, {name = "Sortir", description = ""})
			table.insert(garagemenuheli.menu["vehiclemenu"].buttons, {name = "Renommer", description = ""})
			textvendre = "Vendre - "..sellprice.."$"
			table.insert(garagemenuheli.menu["vehiclemenu"].buttons, {name = textvendre, description = ""})
			OpenMenugaragemenuheli('vehiclemenu')
	elseif this == "vehiclemenu" then
		if btn == "Sortir" then
			TriggerServerEvent('DebugPrint',"BITCH",refname)
			TriggerServerEvent('DebugPrint',"BITCH",plate)
			TriggerServerEvent('DebugPrint',"BITCH",upgrade)
			TriggerServerEvent('SpawnVehGarageheli',refname,plate,upgrade)
			CloseCreatorgaragemenuheli()
		elseif btn =="Renommer" then
			DisplayOnscreenKeyboard(true, "FMMC_KEY_TIP8", "", "", "", "", "", 120)
			inputvehname = 1
			CloseCreatorgaragemenuheli()
		elseif btn == textvendre then
			TriggerServerEvent('SellVehicleheli',sellprice,name,plate)
			CloseCreatorgaragemenuheli()
		end
	end
end

function OpenMenugaragemenuheli(menu)
	garagemenuheli.lastmenu = garagemenuheli.currentmenu
	if menu == "vehiclemenu" then
		garagemenuheli.lastmenu = "maingarage"
	end
	garagemenuheli.menu.from = 1
	garagemenuheli.menu.to = 10
	garagemenuheli.selectedbutton = 0
	garagemenuheli.currentmenu = menu	
end


function Backgaragemenuheli()
	if backlock then
		return
	end
	backlock = true
	if garagemenuheli.currentmenu == "main" then
		CloseCreatorgaragemenuheli()
	end
	if garagemenuheli.currentmenu == "vehiclemenu" then
		CloseCreatorgaragemenuheli()
		TriggerServerEvent('MyGarageheli',typeveh)	
		inmenugarage = 1
	else
		OpenMenugaragemenuheli(garagemenuheli.lastmenu)
	end
end

function stringstartsgaragemenuheli(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end

RegisterNetEvent("GaragePRIVATEheli")
AddEventHandler('GaragePRIVATEheli', function(veh,plate,upgrade)
    Citizen.CreateThread(function()
        Citizen.Wait(50)
        local carid = GetHashKey(veh)
        local playerPed = GetPlayerPed(-1)
        if playerPed and playerPed ~= -1 then
            RequestModel(carid)
            while not HasModelLoaded(carid) do
                Citizen.Wait(0)
            end
            local playerCoords = GetEntityCoords(playerPed)
            playerCoords = playerCoords + vector3(0, 2, 0)
			
            lastSpawnedVehiclePersoGarageHeli = CreateVehicle(carid, playerCoords, 0.0, true, false)
			TaskWarpPedIntoVehicle(playerPed, lastSpawnedVehiclePersoGarageHeli, -1)
			SetVehicleModKit(lastSpawnedVehiclePersoGarageHeli, 0)
			SetVehicleNumberPlateText(lastSpawnedVehiclePersoGarageHeli, plate)
        end
    end)
end)

RegisterNetEvent("ClearCarheli")
AddEventHandler("ClearCarheli", function()
	deleteCar(targetCar)
    ShowNotificationMain("~h~Vous avez rangÃ© votre vÃ©hicule.")
	CloseCreatorgaragemenuheli()
end)


-- Notif

RegisterNetEvent("notproprioheli")
AddEventHandler("notproprioheli", function()
    ShowNotificationMain("~h~Vous n'avez pas de vÃ©hicule dans la zone.")
end)




                                                                                                                                      
local lsc = {
	inside = false,
	title = "Los Santos Customs",
	currentmenu = "repair",
	lastmenu = nil,
	currentpos = nil,
	currentgarage = 0,
	selectedbutton = 0,
	locations = { 
		[1] = { locked = false, outside = { x = -362.7962, y = -132.4005, z = 38.25239, heading = 71.187133}, inside = {x = -337.3863,y = -136.9247,z = 38.5737, heading = 269.455}},
		[2] = { locked = false, outside = { x = -1140.191, y = -1985.478, z = 12.72923, heading = 315.290466}, inside = {x = -1155.536,y = -2007.183,z = 12.744, heading = 155.413}},
		[3] = { locked = false, outside = { x = 716.4645, y = -1088.869, z = 21.92979, heading = 88.768}, inside = {x = 731.8163,y = -1088.822,z = 21.733, heading = 269.318}},
		[4] = { locked = false, outside = { x = 1174.811, y = 2649.954, z = 37.37151, heading = 0.450}, inside = {x = 1175.04,y = 2640.216,z = 37.32177, heading = 182.402}},
	},
	menu = {
		x = 0.8,
		y = 0.1,
		width = 0.25,
		height = 0.04,
		buttons = 10,
		from = 1,
		to = 10,
		["bumpers"] = { 
			title = "Pare chocs", 
			name = "bumpers",
			buttons = { 

			}
		},
		["frontbumper"] = { 
			title = "Pare chocs avant", 
			name = "frontbumper",
			buttons = { 

			}
		},
		["rearbumper"] = { 
			title = "Pare chocs arriere", 
			name = "rearbumper",
			buttons = { 

			}
		},
		["main"] = { 
			title = "categories", 
			name = "main",
			buttons = { 
				
			}
		},["exhaust"] = { 
			title = "echappement", 
			name = "exhaust",
			buttons = { 
				
			}
		},
		["fenders"] = { 
			title = "Ailes", 
			name = "fenders",
			buttons = { 
				
			}
		},
		["grille"] = { 
			title = "Calandre", 
			name = "grille",
			buttons = { 
				
			}
		},
		["hood"] = { 
			title = "Capot", 
			name = "hood",
			buttons = { 
				
			}
		},["rollcage"] = { 
			title = "Arceau", 
			name = "rollcage",
			buttons = { 
				
			}
		},
		["roof"] = { 
			title = "Toit", 
			name = "roof",
			buttons = { 
				
			}
		},
		["skirts"] = { 
			title = "Bas de caisse", 
			name = "skirts",
			buttons = { 
				
			}
		}
		,
		["spoiler"] = { 
			title = "Aileron", 
			name = "spoiler",
			buttons = { 
				
			}
		},["wheeliebar"] = { 
			title = "wheeliebar", 
			name = "wheeliebar",
			buttons = { 
				
			}
		},
		["chassis"] = { 
			title = "Chassis", 
			name = "chassis",
			buttons = { 
				
			}
		}
	,["primarymetallic"] = { 
			title = "Couleur primaire", 
			name = "primarymetallic",
			buttons = { 
				{name = "Noir",costs = 35000, colorindex = 0, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Noir carbone",costs = 35000, colorindex = 147, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Graphique",costs = 35000, colorindex = 1, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Anthracite",costs = 35000, colorindex = 11, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Acier noir",costs = 35000, colorindex = 2, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Acier foncÃ©",costs = 35000, colorindex = 3, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent",costs = 35000, colorindex = 4, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent bleutÃ©",costs = 35000, colorindex = 5, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Acier laminÃ©",costs = 35000, colorindex = 6, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent sombre",costs = 35000, colorindex = 7, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent pierre",costs = 35000, colorindex = 8, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent nocturne",costs = 35000, colorindex = 9, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent bÃ©ton",costs = 35000, colorindex = 10, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge",costs = 35000, colorindex = 27, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge Torino",costs = 35000, colorindex = 28, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge Formula",costs = 35000, colorindex = 29, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge lave",costs = 35000, colorindex = 150, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge flamme",costs = 35000, colorindex = 30, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge gracieux",costs = 35000, colorindex = 31, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge grenat",costs = 35000, colorindex = 32, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge solaire",costs = 35000, colorindex = 33, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge cabernet",costs = 35000, colorindex = 34, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge sang",costs = 35000, colorindex = 143, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge fraise",costs = 35000, colorindex = 35, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rose vif",costs = 35000, colorindex = 135, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rose Pfister",costs = 35000, colorindex = 137, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Saumon",costs = 35000, colorindex = 136, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Orange profond",costs = 35000, colorindex = 36, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Orange",costs = 35000, colorindex = 38, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Orange vif",costs = 35000, colorindex = 138, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Or",costs = 35000, colorindex = 99, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bronze",costs = 35000, colorindex = 90, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Jaune",costs = 35000, colorindex = 88, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Jaune racing",costs = 35000, colorindex = 89, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Jaune pÃ¢le",costs = 35000, colorindex = 91, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert foncÃ©",costs = 35000, colorindex = 49, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert racing",costs = 35000, colorindex = 50, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert marin",costs = 35000, colorindex = 51, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert olive",costs = 35000, colorindex = 52, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert clair",costs = 35000, colorindex = 53, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert pÃ©trole",costs = 35000, colorindex = 54, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert lime",costs = 35000, colorindex = 92, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu nocturne",costs = 35000, colorindex = 141, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu galaxie",costs = 35000, colorindex = 61, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu foncÃ©",costs = 35000, colorindex = 62, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu cobalt",costs = 35000, colorindex = 63, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu",costs = 35000, colorindex = 64, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu ciel",costs = 35000, colorindex = 65, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu ardoise",costs = 35000, colorindex = 66, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu diamant",costs = 35000, colorindex = 67, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu Ã©cume",costs = 35000, colorindex = 68, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu nautique",costs = 35000, colorindex = 69, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu racing",costs = 35000, colorindex = 73, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu ultra",costs = 35000, colorindex = 70, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu clair",costs = 35000, colorindex = 74, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Chocolat",costs = 35000, colorindex = 96, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun bison",costs = 35000, colorindex = 101, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun beige",costs = 35000, colorindex = 95, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun Feltzer",costs = 35000, colorindex = 94, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun Ã©rable",costs = 35000, colorindex = 97, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun cannelle",costs = 35000, colorindex = 103, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Terre de sienne",costs = 35000, colorindex = 104, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Beige",costs = 35000, colorindex = 98, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun vert",costs = 35000, colorindex = 100, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun hÃªtre",costs = 35000, colorindex = 102, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun paille",costs = 35000, colorindex = 99, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun sable",costs = 35000, colorindex = 105, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Beige clair",costs = 35000, colorindex = 106, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Mauve Schafter",costs = 35000, colorindex = 71, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Mauve Spinnaker",costs = 35000, colorindex = 72, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Mauve nocturne",costs = 35000, colorindex = 142, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Violet",costs = 35000, colorindex = 145, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "CrÃ¨me",costs = 35000, colorindex = 107, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Blanc glacier",costs = 35000, colorindex = 111, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Blanc givre",costs = 35000, colorindex = 112, description = "", centre = 0, font = 0, scale = 0.4}
			}
		},
		["secondarymetallic"] = { 
			title = "Couleur secondaire", 
			name = "secondarymetallic",
			buttons = { 
				{name = "Noir",costs = 35000, colorindex = 0, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Noir carbone",costs = 35000, colorindex = 147, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Graphique",costs = 35000, colorindex = 1, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Anthracite",costs = 35000, colorindex = 11, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Acier noir",costs = 35000, colorindex = 2, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Acier foncÃ©",costs = 35000, colorindex = 3, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent",costs = 35000, colorindex = 4, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent bleutÃ©",costs = 35000, colorindex = 5, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Acier laminÃ©",costs = 35000, colorindex = 6, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent sombre",costs = 35000, colorindex = 7, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent pierre",costs = 35000, colorindex = 8, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent nocturne",costs = 35000, colorindex = 9, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent bÃ©ton",costs = 35000, colorindex = 10, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge",costs = 35000, colorindex = 27, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge Torino",costs = 35000, colorindex = 28, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge Formula",costs = 35000, colorindex = 29, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge lave",costs = 35000, colorindex = 150, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge flamme",costs = 35000, colorindex = 30, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge gracieux",costs = 35000, colorindex = 31, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge grenat",costs = 35000, colorindex = 32, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge solaire",costs = 35000, colorindex = 33, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge cabernet",costs = 35000, colorindex = 34, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge sang",costs = 35000, colorindex = 143, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge fraise",costs = 35000, colorindex = 35, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rose vif",costs = 35000, colorindex = 135, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rose Pfister",costs = 35000, colorindex = 137, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Saumon",costs = 35000, colorindex = 136, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Orange profond",costs = 35000, colorindex = 36, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Orange",costs = 35000, colorindex = 38, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Orange vif",costs = 35000, colorindex = 138, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Or",costs = 35000, colorindex = 99, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bronze",costs = 35000, colorindex = 90, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Jaune",costs = 35000, colorindex = 88, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Jaune racing",costs = 35000, colorindex = 89, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Jaune pÃ¢le",costs = 35000, colorindex = 91, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert foncÃ©",costs = 35000, colorindex = 49, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert racing",costs = 35000, colorindex = 50, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert marin",costs = 35000, colorindex = 51, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert olive",costs = 35000, colorindex = 52, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert clair",costs = 35000, colorindex = 53, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert pÃ©trole",costs = 35000, colorindex = 54, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert lime",costs = 35000, colorindex = 92, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu nocturne",costs = 35000, colorindex = 141, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu galaxie",costs = 35000, colorindex = 61, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu foncÃ©",costs = 35000, colorindex = 62, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu cobalt",costs = 35000, colorindex = 63, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu",costs = 35000, colorindex = 64, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu ciel",costs = 35000, colorindex = 65, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu ardoise",costs = 35000, colorindex = 66, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu diamant",costs = 35000, colorindex = 67, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu Ã©cume",costs = 35000, colorindex = 68, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu nautique",costs = 35000, colorindex = 69, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu racing",costs = 35000, colorindex = 73, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu ultra",costs = 35000, colorindex = 70, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu clair",costs = 35000, colorindex = 74, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Chocolat",costs = 35000, colorindex = 96, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun bison",costs = 35000, colorindex = 101, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun beige",costs = 35000, colorindex = 95, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun Feltzer",costs = 35000, colorindex = 94, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun Ã©rable",costs = 35000, colorindex = 97, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun cannelle",costs = 35000, colorindex = 103, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Terre de sienne",costs = 35000, colorindex = 104, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Beige",costs = 35000, colorindex = 98, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun vert",costs = 35000, colorindex = 100, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun hÃªtre",costs = 35000, colorindex = 102, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun paille",costs = 35000, colorindex = 99, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun sable",costs = 35000, colorindex = 105, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Beige clair",costs = 35000, colorindex = 106, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Mauve Schafter",costs = 35000, colorindex = 71, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Mauve Spinnaker",costs = 35000, colorindex = 72, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Mauve nocturne",costs = 35000, colorindex = 142, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Violet",costs = 35000, colorindex = 145, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "CrÃ¨me",costs = 35000, colorindex = 107, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Blanc glacier",costs = 35000, colorindex = 111, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Blanc givre",costs = 35000, colorindex = 112, description = "", centre = 0, font = 0, scale = 0.4}
			}
		},

		["primarymatte"] = { 
				title = "Couleur primaire", 
				name = "primarymatte",
				buttons = { 
					{name = "Noir", colorindex = 12,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Gris", colorindex = 13,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Gris clair", colorindex = 14,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Blanc glacier", colorindex = 131,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Bleu", colorindex = 83,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Bleu foncÃ©", colorindex = 82,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Bleu nocturne", colorindex = 84,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Mauve nocturne", colorindex = 149,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Mauve Schafter", colorindex = 148,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Rouge", colorindex = 39,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Rouge foncÃ©", colorindex = 40,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Orange", colorindex = 41,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Jaune", colorindex = 42,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Vert lime", colorindex = 55,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Vert", colorindex = 128,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Vert forÃªt", colorindex = 151,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Vert feuillage", colorindex = 155,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Vert olive", colorindex = 152,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Terre sombre", colorindex = 153,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Sable du dÃ©sert", colorindex = 154,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4}
				}
			},
			["secondarymatte"] = { 
				title = "Couleur secondaire", 
				name = "secondarymatte",
				buttons = { 
					{name = "Noir", colorindex = 12,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Gris", colorindex = 13,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Gris clair", colorindex = 14,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Blanc glacier", colorindex = 131,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Bleu", colorindex = 83,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Bleu foncÃ©", colorindex = 82,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Bleu nocturne", colorindex = 84,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Mauve nocturne", colorindex = 149,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Mauve Schafter", colorindex = 148,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Rouge", colorindex = 39,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Rouge foncÃ©", colorindex = 40,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Orange", colorindex = 41,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Jaune", colorindex = 42,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Vert lime", colorindex = 55,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Vert", colorindex = 128,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Vert forÃªt", colorindex = 151,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Vert feuillage", colorindex = 155,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Vert olive", colorindex = 152,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Terre sombre", colorindex = 153,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Sable du dÃ©sert", colorindex = 154,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4}
				}
			},
			["primarymetal"] = { 
				title = "Couleur primaire", 
				name = "primarymetal",
				buttons = { 
					{name = "Acier brossÃ©",colorindex = 117,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Acier boir brossÃ©",colorindex = 118,costs = 65000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Aluminium brossÃ©",colorindex = 119,costs = 70000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Or pur",colorindex = 158,costs = 75000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Or brossÃ©",colorindex = 159,costs = 80000, description = "", centre = 0, font = 0, scale = 0.4}
				}
			}
			,
			["secondarymetal"] = { 
				title = "Couleur secondaire", 
				name = "secondarymetal",
				buttons = { 
					{name = "Acier brossÃ©",colorindex = 117,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Acier boir brossÃ©",colorindex = 118,costs = 65000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Aluminium brossÃ©",colorindex = 119,costs = 70000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Or pur",colorindex = 158,costs = 75000, description = "", centre = 0, font = 0, scale = 0.4},
					{name = "Or brossÃ©",colorindex = 159,costs = 80000, description = "", centre = 0, font = 0, scale = 0.4}
				}
			},["wheelcolor"] = { 
			title = "Couleur des jantes", 
			name = "wheelcolor",
			buttons = { 
				{name = "Noir",costs = 20000, colorindex = 0, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Noir carbone",costs = 20000, colorindex = 147, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Graphique",costs = 20000, colorindex = 1, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Anthracite",costs = 20000, colorindex = 11, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Acier noir",costs = 20000, colorindex = 2, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Acier foncÃ©",costs = 20000, colorindex = 3, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent",costs = 20000, colorindex = 4, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent bleutÃ©",costs = 20000, colorindex = 5, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Acier laminÃ©",costs = 20000, colorindex = 6, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent sombre",costs = 20000, colorindex = 7, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent pierre",costs = 20000, colorindex = 8, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent nocturne",costs = 20000, colorindex = 9, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent bÃ©ton",costs = 20000, colorindex = 10, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge",costs = 20000, colorindex = 27, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge Torino",costs = 20000, colorindex = 28, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge Formula",costs = 20000, colorindex = 29, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge lave",costs = 20000, colorindex = 150, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge flamme",costs = 20000, colorindex = 30, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge gracieux",costs = 20000, colorindex = 31, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge grenat",costs = 20000, colorindex = 32, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge solaire",costs = 20000, colorindex = 33, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge cabernet",costs = 20000, colorindex = 34, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge sang",costs = 20000, colorindex = 143, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge fraise",costs = 20000, colorindex = 35, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rose vif",costs = 20000, colorindex = 135, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rose Pfister",costs = 20000, colorindex = 137, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Saumon",costs = 20000, colorindex = 136, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Orange profond",costs = 20000, colorindex = 36, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Orange",costs = 20000, colorindex = 38, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Orange vif",costs = 20000, colorindex = 138, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Or",costs = 20000, colorindex = 99, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bronze",costs = 20000, colorindex = 90, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Jaune",costs = 20000, colorindex = 88, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Jaune racing",costs = 20000, colorindex = 89, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Jaune pÃ¢le",costs = 20000, colorindex = 91, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert foncÃ©",costs = 20000, colorindex = 49, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert racing",costs = 20000, colorindex = 50, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert marin",costs = 20000, colorindex = 51, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert olive",costs = 20000, colorindex = 52, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert clair",costs = 20000, colorindex = 53, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert pÃ©trole",costs = 20000, colorindex = 54, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert lime",costs = 20000, colorindex = 92, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu nocturne",costs = 20000, colorindex = 141, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu galaxie",costs = 20000, colorindex = 61, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu foncÃ©",costs = 20000, colorindex = 62, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu cobalt",costs = 20000, colorindex = 63, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu",costs = 20000, colorindex = 64, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu ciel",costs = 20000, colorindex = 65, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu ardoise",costs = 20000, colorindex = 66, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu diamant",costs = 20000, colorindex = 67, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu Ã©cume",costs = 20000, colorindex = 68, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu nautique",costs = 20000, colorindex = 69, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu racing",costs = 20000, colorindex = 73, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu ultra",costs = 20000, colorindex = 70, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu clair",costs = 20000, colorindex = 74, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Chocolat",costs = 20000, colorindex = 96, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun bison",costs = 20000, colorindex = 101, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun beige",costs = 20000, colorindex = 95, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun Feltzer",costs = 20000, colorindex = 94, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun Ã©rable",costs = 20000, colorindex = 97, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun cannelle",costs = 20000, colorindex = 103, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Terre de sienne",costs = 20000, colorindex = 104, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Beige",costs = 20000, colorindex = 98, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun vert",costs = 20000, colorindex = 100, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun hÃªtre",costs = 20000, colorindex = 102, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun paille",costs = 20000, colorindex = 99, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun sable",costs = 20000, colorindex = 105, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Beige clair",costs = 20000, colorindex = 106, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Mauve Schafter",costs = 20000, colorindex = 71, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Mauve Spinnaker",costs = 20000, colorindex = 72, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Mauve nocturne",costs = 20000, colorindex = 142, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Violet",costs = 20000, colorindex = 145, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "CrÃ¨me",costs = 20000, colorindex = 107, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Blanc glacier",costs = 20000, colorindex = 111, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Blanc givre",costs = 20000, colorindex = 112, description = "", centre = 0, font = 0, scale = 0.4}
			}
		},
		["windows"] = { 
			title = "Fenetres", 
			name = "windows",
			buttons = { 
				{name = "Aucune",tint = false, costs = 0, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "FumÃ© noir",tint = 1, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "FumÃ© foncÃ©",tint = 2, costs = 20000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "FumÃ© clair",tint = 3, costs = 10000, description = "", centre = 0, font = 0, scale = 0.4},
				--{name = "Limousine",tint = 4, costs = 0, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "FumÃ© vert",tint = 5, costs = 40000, description = "", centre = 0, font = 0, scale = 0.4}
			}
		},
		["wheelaccessories"] = { 
			title = "Pneus", 
			name = "wheelaccessories",
			buttons = { 
				{name = "Pneus de sÃ©rie", costs = 0, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Pneus custom", costs = 70000, description = "", centre = 0, font = 0, scale = 0.4},
				--{name = "FumÃ©e de pneus blanche", color = {254,254,254}, costs = 0, description = "", centre = 0, font = 0, scale = 0.4},
				--{name = "FumÃ©e de pneus noire", color = {1,1,1}, costs = 0, description = "", centre = 0, font = 0, scale = 0.4},
				--{name = "FumÃ©e de pneus bleue", color = {0,150,255}, costs = 0, description = "", centre = 0, font = 0, scale = 0.4},
				--{name = "FumÃ©e de pneus jaune", color = {255,255,50}, costs = 0, description = "", centre = 0, font = 0, scale = 0.4},
				--{name = "FumÃ©e de pneus orange", color = {255,153,51}, costs = 0, description = "", centre = 0, font = 0, scale = 0.4},
				--{name = "FumÃ©e de pneus rouge", color = {255,10,10}, costs = 0, description = "", centre = 0, font = 0, scale = 0.4},
				--{name = "FumÃ©e de pneus verte", color = {10,255,10}, costs = 0, description = "", centre = 0, font = 0, scale = 0.4},
				--{name = "FumÃ©e de pneus violette", color = {153,10,153}, costs = 0, description = "", centre = 0, font = 0, scale = 0.4},
				--{name = "FumÃ©e de pneus rose", color = {255,102,178}, costs = 0, description = "", centre = 0, font = 0, scale = 0.4},
				--{name = "FumÃ©e de pneus grise", color = {128,128,128}, costs = 0, description = "", centre = 0, font = 0, scale = 0.4},
			}
		},
		["respray"] = { 
			title = "Peinture", 
			name = "respray",
			buttons = { 
				{name = "Couleur primaire", description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Couleur secondaire", description = "", centre = 0, font = 0, scale = 0.4}
			}
		},
		["primarycolor"] = { 
			title = "Type de couleur", 
			name = "primarycolor",
			buttons = { 
				{name = "Chrome", description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Classique", description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Mat", description = "", centre = 0, font = 0, scale = 0.4},
				{name = "MÃ©taux", description = "", centre = 0, font = 0, scale = 0.4},
				{name = "MÃ©tallisÃ©", description = "", centre = 0, font = 0, scale = 0.4}
			}
		}
		,
		["secondarycolor"] = { 
			title = "Type de couleur", 
			name = "secondarycolor",
			buttons = { 
				{name = "Chrome", description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Classique", description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Mat", description = "", centre = 0, font = 0, scale = 0.4},
				{name = "MÃ©taux", description = "", centre = 0, font = 0, scale = 0.4},
				{name = "MÃ©tallisÃ©", description = "", centre = 0, font = 0, scale = 0.4}
			}
		},
		["primarychrome"] = { 
			title = "Couleur primaire", 
			name = "primarycolchrome",
			buttons = { 
				{name = "Chrome", colorindex = 120, costs = 120000,description = "", centre = 0, font = 0, scale = 0.4}
			}
		},
		["secondarychrome"] = { 
			title = "Couleur secondaire", 
			name = "secondarycolchrome",
			buttons = { 
				{name = "Chrome", colorindex = 120, costs = 120000,description = "", centre = 0, font = 0, scale = 0.4}
			}
		},

		["primaryclassic"] = { 
			title = "Couleur primaire", 
			name = "primaryclassic",
			buttons = { 
				{name = "Noir",costs = 20000, colorindex = 0, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Noir carbone",costs = 20000, colorindex = 147, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Graphique",costs = 20000, colorindex = 1, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Anthracite",costs = 20000, colorindex = 11, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Acier noir",costs = 20000, colorindex = 2, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Acier foncÃ©",costs = 20000, colorindex = 3, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent",costs = 20000, colorindex = 4, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent bleutÃ©",costs = 20000, colorindex = 5, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Acier laminÃ©",costs = 20000, colorindex = 6, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent sombre",costs = 20000, colorindex = 7, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent pierre",costs = 20000, colorindex = 8, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent nocturne",costs = 20000, colorindex = 9, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent bÃ©ton",costs = 20000, colorindex = 10, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge",costs = 20000, colorindex = 27, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge Torino",costs = 20000, colorindex = 28, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge Formula",costs = 20000, colorindex = 29, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge lave",costs = 20000, colorindex = 150, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge flamme",costs = 20000, colorindex = 30, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge gracieux",costs = 20000, colorindex = 31, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge grenat",costs = 20000, colorindex = 32, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge solaire",costs = 20000, colorindex = 33, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge cabernet",costs = 20000, colorindex = 34, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge sang",costs = 20000, colorindex = 143, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge fraise",costs = 20000, colorindex = 35, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rose vif",costs = 20000, colorindex = 135, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rose Pfister",costs = 20000, colorindex = 137, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Saumon",costs = 20000, colorindex = 136, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Orange profond",costs = 20000, colorindex = 36, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Orange",costs = 20000, colorindex = 38, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Orange vif",costs = 20000, colorindex = 138, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Or",costs = 20000, colorindex = 99, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bronze",costs = 20000, colorindex = 90, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Jaune",costs = 20000, colorindex = 88, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Jaune racing",costs = 20000, colorindex = 89, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Jaune pÃ¢le",costs = 20000, colorindex = 91, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert foncÃ©",costs = 20000, colorindex = 49, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert racing",costs = 20000, colorindex = 50, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert marin",costs = 20000, colorindex = 51, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert olive",costs = 20000, colorindex = 52, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert clair",costs = 20000, colorindex = 53, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert pÃ©trole",costs = 20000, colorindex = 54, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert lime",costs = 20000, colorindex = 92, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu nocturne",costs = 20000, colorindex = 141, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu galaxie",costs = 20000, colorindex = 61, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu foncÃ©",costs = 20000, colorindex = 62, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu cobalt",costs = 20000, colorindex = 63, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu",costs = 20000, colorindex = 64, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu ciel",costs = 20000, colorindex = 65, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu ardoise",costs = 20000, colorindex = 66, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu diamant",costs = 20000, colorindex = 67, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu Ã©cume",costs = 20000, colorindex = 68, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu nautique",costs = 20000, colorindex = 69, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu racing",costs = 20000, colorindex = 73, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu ultra",costs = 20000, colorindex = 70, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu clair",costs = 20000, colorindex = 74, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Chocolat",costs = 20000, colorindex = 96, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun bison",costs = 20000, colorindex = 101, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun beige",costs = 20000, colorindex = 95, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun Feltzer",costs = 20000, colorindex = 94, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun Ã©rable",costs = 20000, colorindex = 97, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun cannelle",costs = 20000, colorindex = 103, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Terre de sienne",costs = 20000, colorindex = 104, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Beige",costs = 20000, colorindex = 98, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun vert",costs = 20000, colorindex = 100, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun hÃªtre",costs = 20000, colorindex = 102, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun paille",costs = 20000, colorindex = 99, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun sable",costs = 20000, colorindex = 105, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Beige clair",costs = 20000, colorindex = 106, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Mauve Schafter",costs = 20000, colorindex = 71, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Mauve Spinnaker",costs = 20000, colorindex = 72, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Mauve nocturne",costs = 20000, colorindex = 142, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Violet",costs = 20000, colorindex = 145, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "CrÃ¨me",costs = 20000, colorindex = 107, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Blanc glacier",costs = 20000, colorindex = 111, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Blanc givre",costs = 20000, colorindex = 112, description = "", centre = 0, font = 0, scale = 0.4}
			}
		},
		["secondaryclassic"] = { 
			title = "Couleur secondaire", 
			name = "secondaryclassic",
			buttons = { 
				{name = "Noir",costs = 20000, colorindex = 0, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Noir carbone",costs = 20000, colorindex = 147, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Graphique",costs = 20000, colorindex = 1, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Anthracite",costs = 20000, colorindex = 11, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Acier noir",costs = 20000, colorindex = 2, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Acier foncÃ©",costs = 20000, colorindex = 3, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent",costs = 20000, colorindex = 4, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent bleutÃ©",costs = 20000, colorindex = 5, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Acier laminÃ©",costs = 20000, colorindex = 6, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent sombre",costs = 20000, colorindex = 7, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent pierre",costs = 20000, colorindex = 8, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent nocturne",costs = 20000, colorindex = 9, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Argent bÃ©ton",costs = 20000, colorindex = 10, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge",costs = 20000, colorindex = 27, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge Torino",costs = 20000, colorindex = 28, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge Formula",costs = 20000, colorindex = 29, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge lave",costs = 20000, colorindex = 150, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge flamme",costs = 20000, colorindex = 30, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge gracieux",costs = 20000, colorindex = 31, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge grenat",costs = 20000, colorindex = 32, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge solaire",costs = 20000, colorindex = 33, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge cabernet",costs = 20000, colorindex = 34, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge sang",costs = 20000, colorindex = 143, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge fraise",costs = 20000, colorindex = 35, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rose vif",costs = 20000, colorindex = 135, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rose Pfister",costs = 20000, colorindex = 137, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Saumon",costs = 20000, colorindex = 136, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Orange profond",costs = 20000, colorindex = 36, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Orange",costs = 20000, colorindex = 38, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Orange vif",costs = 20000, colorindex = 138, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Or",costs = 20000, colorindex = 99, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bronze",costs = 20000, colorindex = 90, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Jaune",costs = 20000, colorindex = 88, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Jaune racing",costs = 20000, colorindex = 89, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Jaune pÃ¢le",costs = 20000, colorindex = 91, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert foncÃ©",costs = 20000, colorindex = 49, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert racing",costs = 20000, colorindex = 50, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert marin",costs = 20000, colorindex = 51, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert olive",costs = 20000, colorindex = 52, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert clair",costs = 20000, colorindex = 53, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert pÃ©trole",costs = 20000, colorindex = 54, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert lime",costs = 20000, colorindex = 92, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu nocturne",costs = 20000, colorindex = 141, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu galaxie",costs = 20000, colorindex = 61, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu foncÃ©",costs = 20000, colorindex = 62, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu cobalt",costs = 20000, colorindex = 63, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu",costs = 20000, colorindex = 64, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu ciel",costs = 20000, colorindex = 65, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu ardoise",costs = 20000, colorindex = 66, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu diamant",costs = 20000, colorindex = 67, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu Ã©cume",costs = 20000, colorindex = 68, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu nautique",costs = 20000, colorindex = 69, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu racing",costs = 20000, colorindex = 73, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu ultra",costs = 20000, colorindex = 70, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu clair",costs = 20000, colorindex = 74, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Chocolat",costs = 20000, colorindex = 96, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun bison",costs = 20000, colorindex = 101, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun beige",costs = 20000, colorindex = 95, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun Feltzer",costs = 20000, colorindex = 94, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun Ã©rable",costs = 20000, colorindex = 97, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun cannelle",costs = 20000, colorindex = 103, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Terre de sienne",costs = 20000, colorindex = 104, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Beige",costs = 20000, colorindex = 98, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun vert",costs = 20000, colorindex = 100, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun hÃªtre",costs = 20000, colorindex = 102, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun paille",costs = 20000, colorindex = 99, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Brun sable",costs = 20000, colorindex = 105, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Beige clair",costs = 20000, colorindex = 106, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Mauve Schafter",costs = 20000, colorindex = 71, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Mauve Spinnaker",costs = 20000, colorindex = 72, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Mauve nocturne",costs = 20000, colorindex = 142, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Violet",costs = 20000, colorindex = 145, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "CrÃ¨me",costs = 20000, colorindex = 107, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Blanc glacier",costs = 20000, colorindex = 111, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Blanc givre",costs = 20000, colorindex = 112, description = "", centre = 0, font = 0, scale = 0.4}
			}
		},["suspension"] = { 
			title = "suspensions", 
			name = "suspensions",
			buttons = { 
				{name = "Suspension de sÃ©rie",mod = -1,modtype =15, costs = 0, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Suspension rabaissÃ©e",mod = false,modtype =15, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Suspension de rue",mod = 1,modtype =15, costs = 100000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Suspension de sport",mod = 2,modtype =15, costs = 120000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Suspension de compÃ©tition",mod = 3,modtype =15, costs = 140000, description = "", centre = 0, font = 0, scale = 0.4}
			}
		},
		["transmission"] = { 
			title = "transmissions", 
			name = "transmission",
			buttons = { 
				{name = "Transmission de sÃ©rie",mod = -1,modtype =13, costs = 0, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Transmission de rue",mod = false,modtype =13, costs = 100000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Transmission de sport",mod = 1,modtype =13, costs = 140000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Transmission de course",mod = 2,modtype =13, costs = 180000, description = "", centre = 0, font = 0, scale = 0.4}
			}
		}
		,
		["turbo"] = { 
			title = "turbo", 
			name = "turbo",
			buttons = { 
				{name = "Aucun",mod = false,modtype =18, costs = 0, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Tuning turbo",mod = true,modtype =18, costs = 500000, description = "", centre = 0, font = 0, scale = 0.4}
			}
		},
		["wheels"] = { 
			title = "Roues", 
			name = "wheels",
			buttons = { 
				{name = "Type de roue", description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Couleur des jantes", description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Pneus", description = "", centre = 0, font = 0, scale = 0.4}
			}
		},
		["wheeltype"] = { 
			title = "Type de roue", 
			name = "wheeltype",
			buttons = { 
				
				{name = "Sport", wtype = false, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Muscle car", wtype = 1, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Lowrider", wtype = 2, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "SUV", wtype = 3, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Tout-terrain", wtype = 4, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Tuning", wtype = 5, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Haut de gamme", wtype = 7, description = "", centre = 0, font = 0, scale = 0.4},
			}
		},
		["sport"] = { 
			title = "sport", 
			name = "sport",
			buttons = { 
				{name = "Jantes de sÃ©rie", wtype = false, modtype = 23, mod = -1, costs = 130000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Inferno", wtype = false, modtype = 23, mod = false, costs = 130000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Deep Five", wtype = false, modtype = 23, mod = 1, costs = 130000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Lozspeed Mk.V", wtype = false, modtype = 23, mod = 2, costs = 130000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Diamond Cut", wtype = false, modtype = 23, mod = 3, costs = 130000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Chrono", wtype = false, modtype = 23, mod = 4, costs = 130000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Ferocci RR", wtype = false, modtype = 23, mod = 5, costs = 130000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "FiftyNine", wtype = false, modtype = 23, mod = 6, costs = 130000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Mercie", wtype = false, modtype = 23, mod = 7, costs = 130000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Synthetic Z", wtype = false, modtype = 23, mod = 8, costs = 130000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Organic Type 0", wtype = false, modtype = 23, mod = 9, costs = 130000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Endo v.1", wtype = false, modtype = 23, mod = 10, costs = 130000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Duper 7", wtype = false, modtype = 23, mod = 11, costs = 130000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Uzer", wtype = false, modtype = 23, mod = 12, costs = 130000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "GroundRide", wtype = false, modtype = 23, mod = 13, costs = 130000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "S Racer", wtype = false, modtype = 23, mod = 14, costs = 130000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Venum", wtype = false, modtype = 23, mod = 15, costs = 130000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Cosmo", wtype = false, modtype = 23, mod = 16, costs = 130000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Dash VIP", wtype = false, modtype = 23, mod = 17, costs = 130000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Ice Kid", wtype = false, modtype = 23, mod = 18, costs = 130000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Ruff Weld", wtype = false, modtype = 23, mod = 19, costs = 130000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Wangen Master", wtype = false, modtype = 23, mod = 20, costs = 130000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Super Five", wtype = false, modtype = 23, mod = 21, costs = 130000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Endo v.2", wtype = false, modtype = 23, mod = 22, costs = 130000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Split Six", wtype = false, modtype = 23, mod = 23, costs = 130000, description = "", centre = 0, font = 0, scale = 0.4},
			}
		},
		["suv"] = { 
			title = "suv", 
			name = "suv",
			buttons = { 
				{name = "Jantes de sÃ©rie", wtype = 3, modtype = 23, mod = -1, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "VIP", wtype = 3, modtype = 23, mod = false, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Benefactor", wtype = 3, modtype = 23, mod = 1, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Cosmo", wtype = 3, modtype = 23, mod = 2, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bippu", wtype = 3, modtype = 23, mod = 3, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Royal Six", wtype = 3, modtype = 23, mod = 4, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Fagorme", wtype = 3, modtype = 23, mod = 5, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Deluxe", wtype = 3, modtype = 23, mod = 6, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Iced Out", wtype = 3, modtype = 23, mod = 7, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Cognoscenti", wtype = 3, modtype = 23, mod = 8, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "LozSpeed Ten", wtype = 3, modtype = 23, mod = 9, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Supernova", wtype = 3, modtype = 23, mod = 10, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Obey RS", wtype = 3, modtype = 23, mod = 11, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "LozSpeed Baller", wtype = 3, modtype = 23, mod = 12, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Extravaganzo", wtype = 3, modtype = 23, mod = 13, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Split Six", wtype = 3, modtype = 23, mod = 14, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Empowered", wtype = 3, modtype = 23, mod = 15, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Sunrise", wtype = 3, modtype = 23, mod = 16, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Dash VIP", wtype = 3, modtype = 23, mod = 17, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Cutter", wtype = 3, modtype = 23, mod = 18, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
			}
		},
		["offroad"] = { 
			title = "Tout terrain", 
			name = "offroad",
			buttons = { 
				{name = "Jantes de sÃ©rie", wtype = 4, modtype = 23, mod = -1, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Raider", wtype = 4, modtype = 23, mod = false, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Mudslinger", modtype = 23, mod = 1, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Nevis", wtype = 4, modtype = 23, mod = 2, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Cairngorm", wtype = 4, modtype = 23, mod = 3, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Amazon", wtype = 4, modtype = 23, mod = 4, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Challenger", wtype = 4, modtype = 23, mod = 5, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Dune Basher", wtype = 4, modtype = 23, mod = 6, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Five Star", wtype = 4, modtype = 23, mod = 7, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rock Crawler", wtype = 4, modtype = 23, mod = 8, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Mil Spec Steelie", wtype = 4, modtype = 23, mod = 9, costs = 80000, description = "", centre = 0, font = 0, scale = 0.4},
			}
		},
		["tuner"] = { 
			title = "Tuning", 
			name = "tuner",
			buttons = { 
				{name = "Jantes de sÃ©rie", wtype = 5, modtype = 23, mod = -1, costs = 110000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Cosmo", wtype = 5, modtype = 23, mod = false, costs = 110000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Super Mesh", wtype = 5, modtype = 23, mod = 1, costs = 110000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Outsider", wtype = 5, modtype = 23, mod = 2, costs = 110000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rollas", wtype = 5, modtype = 23, mod = 3, costs = 110000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Driffmeister", wtype = 5, modtype = 23, mod = 4, costs = 110000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Slicer", wtype = 5, modtype = 23, mod = 5, costs = 110000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "El Quatro", wtype = 5, modtype = 23, mod = 6, costs = 110000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Dubbed", wtype = 5, modtype = 23, mod = 7, costs = 110000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Five Star", wtype = 5, modtype = 23, mod = 8, costs = 110000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Slideways", wtype = 5, modtype = 23, mod = 9, costs = 110000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Apex", wtype = 5, modtype = 23, mod = 10, costs = 110000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Stanced EG", wtype = 5, modtype = 23, mod = 11, costs = 110000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Countersteer", wtype = 5, modtype = 23, mod = 12, costs = 110000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Endo v.1", wtype = 5, modtype = 23, mod = 13, costs = 110000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Endo v.2 Dish", wtype = 5, modtype = 23, mod = 14, costs = 110000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Gruppe Z", wtype = 5, modtype = 23, mod = 15, costs = 110000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Choku-Dori", wtype = 5, modtype = 23, mod = 16, costs = 110000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Chicane", wtype = 5, modtype = 23, mod = 17, costs = 110000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Saisoku", wtype = 5, modtype = 23, mod = 18, costs = 110000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Dished Eight", wtype = 5, modtype = 23, mod = 19, costs = 110000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Fujiwara", wtype = 5, modtype = 23, mod = 20, costs = 110000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Zokusha", wtype = 5, modtype = 23, mod = 21, costs = 110000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Battle VIII", wtype = 5, modtype = 23, mod = 22, costs = 110000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rally Master", wtype = 5, modtype = 23, mod = 23, costs = 110000, description = "", centre = 0, font = 0, scale = 0.4},
			}
		},
		["highend"] = { 
			title = "Haut de gamme", 
			name = "highend",
			buttons = { 
				{name = "Jantes de sÃ©rie", wtype = 7, modtype = 23, mod = -1, costs = 150000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Shadow", wtype = 7, modtype = 23, mod = false, costs = 150000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Hypher", wtype = 7, modtype = 23, mod = 1, costs = 150000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Blade", wtype = 7, modtype = 23, mod = 2, costs = 150000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Diamond", wtype = 7, modtype = 23, mod = 3, costs = 150000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Supa Gee", wtype = 7, modtype = 23, mod = 4, costs = 150000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Chromatic Z", wtype = 7, modtype = 23, mod = 5, costs = 150000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Mercie Ch.Lip", wtype = 7, modtype = 23, mod = 6, costs = 150000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Obey RS", wtype = 7, modtype = 23, mod = 7, costs = 150000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "GT Chrome", wtype = 7, modtype = 23, mod = 8, costs = 150000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Cheetah RR", wtype = 7, modtype = 23, mod = 9, costs = 150000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Solar", wtype = 7, modtype = 23, mod = 10, costs = 150000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Split Ten", wtype = 7, modtype = 23, mod = 11, costs = 150000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Dash VIP", wtype = 7, modtype = 23, mod = 12, costs = 150000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "LozSpeed Ten", wtype = 7, modtype = 23, mod = 13, costs = 150000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Carbon Inferno", wtype = 7, modtype = 23, mod = 14, costs = 150000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Carbon Shadow", wtype = 7, modtype = 23, mod = 15, costs = 150000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Carbonic Z", wtype = 7, modtype = 23, mod = 16, costs = 150000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Carbon Solar", wtype = 7, modtype = 23, mod = 17, costs = 150000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Cheetah Carbon R", wtype = 7, modtype = 23, mod = 18, costs = 150000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Carbon S Racer", wtype = 7, modtype = 23, mod = 19, costs = 150000, description = "", centre = 0, font = 0, scale = 0.4},
			}
		},
		["lowrider"] = { 
			title = "lowrider", 
			name = "lowrider",
			buttons = { 
				{name = "Jantes de sÃ©rie", wtype = 2, modtype = 23, mod = -1, costs = 140000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Flare", wtype = 2, modtype = 23, mod = false, costs = 140000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Wired", wtype = 2, modtype = 23, mod = 1, costs = 140000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Triple Golds", wtype = 2, modtype = 23, mod = 2, costs = 140000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Big Worm", wtype = 2, modtype = 23, mod = 3, costs = 140000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Seven Fives", wtype = 2, modtype = 23, mod = 4, costs = 140000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Split Six", wtype = 2, modtype = 23, mod = 5, costs = 140000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Fresh Mesh", wtype = 2, modtype = 23, mod = 6, costs = 140000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Lead Sled", wtype = 2, modtype = 23, mod = 7, costs = 140000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Turbine", wtype = 2, modtype = 23, mod = 8, costs = 140000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Super Fin", wtype = 2, modtype = 23, mod = 9, costs = 140000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Classic Rod", wtype = 2, modtype = 23, mod = 10, costs = 140000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Dollar", wtype = 2, modtype = 23, mod = 11, costs = 140000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Dukes", wtype = 2, modtype = 23, mod = 12, costs = 140000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Low Five", wtype = 2, modtype = 23, mod = 13, costs = 140000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Gooch", wtype = 2, modtype = 23, mod = 14, costs = 140000, description = "", centre = 0, font = 0, scale = 0.4},
			}
		},
		["muscle"] = { 
			title = "Muscle car", 
			name = "muscle",
			buttons = { 
				{name = "Jantes de sÃ©rie", wtype = 1, modtype = 23, mod = -1, costs = 120000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Classic Five", wtype = 1, modtype = 23, mod = false, costs = 120000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Dukes", wtype = 1, modtype = 23, mod = 1, costs = 120000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Muscle Freak", wtype = 1, modtype = 23, mod = 2, costs = 120000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Kracka", wtype = 1, modtype = 23, mod = 3, costs = 120000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Azreal", wtype = 1, modtype = 23, mod = 4, costs = 120000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Mecha", wtype = 1, modtype = 23, mod = 5, costs = 120000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Black Top", wtype = 1, modtype = 23, mod = 6, costs = 120000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Drag SPL", wtype = 1, modtype = 23, mod = 7, costs = 120000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Revolver", wtype = 1, modtype = 23, mod = 8, costs = 120000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Classic Rod", wtype = 1, modtype = 23, mod = 9, costs = 120000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Spooner", wtype = 1, modtype = 23, mod = 10, costs = 120000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Five Star", wtype = 1, modtype = 23, mod = 11, costs = 120000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Old School", wtype = 1, modtype = 23, mod = 12, costs = 120000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "El Jefe", wtype = 1, modtype = 23, mod = 13, costs = 120000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Dodman", wtype = 1, modtype = 23, mod = 14, costs = 120000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Six Gun", wtype = 1, modtype = 23, mod = 15, costs = 120000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Mercenary", wtype = 1, modtype = 23, mod = 16, costs = 120000, description = "", centre = 0, font = 0, scale = 0.4},
			}
		},
		["frontwheel"] = { 
			title = "Roue avant", 
			name = "frontwheel",
			buttons = { 
				{name = "Stock", wtype = 6, modtype = 23, mod = -1, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Speedway", wtype = 6, modtype = 23, mod = false, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Street Special", wtype = 6, modtype = 23, mod = 1, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Racer", wtype = 6, modtype = 23, mod = 2, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Track Star", wtype = 6, modtype = 23, mod = 3, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Overlord", wtype = 6, modtype = 23, mod = 4, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Trident", wtype = 6, modtype = 23, mod = 5, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Triple Threat", wtype = 6, modtype = 23, mod = 6, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Stileto", wtype = 6, modtype = 23, mod = 7, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Wires", wtype = 6, modtype = 23, mod = 8, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bobber", wtype = 6, modtype = 23, mod = 9, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Solidus", wtype = 6, modtype = 23, mod = 10, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Ice Shield", wtype = 6, modtype = 23, mod = 11, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Loops", wtype = 6, modtype = 23, mod = 12, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
			}
		},
		["backwheel"] = { 
			title = "Roue arriere", 
			name = "backwheel",
			buttons = { 
				{name = "Stock", wtype = 6, modtype = 24, mod = -1, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Speedway", wtype = 6, modtype = 24, mod = false, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Street Special", wtype = 6, modtype = 24, mod = 1, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Racer", wtype = 6, modtype = 24, mod = 2, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Track Star", wtype = 6, modtype = 24, mod = 3, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Overlord", wtype = 6, modtype = 24, mod = 4, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Trident", wtype = 6, modtype = 24, mod = 5, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Triple Threat", wtype = 6, modtype = 24, mod = 6, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Stileto", wtype = 6, modtype = 24, mod = 7, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Wires", wtype = 6, modtype = 24, mod = 8, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bobber", wtype = 6, modtype = 24, mod = 9, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Solidus", wtype = 6, modtype = 24, mod = 10, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Ice Shield", wtype = 6, modtype = 24, mod = 11, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Loops", wtype = 6, modtype = 24, mod = 12, costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
			}
		},["lights"] = { 
			title = "eclairage", 
			name = "lights",
			buttons = { 
				{name = "Phares", description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Kits nÃ©on", description = "", centre = 0, font = 0, scale = 0.4}
			}
		},
		["neonkits"] = { 
			title = "Kits neon", 
			name = "neonkits",
			buttons = { 
				{name = "Support nÃ©on", description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Couleur nÃ©on", description = "", centre = 0, font = 0, scale = 0.4}
			}
		},
		["neonlayout"] = { 
			title = "Support neon", 
			name = "neonlayout",
			buttons = { 
				{name = "Aucun",costs = 0, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Avant,arriÃ¨re et cÃ´tÃ©s",costs =170000, description = "", centre = 0, font = 0, scale = 0.4}
			}
		},
		["neoncolor"] = { 
			title = "Couleur neon", 
			name = "neoncolor",
			buttons = { 
				{name = "Blanc", color = {255,255,255}, costs = 100000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu", color = {0,0,255}, costs = 100000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu Ã©lectrique", color = {0,150,255}, costs = 100000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert menthe", color = {50,255,155}, costs = 100000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Vert lime", color = {0,255,0}, costs = 100000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Jaune", color = {255,255,0}, costs = 100000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "FiÃ¨vre jaune", color = {204,204,0}, costs = 100000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Orange", color = {255,128,0}, costs = 100000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rouge", color = {255,0,0}, costs = 100000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rose bonbon", color = {255,102,255}, costs = 100000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Rose vif", color = {255,0,255}, costs = 100000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Violet", color = {153,0,153}, costs = 100000, description = "", centre = 0, font = 0, scale = 0.4},
			}
		},
		["headlights"] = { 
			title = "Phares", 
			name = "headlights",
			buttons = { 
				{name = "Phares de sÃ©rie",mod = false, modtype = 22,costs = 0, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Phares au xÃ©non",mod = true,modtype = 22,costs = 250000, description = "", centre = 0, font = 0, scale = 0.4}
			}
		},
		["plate"] = { 
			title = "Plaque", 
			name = "plate",
			buttons = { 
				{name = "Bleu sur blanc 1",plateindex = false,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu sur blanc 2",plateindex = 3,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Bleu sur blanc 3",plateindex = 4,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Jaune sur bleu",plateindex = 2,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Jaune sur noir",plateindex = 1,costs = 30000, description = "", centre = 0, font = 0, scale = 0.4}
			}
		},
		["repair"] = { 
		title = "CATEGORIES", 
		name = "repair",
		buttons = { 
			{name = "RÃ©parer le vÃ©hicule", description = "Faites rÃ©parer la carrosserie et entretenir le moteur.", costs = 20000, centre = 0, font = 0, scale = 0.4}
			
		}
	},
	["armor"] = { 
		title = "blindage", 
		name = "armor",
		buttons = { 
			{name = "Aucun",modtype = 16, mod = -1,costs = 0, description = "", centre = 0, font = 0, scale = 0.4},
			{name = "Blindage amÃ©liorÃ© de 20%",modtype = 16, mod = false, costs = 120000, description = "", centre = 0, font = 0, scale = 0.4},
			{name = "Blindage amÃ©liorÃ© de 40%",modtype = 16, mod = 1, costs = 150000, description = "", centre = 0, font = 0, scale = 0.4},
			{name = "Blindage amÃ©liorÃ© de 60%",modtype = 16, mod = 2, costs = 200000, description = "", centre = 0, font = 0, scale = 0.4},
			{name = "Blindage amÃ©liorÃ© de 80%",modtype = 16, mod = 3, costs = 300000, description = "", centre = 0, font = 0, scale = 0.4},
			{name = "Blindage amÃ©liorÃ© de 100%",modtype = 16, mod = 4, costs = 400000, description = "", centre = 0, font = 0, scale = 0.4}
			
		}
	},
	["brakes"] = { 
		title = "freins", 
		name = "brakes",
		buttons = { 
			{name = "Freins de sÃ©rie",modtype = 12, mod = -1, costs = 0, description = "", centre = 0, font = 0, scale = 0.4},
			{name = "Freins de rue",modtype = 12, mod = false, costs = 100000, description = "", centre = 0, font = 0, scale = 0.4},
			{name = "Freins de sport",modtype = 12, mod = 1, costs = 120000, description = "", centre = 0, font = 0, scale = 0.4},
			{name = "Freins de course",modtype = 12, mod = 2, costs = 140000, description = "", centre = 0, font = 0, scale = 0.4}
			
		}
	},
	["engine"] = { 
		title = "moteur", 
		name = "engine",
		buttons = { 
			{name = "Reprog moteur Niv.1",modtype = 11, mod = -1, costs = 200000, description = "", centre = 0, font = 0, scale = 0.4},
			{name = "Reprog moteur Niv.2",modtype = 11, mod = false, costs = 280000, description = "", centre = 0, font = 0, scale = 0.4},
			{name = "Reprog moteur Niv.3",modtype = 11, mod = 1, costs = 400000, description = "", centre = 0, font = 0, scale = 0.4},
			{name = "Reprog moteur Niv.4",modtype = 11, mod = 2, costs = 500000, description = "", centre = 0, font = 0, scale = 0.4}
		}
	},
	["horn"] = { 
			title = "klaxon", 
			name = "horn",
			buttons = { 
				{name = "Klaxon de sÃ©rie",modtype = 14, mod = -1,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Klaxon de camion",modtype = 14, mod = false,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Klaxon de clown",modtype = 14, mod = 2,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Klaxon musical 1",modtype = 14, mod = 3,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Klaxon musical 2",modtype = 14, mod = 4,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Klaxon musical 3",modtype = 14, mod = 5,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Klaxon musical 4",modtype = 14, mod = 6,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Klaxon musical 5",modtype = 14, mod = 7,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Klaxon trombone triste",modtype = 14, mod = 8,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Klaxon classique 1",modtype = 14, mod = 9,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Klaxon classique 2",modtype = 14, mod = 10,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Klaxon classique 3",modtype = 14, mod = 11,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Klaxon classique 4",modtype = 14, mod = 12,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Klaxon classique 5",modtype = 14, mod = 13,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Klaxon classique 6",modtype = 14, mod = 14,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Klaxon classique 7",modtype = 14, mod = 15,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Gamme - Do",modtype = 14, mod = 16,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Gamme - RÃ©",modtype = 14, mod = 17,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Gamme - Mi",modtype = 14, mod = 18,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Gamme - Fa",modtype = 14, mod = 19,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Gamme - Sol",modtype = 14, mod = 20,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Gamme - La",modtype = 14, mod = 21,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Gamme - Si",modtype = 14, mod = 22,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Gamme - Do (sup.)",modtype = 14, mod = 23,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Klaxon jazzy 1",modtype = 14, mod = 25,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Klaxon jazzy 2",modtype = 14, mod = 26,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Klaxon jazzy 3",modtype = 14, mod = 27,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Jazzloop Horn",modtype = 14, mod = 28,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Starspangban Horn 1",modtype = 14, mod = 29,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Starspangban Horn 2",modtype = 14, mod = 30,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Starspangban Horn 3",modtype = 14, mod = 31,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Starspangban Horn 4",modtype = 14, mod = 32,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Classicalloop Horn 1",modtype = 14, mod = 33,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Classical Horn 8",modtype = 14, mod = 34,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4},
				{name = "Classicalloop Horn 2",modtype = 14, mod = 35,costs = 60000, description = "", centre = 0, font = 0, scale = 0.4}
			}
		},
	}
}

local vehiclecol = {}
local extracol = {}
wheeltype = nil
local neoncolor = nil
local plateindex = nil
local windowtint = nil
local mods = {
[0] = { mod = nil },
[1] = { mod = nil },
[2] = { mod = nil },
[3] = { mod = nil },
[4] = { mod = nil },
[5] = { mod = nil },
[6] = { mod = nil },
[7] = { mod = nil },
[8] = { mod = nil },
[9] = { mod = nil },
[10] = { mod = nil },
[11] = { mod = nil },
[12] = { mod = nil },
[13] = { mod = nil },
[14] = { mod = nil },
[15] = { mod = nil },
[16] = { mod = nil },
[23] = { mod = nil },
[24] = { mod = nil },
}

function f(n)
return n + 0.0001
end

function LocalPed()
return GetPlayerPed(-1)
end

function try(f, catch_f)
local status, exception = pcall(f)
if not status then
catch_f(exception)
end
end
function firstToUpper(str)
    return (str:gsub("^%l", string.upper))
end
function DriveInGarage()
		local pos = lsc.currentpos.inside
		--TriggerServerEvent('print',"start")
		----Citizen.Trace("forcin' respawn\n")
		local ped = GetPlayerPed(-1)
		local veh = GetVehiclePedIsUsing(ped)
		if DoesEntityExist(veh) then

			if IsVehicleDamaged(veh) then
				lsc.currentmenu = 'repair'
			else
				lsc.currentmenu = "main"
			end
			
			SetVehicleModKit(veh,0)	
			local bumper = false
			local insrt = table.insert
			lsc.menu["main"].buttons = {}
			lsc.menu["bumpers"].buttons = {}
			for i = 0,16 do
				if GetNumVehicleMods(veh,i) ~= nil and GetNumVehicleMods(veh,i) ~= false then
						if i == 16 then
							insrt(lsc.menu["main"].buttons, {name = "Blindage", description = "", centre = 0, font = 0, scale = 0.4})
						elseif i == 15 then
							insrt(lsc.menu["main"].buttons, {name = "Suspension", description = "", centre = 0, font = 0, scale = 0.4})
						elseif i == 13 then
							insrt(lsc.menu["main"].buttons, {name = "Transmission", description = "", centre = 0, font = 0, scale = 0.4})
						elseif i == 14 then
							insrt(lsc.menu["main"].buttons, {name = "Klaxon", description = "", centre = 0, font = 0, scale = 0.4})
						elseif i == 12 then
							insrt(lsc.menu["main"].buttons, {name = "Freins", description = "", centre = 0, font = 0, scale = 0.4})
						elseif i == 11 then
							insrt(lsc.menu["main"].buttons, {name = "Moteur", description = "", centre = 0, font = 0, scale = 0.4})
						elseif i == 0 then
							insrt(lsc.menu["main"].buttons, {name = "Arceau", description = "", centre = 0, font = 0, scale = 0.4})
						elseif i == 1 then
							bumper = true
							insrt(lsc.menu["bumpers"].buttons, {name = "Pare-chocs avant", description = "", centre = 0, font = 0, scale = 0.4})
						elseif i == 2 then
							bumper = true
							insrt(lsc.menu["bumpers"].buttons, {name = "Pare-chocs arriÃ¨re", description = "", centre = 0, font = 0, scale = 0.4})
						elseif i == 3 then
							insrt(lsc.menu["main"].buttons, {name = "Bas de caisse", description = "", centre = 0, font = 0, scale = 0.4})
						elseif i == 4 then
							insrt(lsc.menu["main"].buttons, {name = "Ã‰chappement", description = "", centre = 0, font = 0, scale = 0.4})
						elseif i == 5 then
							insrt(lsc.menu["main"].buttons, {name = "Aileron", description = "", centre = 0, font = 0, scale = 0.4})
						elseif i == 6 then
							insrt(lsc.menu["main"].buttons, {name = "Calandre", description = "", centre = 0, font = 0, scale = 0.4})
						elseif i == 7 then
							insrt(lsc.menu["main"].buttons, {name = "Capot", description = "", centre = 0, font = 0, scale = 0.4})
						elseif i == 8 then
							insrt(lsc.menu["main"].buttons, {name = "Ailes", description = "", centre = 0, font = 0, scale = 0.4})
						elseif i == 9 then
							--insrt(lsc.menu["main"].buttons, {name = "Fenders2", description = "", centre = 0, font = 0, scale = 0.4})
						elseif i == 10 then
							insrt(lsc.menu["main"].buttons, {name = "Toit", description = "", centre = 0, font = 0, scale = 0.4})
						end
				end
			end
			
			if bumper then
			insrt(lsc.menu["main"].buttons, {name = "Pare-chocs", description = "", centre = 0, font = 0, scale = 0.4})
			end
			insrt(lsc.menu["main"].buttons, {name = "Ã‰clairage", description = "", centre = 0, font = 0, scale = 0.4})
			insrt(lsc.menu["main"].buttons, {name = "Plaque", description = "", centre = 0, font = 0, scale = 0.4})
			insrt(lsc.menu["main"].buttons, {name = "Peinture", description = "Modifiez l'apparence du vÃ©hicule'", centre = 0, font = 0, scale = 0.4})
			insrt(lsc.menu["main"].buttons, {name = "Turbo", description = "", centre = 0, font = 0, scale = 0.4})
			insrt(lsc.menu["main"].buttons, {name = "Roues", description = "", centre = 0, font = 0, scale = 0.4})
			insrt(lsc.menu["main"].buttons, {name = "FenÃªtres", description = "", centre = 0, font = 0, scale = 0.4})
			if IsThisModelABike(GetEntityModel(veh)) then
				lsc.menu["wheeltype"].buttons = {}
				insrt(lsc.menu["wheeltype"].buttons, {name = "Roue avant", wtype = 6, description = "", centre = 0, font = 0, scale = 0.4})
				insrt(lsc.menu["wheeltype"].buttons, {name = "Roue arriÃ¨re", wtype = 6, description = "", centre = 0, font = 0, scale = 0.4})
			end
			--TriggerServerEvent('print',"finished main")
			SetVehicleModKit(veh,0)	
			local mod = 1
			lsc.menu["frontbumper"].buttons = {}
			----Citizen.Trace(tostring(veh).." mod:"..mod.." num:"..tostring(GetNumVehicleMods(veh,mod)))
			if GetNumVehicleMods(veh,mod) ~= nil and GetNumVehicleMods(veh,mod) ~= false then
				insrt(lsc.menu["frontbumper"].buttons , {name = "Aucun",modtype = mod,costs = 50000,mod = -1, description = "", centre = 0, font = 0, scale = 0.4})
				for i = 0, tonumber(GetNumVehicleMods(veh,mod)) -1 do
					local lbl = GetModTextLabel(veh,mod,i)
					--TriggerServerEvent('print',tostring(lbl))
					--Citizen.Trace(tostring(lbl))
					--Citizen.Trace(GetLabelText(lbl))
					if lbl ~= nil then
						local name = tostring(GetLabelText(lbl))
						if name ~= "NULL" then
							insrt(lsc.menu["frontbumper"].buttons, {name = name,modtype = mod,costs = 50000,mod = i, description = "", centre = 0, font = 0, scale = 0.4})
							--Citizen.Trace(name.." "..mod.." "..i)
						end
					end
				end
			end
			--Citizen.Trace('finished frontbumper')
			SetVehicleModKit(veh,0)	
			--Citizen.Trace('set modkit')
			mod = 2
			--Citizen.Trace('finished mod setting')
			lsc.menu["rearbumper"].buttons = {}
			--Citizen.Trace('finished clearning btns')
			--Citizen.Trace(tostring(veh).." mod:"..mod.." num:"..tostring(GetNumVehicleMods(veh,mod)))
			if GetNumVehicleMods(veh,mod) ~= nil and GetNumVehicleMods(veh,mod) ~= false then
				insrt(lsc.menu["rearbumper"].buttons, {name = "Aucun",modtype = mod,costs = 50000,mod = -1, description = "", centre = 0, font = 0, scale = 0.4})
				for i = 0,  tonumber(GetNumVehicleMods(veh,mod)) -1 do
					local lbl = GetModTextLabel(veh,mod,i)
					--Citizen.Trace(tostring(lbl))
					--Citizen.Trace(GetLabelText(lbl))
					if lbl ~= nil then
						local name = tostring(GetLabelText(lbl))
						if name ~= "NULL" then
							insrt(lsc.menu["rearbumper"].buttons, {name = name,modtype = mod,costs = 50000,mod = i, description = "", centre = 0, font = 0, scale = 0.4})
							--Citizen.Trace(name.." "..mod.." "..mod)
						end
					end
				end
			end
			mod = 4
			SetVehicleModKit(veh,0)	
			lsc.menu["exhaust"].buttons = {}
			--Citizen.Trace(tostring(veh).." mod:"..mod.." num:"..tostring(GetNumVehicleMods(veh,mod)))
			if GetNumVehicleMods(veh,mod) ~= nil and GetNumVehicleMods(veh,mod) ~= false then
				insrt(lsc.menu["exhaust"].buttons, {name = "Aucun",modtype = mod,costs = 40000,mod = -1, description = "", centre = 0, font = 0, scale = 0.4})
				for i = 0,   tonumber(GetNumVehicleMods(veh,mod)) -1 do
					local lbl = GetModTextLabel(veh,mod,i)
					--Citizen.Trace(tostring(lbl))
					--Citizen.Trace(GetLabelText(lbl))
					if lbl ~= nil then
						local name = tostring(GetLabelText(lbl))
						if name ~= "NULL" then
							insrt(lsc.menu["exhaust"].buttons, {name = name,modtype = mod,costs = 40000,mod = i, description = "", centre = 0, font = 0, scale = 0.4})
							--Citizen.Trace(name.." "..mod.." "..mod)
						end
					end
				end		
			end
			mod = 8
			lsc.menu["fenders"].buttons = {}
			SetVehicleModKit(veh,0)	
			--Citizen.Trace(tostring(veh).." mod:"..mod.." num:"..tostring(GetNumVehicleMods(veh,mod)))
			if GetNumVehicleMods(veh,mod) ~= nil and GetNumVehicleMods(veh,mod) ~= false then
				insrt(lsc.menu["fenders"].buttons, {name = "Aucun",modtype = mod,costs = 50000,mod = -1, description = "", centre = 0, font = 0, scale = 0.4})
				for i = 0,   tonumber(GetNumVehicleMods(veh,mod)) -1 do
					local lbl = GetModTextLabel(veh,mod,i)
					--Citizen.Trace(tostring(lbl))
					--Citizen.Trace(GetLabelText(lbl))
					if lbl ~= nil then
						local name = tostring(GetLabelText(lbl))
						if name ~= "NULL" then
							insrt(lsc.menu["fenders"].buttons, {name = name,modtype = mod,costs = 50000,mod = i, description = "", centre = 0, font = 0, scale = 0.4})
							--Citizen.Trace(name.." "..mod.." "..mod)
						end
					end
				end	
			end
			mod = 9
			SetVehicleModKit(veh,0)	
			if GetNumVehicleMods(veh,mod) ~= nil and GetNumVehicleMods(veh,mod) ~= false then
				for i = 0,   tonumber(GetNumVehicleMods(veh,mod)) -1 do
					local lbl = GetModTextLabel(veh,mod,i)
					--Citizen.Trace(tostring(lbl))
					--Citizen.Trace(GetLabelText(lbl))
					if lbl ~= nil then
						local name = tostring(GetLabelText(lbl))
						if name ~= "NULL" then
							insrt(lsc.menu["fenders"].buttons, {name = name,modtype = mod,costs = 50000,mod = i, description = "", centre = 0, font = 0, scale = 0.4})
						end
					end
				end	
			end
			mod = 7
			lsc.menu["hood"].buttons = {}
			SetVehicleModKit(veh,0)	
			--Citizen.Trace(tostring(veh).." mod:"..mod.." num:"..tostring(GetNumVehicleMods(veh,mod)))
			if GetNumVehicleMods(veh,mod) ~= nil and GetNumVehicleMods(veh,mod) ~= false then
				insrt(lsc.menu["hood"].buttons, {name = "Aucun",modtype = mod,costs = 70000,mod = -1, description = "", centre = 0, font = 0, scale = 0.4})
				for i = 0,    tonumber(GetNumVehicleMods(veh,mod)) -1 do
					local lbl = GetModTextLabel(veh,mod,i)
					--Citizen.Trace(tostring(lbl))
					--Citizen.Trace(GetLabelText(lbl))
					if lbl ~= nil then
						local name = tostring(GetLabelText(lbl))
						if name ~= "NULL" then
							insrt(lsc.menu["hood"].buttons, {name = name,modtype = mod,costs = 70000,mod = i, description = "", centre = 0, font = 0, scale = 0.4})
							--Citizen.Trace(name.." "..mod.." "..mod)
						end
					end
				end	
			end
			
			mod = 5
			lsc.menu["rollcage"].buttons = {}
			SetVehicleModKit(veh,0)	
			--Citizen.Trace(tostring(veh).." mod:"..mod.." num:"..tostring(GetNumVehicleMods(veh,mod)))
			if GetNumVehicleMods(veh,mod) ~= nil and GetNumVehicleMods(veh,mod) ~= false then
				insrt(lsc.menu["rollcage"].buttons, {name = "Aucun",modtype = mod,costs = 50000,mod = -1, description = "", centre = 0, font = 0, scale = 0.4})
				for i = 0,    tonumber(GetNumVehicleMods(veh,mod)) -1 do
					local lbl = GetModTextLabel(veh,mod,i)
					--Citizen.Trace(tostring(lbl))
					--Citizen.Trace(GetLabelText(lbl))
					if lbl ~= nil then
						local name = tostring(GetLabelText(lbl))
						if name ~= "NULL" then
							insrt(lsc.menu["rollcage"].buttons, {name = name,modtype = mod,costs = 50000,mod = i, description = "", centre = 0, font = 0, scale = 0.4})
							
							--Citizen.Trace(name.." "..mod.." "..mod)
						end
					end
				end	
			end
			
			mod = 10
			lsc.menu["roof"].buttons = {}
			SetVehicleModKit(veh,0)	
			--Citizen.Trace(tostring(veh).." mod:"..mod.." num:"..tostring(GetNumVehicleMods(veh,mod)))
			if GetNumVehicleMods(veh,mod) ~= nil and GetNumVehicleMods(veh,mod) ~= false then
				insrt(lsc.menu["roof"].buttons, {name = "Aucun",modtype = mod,costs = 60000,mod = -1, description = "", centre = 0, font = 0, scale = 0.4})
				for i = 0,    tonumber(GetNumVehicleMods(veh,mod)) -1 do
					local lbl = GetModTextLabel(veh,mod,i)
					--Citizen.Trace(tostring(lbl))
					--Citizen.Trace(GetLabelText(lbl))
					if lbl ~= nil then
						local name = tostring(GetLabelText(lbl))
						if name ~= "NULL" then
							insrt(lsc.menu["roof"].buttons, {name = name,modtype = mod,costs = 60000,mod = i, description = "", centre = 0, font = 0, scale = 0.4})
							
							--Citizen.Trace(name.." "..mod.." "..mod)
						end
					end
				end	
			end
			
			mod = 3
			lsc.menu["skirts"].buttons = {}
			SetVehicleModKit(veh,0)	
			--Citizen.Trace(tostring(veh).." mod:"..mod.." num:"..tostring(GetNumVehicleMods(veh,mod)))
			if GetNumVehicleMods(veh,mod) ~= nil and GetNumVehicleMods(veh,mod) ~= false then
				insrt(lsc.menu["skirts"].buttons, {name = "Aucun",modtype = mod,costs = 50000,mod = -1, description = "", centre = 0, font = 0, scale = 0.4})
				for i = 0,   tonumber(GetNumVehicleMods(veh,mod)) -1 do
					local lbl = GetModTextLabel(veh,mod,i)
					--Citizen.Trace(tostring(lbl))
					--Citizen.Trace(GetLabelText(lbl))
					if lbl ~= nil then
						local name = tostring(GetLabelText(lbl))
						if name ~= "NULL" then
							insrt(lsc.menu["skirts"].buttons, {name = name,modtype = mod,costs = 50000,mod = i, description = "", centre = 0, font = 0, scale = 0.4})
							
							--Citizen.Trace(name.." "..mod.." "..mod)
						end
					end
				end	
			end
			
			mod = 0
			lsc.menu["spoiler"].buttons = {}
			SetVehicleModKit(veh,0)	
			--Citizen.Trace(tostring(veh).." mod:"..mod.." num:"..tostring(GetNumVehicleMods(veh,mod)))
			if GetNumVehicleMods(veh,mod) ~= nil and GetNumVehicleMods(veh,mod) ~= false then
				insrt(lsc.menu["spoiler"].buttons, {name = "Aucun",modtype = mod,costs = 50000,mod = -1, description = "", centre = 0, font = 0, scale = 0.4})
				for i = 0,   tonumber(GetNumVehicleMods(veh,mod)) -1 do
					local lbl = GetModTextLabel(veh,mod,i)
					--Citizen.Trace(tostring(lbl))
					--Citizen.Trace(GetLabelText(lbl))
					if lbl ~= nil then
						local name = tostring(GetLabelText(lbl))
						if name ~= "NULL" then
							insrt(lsc.menu["spoiler"].buttons, {name = name,modtype = mod,costs = 50000,mod = i, description = "", centre = 0, font = 0, scale = 0.4})
							
							--Citizen.Trace(name.." "..mod.." "..mod)
						end
					end
				end	
			end
			
			mod = 6
			lsc.menu["grille"].buttons = {}
			SetVehicleModKit(veh,0)	
			--Citizen.Trace(tostring(veh).." mod:"..mod.." num:"..tostring(GetNumVehicleMods(veh,mod)))
			if GetNumVehicleMods(veh,mod) ~= nil and GetNumVehicleMods(veh,mod) ~= false then
				insrt(lsc.menu["grille"].buttons, {name = "Aucun",modtype = mod,costs = 40000,mod = -1, description = "", centre = 0, font = 0, scale = 0.4})
				for i = 0,  tonumber(GetNumVehicleMods(veh,mod)) -1 do
					local lbl = GetModTextLabel(veh,mod,i)
					--Citizen.Trace(tostring(lbl))
					--Citizen.Trace(GetLabelText(lbl))
					if lbl ~= nil then
						local name = tostring(GetLabelText(lbl))
						if name ~= "NULL" then
							insrt(lsc.menu["grille"].buttons, {name = name,modtype = mod,costs = 40000,mod = i, description = "", centre = 0, font = 0, scale = 0.4})
							
							--Citizen.Trace(name.." "..mod.." "..mod)
						end
					end
				end	
			end
			
			mod = 5
			lsc.menu["chassis"].buttons = {}
			SetVehicleModKit(veh,0)	
			--Citizen.Trace(tostring(veh).." mod:"..mod.." num:"..tostring(GetNumVehicleMods(veh,mod)))
			if GetNumVehicleMods(veh,mod) ~= nil and GetNumVehicleMods(veh,mod) ~= false then
				insrt(lsc.menu["chassis"].buttons, {name = "Aucun",modtype = mod,costs = 50000,mod = -1, description = "", centre = 0, font = 0, scale = 0.4})
				for i = 0,  tonumber(GetNumVehicleMods(veh,mod)) -1 do
					local lbl = GetModTextLabel(veh,mod,i)
					--Citizen.Trace(tostring(lbl))
					--Citizen.Trace(GetLabelText(lbl))
					if lbl ~= nil then
						local name = tostring(GetLabelText(lbl))
						if name ~= "NULL" then
							insrt(lsc.menu["chassis"].buttons, {name = name,modtype = mod,costs = 50000,mod = i, description = "", centre = 0, font = 0, scale = 0.4})
							
							--Citizen.Trace(name.." "..mod.." "..mod)
						end
					end
				end	
			end
			lsc.inside = true
			vehiclecol = table.pack(GetVehicleColours(veh))
			extracol = table.pack(GetVehicleExtraColours(veh))
			neoncolor = table.pack(GetVehicleNeonLightsColour(veh))
			plateindex = GetVehicleNumberPlateTextIndex(veh)
			for i,t in pairs(mods) do 
				t.mod = GetVehicleMod(veh,i)
			end
			windowtint = GetVehicleWindowTint(veh)
			wheeltype = GetVehicleWheelType(veh)
			SetEntityCoordsNoOffset(veh,pos.x,pos.y,pos.z)
			SetEntityHeading(veh,pos.heading)
			SetVehicleOnGroundProperly(veh)
			FreezeEntityPosition(veh, true)
			SetVehicleDoorsLocked(veh,4)
			--SetPlayerInvincible(GetPlayerIndex(),true)
			--SetEntityInvincible(veh,true)
			--SetEntityCollision(veh,false,false)
			TriggerServerEvent('lockGarage',true,lsc.currentgarage)
		end
	
end

function DriveOutOfGarage(pos)
	SetStreamedTextureDictAsNoLongerNeeded("mpmissmarkers256")
	lsc.inside = false
	local ped = LocalPed()
	local veh = GetVehiclePedIsUsing(ped)
	SetEntityCoords(veh,pos.x,pos.y,pos.z)
	SetEntityHeading(veh,pos.heading)
	lsc.menu["frontbumper"].buttons = {}
	lsc.menu["rearbumper"].buttons = {}
	lsc.menu["exhaust"].buttons = {}
	lsc.menu["fenders"].buttons = {}
	lsc.menu["hood"].buttons = {}
	lsc.menu["rollcage"].buttons = {}
	lsc.menu["roof"].buttons = {}
	lsc.menu["skirts"].buttons = {}
	lsc.menu["spoiler"].buttons = {}
	lsc.menu["grille"].buttons = {}
	lsc.menu["main"].buttons = {}
	lsc.menu["bumpers"].buttons = {}
	lsc.menu["chassis"].buttons = {}
	table.sort(lsc)
	table.sort(lsc.menu)
	lsc.menu.from = 1
	lsc.menu.to = 10
	lsc.selectedbutton = 0
	SetVehicleOnGroundProperly(veh)
	SetEntityCollision(veh,true,true)
	FreezeEntityPosition(veh, false)
	SetVehicleDoorsLocked(veh,0)
	SetPlayerInvincible(GetPlayerIndex(),false)
	SetEntityInvincible(veh,false)
	TriggerServerEvent('saveUpgrade',vehupgrade,plateveh)
	TriggerServerEvent('lockGarage',false,lsc.currentgarage)
	lsc.currentgarage = 0
end

function drawTxt(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function drawMenuButtonCustom(button,x,y,selected)
	SetTextFont(button.font)
	SetTextProportional(0)
	SetTextScale(button.scale, button.scale)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextCentre(button.centre)
	SetTextEntry("STRING")
	AddTextComponentString(button.name)
	if selected then
		DrawRect(x,y,lsc.menu.width,lsc.menu.height,255,255,255,255)
	else
		DrawRect(x,y,lsc.menu.width,lsc.menu.height,0,0,0,150)
	end
	DrawText(x - lsc.menu.width/2 + 0.005, y - lsc.menu.height/2 + 0.0028)	
end

function drawMenuCostCustom(button,x,y,selected)
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextEntry("STRING")
	if button.costs == 0 then
		AddTextComponentString("GRATUIT")
	else
		affichagecost = tostring(button.costs)
		AddTextComponentString(affichagecost)
	end
	DrawText(x + lsc.menu.width/2 - 0.035, y - lsc.menu.height/2 + 0.0028)	
end

function drawMenuOwnedCustom(x,y,selected)
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	if selected then
		SetTextColour(0, 0, 0, 255)
	else
		SetTextColour(255, 255, 255, 255)
	end
	SetTextEntry("STRING")
	AddTextComponentString("ACQUIS")
	DrawText(x + lsc.menu.width/2 - 0.035, y - lsc.menu.height/2 + 0.0028)	
end

function drawMenuTitleCustom(txt,x,y)
	SetTextFont(2)
	SetTextProportional(0)
	SetTextScale(0.5, 0.5)
	SetTextColour(255, 255, 255, 255)
	SetTextEntry("STRING")
	AddTextComponentString(txt)
	DrawRect(x,y,lsc.menu.width,lsc.menu.height,0,0,0,150)
	DrawText(x - lsc.menu.width/2 + 0.005, y - lsc.menu.height/2 + 0.0028)	
end
function tablelength(T)
  local count = 0
  for _ in pairs(T) do count = count + 1 end
  return count
end
local backlock = false
local horn = ''
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(0)
		if lsc ~= nil and lsc.inside == false then
			local ped = LocalPed()
			if IsPedSittingInAnyVehicle(ped) then
				local veh = GetVehiclePedIsUsing(ped)
				if DoesEntityExist(veh) and (IsThisModelACar(GetEntityModel(veh)) or IsThisModelABike(GetEntityModel(veh)))  then
					for i,pos in ipairs(lsc.locations) do
						outside = pos.outside						
						if GetDistanceBetweenCoords(outside.x,outside.y,outside.z,GetEntityCoords(ped),true) <= f(5) then
							if pos.locked == false then
								Show("Appuyez sur ~INPUT_CONTEXT~ pour rentrer dans le ~b~Los Santos Custom.")
								if IsControlJustPressed(1,38) then
										lsc.currentpos = pos
										lsc.currentgarage = i
										plateveh = GetVehicleNumberPlateText(veh)
										TriggerServerEvent('getUpgrade',plateveh)
								end
							else
								Show("~r~OccupÃ©.")
							end
						end
					end
				end
			end
		elseif lsc ~= nil then
			local ped = LocalPed()
			local veh = GetVehiclePedIsUsing(ped)
			local menu = lsc.menu[lsc.currentmenu]
					drawTxt(lsc.title,1,1,lsc.menu.x,lsc.menu.y,1.0, 255,255,255,255)
					drawMenuTitleCustom(menu.title, lsc.menu.x,lsc.menu.y + 0.08)
					drawTxt(lsc.selectedbutton.."/"..tablelength(menu.buttons),0,0,lsc.menu.x + lsc.menu.width/2 - 0.0328,lsc.menu.y + 0.066,0.4, 255,255,255,255)
					local y = lsc.menu.y + 0.12
					buttoncount = tablelength(menu.buttons)
					local selected = false
					
					for i,button in pairs(menu.buttons) do
						if i >= lsc.menu.from and i <= lsc.menu.to then
							
							if i == lsc.selectedbutton then
								selected = true
							else
								selected = false
							end
							drawMenuButtonCustom(button,lsc.menu.x,y,selected)
							if button.costs ~= nil then
								if lsc.currentmenu == "headlights" then
									if button.name == "Phares de sÃ©rie"  then
										if not IsToggleModOn(veh, button.modtype)  then
											drawMenuOwnedCustom(lsc.menu.x,y,selected)
										end
									elseif button.name == "Phares au xÃ©non"  then
										if IsToggleModOn(veh, button.modtype) then
											drawMenuOwnedCustom(lsc.menu.x,y,selected)
										else
											drawMenuCostCustom(button,lsc.menu.x,y,selected)
										end
									end

								elseif lsc.currentmenu == "turbo" then
									if button.name == "Aucun"  then
										if not IsToggleModOn(veh, button.modtype)  then
											drawMenuOwnedCustom(lsc.menu.x,y,selected)
										end
									elseif button.name == "Tuning turbo"  then
										if IsToggleModOn(veh, button.modtype) then
											drawMenuOwnedCustom(lsc.menu.x,y,selected)
										else
											drawMenuCostCustom(button,lsc.menu.x,y,selected)
										end
									end

								elseif lsc.currentmenu == "plate" then
									if plateindex == button.plateindex then
										drawMenuOwnedCustom(lsc.menu.x,y,selected)
									else
										drawMenuCostCustom(button,lsc.menu.x,y,selected)
									end
								elseif lsc.currentmenu == "chassis" or lsc.currentmenu == "armor" or lsc.currentmenu == "brakes" or lsc.currentmenu == "exhaust" or lsc.currentmenu == "frontbumper" or lsc.currentmenu == "rearbumper" or lsc.currentmenu == "engine" or lsc.currentmenu == "fenders" or lsc.currentmenu == "hood" or lsc.currentmenu == "transmission" or lsc.currentmenu == "suspension" or lsc.currentmenu == "spoiler" or lsc.currentmenu == "skirts" or lsc.currentmenu == "roof" or lsc.currentmenu == "rollcage" or lsc.currentmenu == "horn" or lsc.currentmenu == "grille" then
									if button.mod == -1  then
										if mods[button.modtype].mod == -1 then
											drawMenuOwnedCustom(lsc.menu.x,y,selected)
										end
									elseif button.mod == 0 or button.mod == false then
										if mods[button.modtype].mod == false or mods[button.modtype].mod == 0 then
											drawMenuOwnedCustom(lsc.menu.x,y,selected)
										else
											drawMenuCostCustom(button,lsc.menu.x,y,selected)
										end
									else
										if mods[button.modtype].mod == button.mod then
											drawMenuOwnedCustom(lsc.menu.x,y,selected)
										else
											drawMenuCostCustom(button,lsc.menu.x,y,selected)
										end
									end
								elseif  lsc.currentmenu == "sport" or lsc.currentmenu == "muscle" or lsc.currentmenu == "lowrider" or lsc.currentmenu == "frontwheel" or lsc.currentmenu == "backwheel" or lsc.currentmenu == "highend" or lsc.currentmenu == "suv" or lsc.currentmenu == "offroad" or lsc.currentmenu == "tuner" then
									if button.mod == -1  then
										if mods[button.modtype].mod == -1 and wheeltype == button.wtype then
											drawMenuOwnedCustom(lsc.menu.x,y,selected)
										end
									elseif button.mod == 0 or button.mod == false then
										if (mods[button.modtype].mod == false or mods[button.modtype].mod == 0) and wheeltype == button.wtype then
											drawMenuOwnedCustom(lsc.menu.x,y,selected)
										else
											drawMenuCostCustom(button,lsc.menu.x,y,selected)
										end
									else
										if mods[button.modtype].mod == button.mod and wheeltype == button.wtype then
											drawMenuOwnedCustom(lsc.menu.x,y,selected)
										else
											drawMenuCostCustom(button,lsc.menu.x,y,selected)
										end
									end
								elseif lsc.currentmenu == "neonlayout" then
									if button.name == "Aucun" then
										if IsVehicleNeonLightEnabled(veh, 0) == false and IsVehicleNeonLightEnabled(veh, 1) == false  and IsVehicleNeonLightEnabled(veh, 2) == false and IsVehicleNeonLightEnabled(veh, 3) == false then
											drawMenuOwnedCustom(lsc.menu.x,y,selected)
										end
									elseif button.name == "Avant,arriÃ¨re et cÃ´tÃ©s" then
										if IsVehicleNeonLightEnabled(veh, 0)  and IsVehicleNeonLightEnabled(veh, 1)  and IsVehicleNeonLightEnabled(veh, 2)  and IsVehicleNeonLightEnabled(veh, 3)  then
											drawMenuOwnedCustom(lsc.menu.x,y,selected)
										else
											drawMenuCostCustom(button,lsc.menu.x,y,selected)
										end
									end
								elseif lsc.currentmenu == "neoncolor" then
									if button.color[1] == neoncolor[1] and button.color[2] == neoncolor[2] and button.color[3] == neoncolor[3] then
										drawMenuOwnedCustom(lsc.menu.x,y,selected)
									else
										drawMenuCostCustom(button,lsc.menu.x,y,selected)
									end
								elseif (lsc.currentmenu == "primaryclassic" or lsc.currentmenu == "primarychrome" or lsc.currentmenu == "primarymatte" or lsc.currentmenu == "primarymetal") then
									if button.colorindex == vehiclecol[1] then
										drawMenuOwnedCustom(lsc.menu.x,y,selected)
									else
										drawMenuCostCustom(button,lsc.menu.x,y,selected)
									end
								elseif (lsc.currentmenu == "secondaryclassic" or lsc.currentmenu == "secondarychrome" or lsc.currentmenu == "secondarymatte" or lsc.currentmenu == "secondarymetal") then
									if button.colorindex == vehiclecol[2] then
										drawMenuOwnedCustom(lsc.menu.x,y,selected)
									else
										drawMenuCostCustom(button,lsc.menu.x,y,selected)
									end
								elseif (lsc.currentmenu == "primarymetallic") then
									if button.colorindex == vehiclecol[1] and extracol[1] == vehiclecol[2] then
										drawMenuOwnedCustom(lsc.menu.x,y,selected)
									else
										drawMenuCostCustom(button,lsc.menu.x,y,selected)
									end
								elseif lsc.currentmenu == "secondarymetallic" then
									if button.colorindex == vehiclecol[2] and extracol[1] == button.colorindex then
										drawMenuOwnedCustom(lsc.menu.x,y,selected)
									else
										drawMenuCostCustom(button,lsc.menu.x,y,selected)
									end
								elseif lsc.currentmenu == "wheelcolor" then
									if button.colorindex == extracol[2] then
										drawMenuOwnedCustom(lsc.menu.x,y,selected)
									else
										drawMenuCostCustom(button,lsc.menu.x,y,selected)
									end
								elseif lsc.currentmenu == "wheelaccessories" then
									if button.name == "Pneus de sÃ©rie" then
										if GetVehicleModVariation(veh,23) == false then
											drawMenuOwnedCustom(lsc.menu.x,y,selected)
										else
											drawMenuCostCustom(button,lsc.menu.x,y,selected)
										end
									elseif button.name == "Pneus custom" then
										if GetVehicleModVariation(veh,23) then
											drawMenuOwnedCustom(lsc.menu.x,y,selected)
										else
											drawMenuCostCustom(button,lsc.menu.x,y,selected)
										end
									elseif string.find(button.name:lower(),'smoke') then
										local col = table.pack(GetVehicleTyreSmokeColor(veh))
										if col[1] == button.color[1] and col[2] == button.color[2] and col[3] == button.color[3] then
											drawMenuOwnedCustom(lsc.menu.x,y,selected)
										else
											drawMenuCostCustom(button,lsc.menu.x,y,selected)
										end
									end
								elseif lsc.currentmenu == "windows" then
									if windowtint == button.tint then
										drawMenuOwnedCustom(lsc.menu.x,y,selected)
									else
										drawMenuCostCustom(button,lsc.menu.x,y,selected)	
									end
								else
									drawMenuCostCustom(button,lsc.menu.x,y,selected)
								end
							end
							y = y + 0.04
								if selected then
									if (lsc.currentmenu == "primaryclassic" or lsc.currentmenu == "primarychrome" or lsc.currentmenu == "primarymatte" or lsc.currentmenu == "primarymetal" or lsc.currentmenu == "primarymetallic") then
										if button.colorindex ~= nil then
											if lsc.currentmenu == "primarymetallic" then
												SetVehicleColours(veh,button.colorindex,vehiclecol[2])
												SetVehicleExtraColours(veh, vehiclecol[2], extracol[2])
											else
												SetVehicleColours(veh,button.colorindex,vehiclecol[2])
											end
										end
									end
									if (lsc.currentmenu == "secondaryclassic" or lsc.currentmenu == "secondarychrome" or lsc.currentmenu == "secondarymatte" or lsc.currentmenu == "secondarymetal" or lsc.currentmenu == "secondarymetallic") then
										if button.colorindex ~= nil then
											if lsc.currentmenu == "secondarymetallic" then
												SetVehicleColours(veh,vehiclecol[1],button.colorindex)
												SetVehicleExtraColours(veh, button.colorindex, extracol[2])
											else
												SetVehicleColours(veh,vehiclecol[1],button.colorindex)
											end
										end
									end
									if (lsc.currentmenu == "wheelcolor") then
										if button.colorindex ~= nil then
											SetVehicleExtraColours(veh, extracol[1], button.colorindex)
										end
									end
									if lsc.currentmenu == "horn" or lsc.currentmenu == "roof" or lsc.currentmenu == "suspension" or lsc.currentmenu == "horns" or lsc.currentmenu == "hood" or lsc.currentmenu == "grille" or lsc.currentmenu == "rollcage" or lsc.currentmenu == "exhaust" or lsc.currentmenu == "skirts" or lsc.currentmenu == "rearbumper" or lsc.currentmenu == "frontbumper" or lsc.currentmenu == "spoiler"  then
										SetVehicleMod(veh, button.modtype, button.mod)
										
									end
									if  lsc.currentmenu == "sport" or lsc.currentmenu == "muscle" or lsc.currentmenu == "lowrider" or lsc.currentmenu == "backwheel" or lsc.currentmenu == "frontwheel" or lsc.currentmenu == "highend" or lsc.currentmenu == "suv" or lsc.currentmenu == "offroad" or lsc.currentmenu == "tuner" then
										SetVehicleMod(veh, button.modtype, button.mod)
									end
									
									if lsc.currentmenu == "fenders" then
										if button.mod == -1 then
											SetVehicleMod(veh, 8, button.mod)
											SetVehicleMod(veh, 9, button.mod)
										else
										SetVehicleMod(veh, button.modtype, button.mod)
										end
									end
									
									if lsc.currentmenu == "horn" then
										if horn ~= button.name then
											horn = button.name
										end
									end
									if lsc.currentmenu == "windows" then
										SetVehicleWindowTint(veh, button.tint)
									end
									if lsc.currentmenu == "neoncolor" then
										SetVehicleNeonLightsColour(veh,button.color[1],button.color[2],button.color[3])
									end
									if lsc.currentmenu == "plate" then
										SetVehicleNumberPlateTextIndex(veh,button.plateindex)
									end
								end
								if selected and IsControlJustPressed(1,201) then
									ButtonSelectedCuston(button)
								end
						end
					end
			
		end
		if lsc ~= nil and lsc.inside then
			if IsControlJustPressed(1,202) then
				BackCuston()
			end
			if IsControlJustReleased(1,202) then
				backlock = false
			end
			if IsControlJustPressed(1,188) then
				if lsc.selectedbutton > 1 then
					lsc.selectedbutton = lsc.selectedbutton -1
					if buttoncount > 10 and lsc.selectedbutton < lsc.menu.from then
						lsc.menu.from = lsc.menu.from -1
						lsc.menu.to = lsc.menu.to - 1
					end
				end
			end
			if IsControlJustPressed(1,187)then
				if lsc.selectedbutton < buttoncount then
					lsc.selectedbutton = lsc.selectedbutton +1
					if buttoncount > 10 and lsc.selectedbutton > lsc.menu.to then
						lsc.menu.to = lsc.menu.to + 1
						lsc.menu.from = lsc.menu.from + 1
					end
				end	
			end
		end
		
	end
end)


function ButtonSelectedCuston(button)
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	if lsc.currentmenu == "repair" then
		if button.name == "RÃ©parer le vÃ©hicule" then
			SetVehicleFixed(car)
			OpenMenuCustom('main')
		end
	elseif lsc.currentmenu == "main" then
		if button.name == "Peinture" then
			OpenMenuCustom("respray")
		elseif button.name == "Blindage" then
			SetVehicleModKit(car,0)
			OpenMenuCustom("armor")
		elseif button.name == "Freins" then
			SetVehicleModKit(car,0)
			OpenMenuCustom("brakes")
		elseif button.name == "Pare-chocs" then
			SetVehicleModKit(car,0)
			OpenMenuCustom("bumpers")
		elseif button.name == "Moteur" then
			SetVehicleModKit(car,0)
			OpenMenuCustom("engine")
		elseif button.name == "Ã‰chappement" then
			SetVehicleModKit(car,0)
			OpenMenuCustom("exhaust")
		elseif button.name == "Ailes" then
			SetVehicleModKit(car,0)
			OpenMenuCustom("fenders")
		elseif button.name == "Capot" then
			SetVehicleModKit(car,0)
			OpenMenuCustom("hood")
		elseif button.name == "Klaxon" then
			SetVehicleModKit(car,0)
			OpenMenuCustom("horn")
		elseif button.name == "Ã‰clairage" then
			SetVehicleModKit(car,0)
			OpenMenuCustom("lights")
			
		elseif button.name == "Arceau" then
			SetVehicleModKit(car,0)
			OpenMenuCustom("rollcage")
		elseif button.name == "Toit" then
			SetVehicleModKit(car,0)
			OpenMenuCustom("roof")
		elseif button.name == "Bas de caisse" then
			SetVehicleModKit(car,0)
			OpenMenuCustom("skirts")
		elseif button.name == "Aileron" then
			SetVehicleModKit(car,0)
			OpenMenuCustom("spoiler")
		elseif button.name == "Suspension" then
			SetVehicleModKit(car,0)
			OpenMenuCustom("suspension")
		elseif button.name == "Transmission" then
			SetVehicleModKit(car,0)
			OpenMenuCustom("transmission")
		elseif button.name == "Plaque" then
			SetVehicleModKit(car,0)
			OpenMenuCustom("plate")
		elseif button.name == "Klaxon" then
			SetVehicleModKit(car,0)
			OpenMenuCustom("horn")
		elseif button.name == "Calandre" then
			SetVehicleModKit(car,0)
			OpenMenuCustom("grille")
		elseif button.name == "Turbo" then
			SetVehicleModKit(car,0)
			OpenMenuCustom("turbo")
		elseif button.name == "Chassis" then
			SetVehicleModKit(car,0)
			OpenMenuCustom("chassis")
		elseif button.name == "Roues" then
			SetVehicleModKit(car,0)
			OpenMenuCustom("wheels")
		elseif button.name == "FenÃªtres" then
			SetVehicleModKit(car,0)
			OpenMenuCustom("windows")
		end
	elseif lsc.currentmenu == "respray" then
		if button.name == "Couleur primaire" then
			OpenMenuCustom("primarycolor")
		elseif button.name == "Couleur secondaire" then
			OpenMenuCustom("secondarycolor")
		end
	elseif lsc.currentmenu == "primarycolor" then
		if button.name == "Chrome" then
			OpenMenuCustom("primarychrome")
		elseif button.name == "Classique" then
			OpenMenuCustom("primaryclassic")
		elseif button.name == "Mat" then
			OpenMenuCustom("primarymatte")
		elseif button.name == "MÃ©taux" then
			OpenMenuCustom("primarymetal") 
		elseif button.name == "MÃ©tallisÃ©" then
			OpenMenuCustom("primarymetallic") 
		end
	elseif lsc.currentmenu == "secondarycolor" then
		if button.name == "Chrome" then
			OpenMenuCustom("secondarychrome")
		elseif button.name == "Classique" then
			OpenMenuCustom("secondaryclassic")
		elseif button.name == "Mat" then
			OpenMenuCustom("secondarymatte")
		elseif button.name == "MÃ©taux" then
			OpenMenuCustom("secondarymetal") 
		elseif button.name == "MÃ©tallisÃ©" then
			OpenMenuCustom("secondarymetallic") 
		end
	elseif lsc.currentmenu == "primarychrome" then
		TriggerServerEvent('PayCustomColor',button.name,button.costs,button.colorindex)
	elseif lsc.currentmenu == "primaryclassic" then
		TriggerServerEvent('PayCustomColor',button.name,button.costs,button.colorindex)
	elseif lsc.currentmenu == "primarymatte" then
		TriggerServerEvent('PayCustomColor',button.name,button.costs,button.colorindex)
	elseif lsc.currentmenu == "primarymetal" then
		TriggerServerEvent('PayCustomColor',button.name,button.costs,button.colorindex)
	elseif lsc.currentmenu == "primarymetallic" then
		TriggerServerEvent('PayCustomColorMetal1',button.name,button.costs,button.colorindex)
	elseif lsc.currentmenu == "secondarychrome" then
		TriggerServerEvent('PayCustomColor',button.name,button.costs,button.colorindex)
	elseif lsc.currentmenu == "secondaryclassic" then
		TriggerServerEvent('PayCustomColor',button.name,button.costs,button.colorindex)
	elseif lsc.currentmenu == "secondarymatte" then
		TriggerServerEvent('PayCustomColor',button.name,button.costs,button.colorindex)
	elseif lsc.currentmenu == "secondarymetal" then
		TriggerServerEvent('PayCustomColor',button.name,button.costs,button.colorindex)
	elseif lsc.currentmenu == "secondarymetallic" then
		TriggerServerEvent('PayCustomColorMetal2',button.name,button.costs,button.colorindex)
	elseif lsc.currentmenu == "bumpers" then
		if button.name == "Pare-chocs avant" then
			OpenMenuCustom("frontbumper")
		elseif button.name == "Pare-chocs arriÃ¨re" then
			OpenMenuCustom("rearbumper")
		end
	elseif lsc.currentmenu == "lights" then
		if button.name == "Phares" then
			SetVehicleModKit(car,0)
			OpenMenuCustom('headlights')
		elseif button.name == "Kits nÃ©on" then
			OpenMenuCustom('neonkits')
		end 
	elseif lsc.currentmenu == "neonkits" then
		if button.name == "Support nÃ©on" then
			OpenMenuCustom('neonlayout')
		elseif button.name == "Couleur nÃ©on" then
			OpenMenuCustom('neoncolor')
		end 
	elseif lsc.currentmenu == "headlights" then
		if button.name == "Phares de sÃ©rie" then
			ToggleVehicleMod(car, 22, false)
			vehupgrade["lightype"] = false
		elseif button.name == "Phares au xÃ©non" then
			TriggerServerEvent('PayCustomLight',button.name,button.costs)
		end 
	elseif lsc.currentmenu == "plate" then
		TriggerServerEvent('PayCustomPlate',button.name,button.costs,button.plateindex)
	elseif lsc.currentmenu == "chassis" then
		TriggerServerEvent('PayCustomChassis',button.name,button.costs,button.modtype,button.mod)
	elseif lsc.currentmenu == "armor" then
		TriggerServerEvent('PayCustomArmor',button.name,button.costs,button.modtype,button.mod)
	elseif lsc.currentmenu == "brakes" then
		TriggerServerEvent('PayCustomBrakes',button.name,button.costs,button.modtype,button.mod)
	elseif lsc.currentmenu == "frontbumper" then
		TriggerServerEvent('PayCustomPCAV',button.name,button.costs,button.modtype,button.mod)
	elseif lsc.currentmenu == "rearbumper" then
		TriggerServerEvent('PayCustomPCAR',button.name,button.costs,button.modtype,button.mod)
	elseif lsc.currentmenu == "engine" then
		TriggerServerEvent('PayCustomMoteur',button.name,button.costs,button.modtype,button.mod)
	elseif lsc.currentmenu == "exhaust" then
		TriggerServerEvent('PayCustomEchap',button.name,button.costs,button.modtype,button.mod)
	elseif lsc.currentmenu == "hood" then
		TriggerServerEvent('PayCustomCapot',button.name,button.costs,button.modtype,button.mod)
	elseif lsc.currentmenu == "horn" then
		TriggerServerEvent('PayCustomKlaxon',button.name,button.costs,button.modtype,button.mod)
	elseif lsc.currentmenu == "rollcage" then
		TriggerServerEvent('PayCustomArceau',button.name,button.costs,button.modtype,button.mod)
	elseif lsc.currentmenu == "roof" then
		TriggerServerEvent('PayCustomToit',button.name,button.costs,button.modtype,button.mod)
	elseif lsc.currentmenu == "skirts" then
		TriggerServerEvent('PayCustomBascaisse',button.name,button.costs,button.modtype,button.mod)
	elseif lsc.currentmenu == "spoiler" then
		TriggerServerEvent('PayCustomAileron',button.name,button.costs,button.modtype,button.mod)
	elseif lsc.currentmenu == "suspension" then
		TriggerServerEvent('PayCustomSuspension',button.name,button.costs,button.modtype,button.mod)
	elseif lsc.currentmenu == "transmission" then
		TriggerServerEvent('PayCustomTransmission',button.name,button.costs,button.modtype,button.mod)
	elseif lsc.currentmenu == "grille" then
		TriggerServerEvent('PayCustomCalandre',button.name,button.costs,button.modtype,button.mod)
	elseif lsc.currentmenu == "fenders" then
		if button.name == "Aucun" then
			mods[8].mod = button.mod
			mods[9].mod = button.mod
			SetVehicleMod(car,9,button.mod)
			SetVehicleMod(car,8,button.mod)
			vehupgrade["ailes1"] = button.mod
			vehupgrade["ailes2"] = button.mod
		else
		if button.modtype == 8 then
			TriggerServerEvent('PayCustomAiles1',button.name,button.costs,button.modtype,button.mod)
		elseif button.modtype == 9 then
			TriggerServerEvent('PayCustomAiles2',button.name,button.costs,button.modtype,button.mod)
		end
	end
	elseif lsc.currentmenu == "turbo" then
		if button.name == "Aucun" then
			ToggleVehicleMod(car, button.modtype, false)
			vehupgrade["turbo"] = false	
		elseif button.name == "Tuning turbo" then
			TriggerServerEvent('PayCustomTurbo',button.name,button.costs)
		end 
	elseif lsc.currentmenu == "wheels" then
		if button.name == "Type de roue" then
			OpenMenuCustom('wheeltype')
		elseif button.name == "Couleur des jantes" then
			OpenMenuCustom('wheelcolor')
		elseif button.name == "Pneus" then
			SetVehicleModKit(car,0)
			OpenMenuCustom("wheelaccessories")
		end
	elseif lsc.currentmenu == "wheeltype" then
		if button.name == "Roue de sÃ©rie" then
			SetVehicleWheelType(car,-1)
			vehupgrade["typeroue"] = -1
		elseif button.name == "Roue avant" then
			SetVehicleWheelType(car,button.wtype)
			OpenMenuCustom("frontwheel")
		elseif button.name == "Roue arriÃ¨re" then
			SetVehicleWheelType(car,button.wtype)
			OpenMenuCustom("backwheel")
		elseif button.name == "Haut de gamme" then
			SetVehicleWheelType(car,button.wtype)
			OpenMenuCustom("highend")
		elseif button.name == "Muscle car" then
			SetVehicleWheelType(car,button.wtype)
			OpenMenuCustom("muscle")
		elseif button.name == "Tuning" then
			SetVehicleWheelType(car,button.wtype)
			OpenMenuCustom("tuner")
		elseif button.name == "Tout-terrain" then
			SetVehicleWheelType(car,button.wtype)
			OpenMenuCustom("offroad")
		else
			SetVehicleWheelType(car,button.wtype)
			OpenMenuCustom(button.name:lower())
		end
	elseif lsc.currentmenu == "sport" or lsc.currentmenu == "muscle" or lsc.currentmenu == "lowrider" or lsc.currentmenu == "backwheel" or lsc.currentmenu == "frontwheel" or lsc.currentmenu == "highend" or lsc.currentmenu == "suv" or lsc.currentmenu == "offroad" or lsc.currentmenu == "tuner" then
		TriggerServerEvent('PayCustomTyperoue',button.name,button.costs,button.wtype,button.mod)
	elseif lsc.currentmenu == "wheelcolor" then
		TriggerServerEvent('PayCustomColorPneus',button.name,button.costs,button.colorindex)
	elseif lsc.currentmenu == "windows" then
		TriggerServerEvent('PayCustomTint',button.name,button.costs,button.tint)
	elseif lsc.currentmenu == "wheelaccessories" then
		if button.name == "Jantes de sÃ©rie" then
			SetVehicleModKit(car,0)
			SetVehicleMod(car,23,mods[23].mod,false)
			vehupgrade["jantecustom"] = false
			if IsThisModelABike(GetEntityModel(car)) then
				SetVehicleModKit(car,0)
				SetVehicleMod(car,24,mods[24].mod,false)
				vehupgrade["jantecustombike"] = false
			end
		elseif button.name == "Pneus custom" then
			TriggerServerEvent('PayCustomJanteCustom',button.name,button.costs)
			if IsThisModelABike(GetEntityModel(car)) then	
				TriggerServerEvent('PayCustomJanteCustomB',button.name,button.costs)
			end
		--elseif string.find(button.name:lower(),'smoke')  then
		--	SetVehicleModKit(car,0)
		--	ToggleVehicleMod(car,20,true)
		--	vehupgrade["pneuscoloractif"] = true
		--	SetVehicleTyreSmokeColor(car,button.color[1],button.color[2],button.color[3])
			--vehupgrade["pneuscolor1"] = button.color[1]
			--vehupgrade["pneuscolor2"] = button.color[2]
			--vehupgrade["pneuscolor3"] = button.color[3]
		end
	elseif lsc.currentmenu == "neonlayout" then
		if button.name == "Aucun" then
		SetVehicleNeonLightEnabled(car,0,false)
		SetVehicleNeonLightEnabled(car,1,false)
		SetVehicleNeonLightEnabled(car,2,false)
		SetVehicleNeonLightEnabled(car,3,false)
		SetVehicleNeonLightsColour(car,255,255,255)
		vehupgrade["neoncoloractif"] = false
		vehupgrade["neoncolor1"] = 255
		vehupgrade["neoncolor2"] = 255
		vehupgrade["neoncolor3"] = 255
		neoncolor[1] = 255
		neoncolor[2] = 255
		neoncolor[3] = 255
		else
		TriggerServerEvent('PayCustomNeonSupport',button.name,button.costs)
		end
	elseif lsc.currentmenu == "neoncolor" then
		TriggerServerEvent('PayCustomNeonColor',button.name,button.costs,button.color[1],button.color[2],button.color[3])
	end
end

function OpenMenuCustom(menu)
	lsc.lastmenu = lsc.currentmenu
	if menu == "bumpers" then
		lsc.lastmenu = "main"
	elseif menu ~= "secondarycolor" and stringstarts(menu, "secondary") then
		lsc.lastmenu = "secondarycolor"
	elseif menu ~= "primarycolor" and stringstarts(menu, "primary") then
		lsc.lastmenu = "primarycolor"
	elseif menu == "primarycolor" or menu == "secondarycolor" then
		lsc.lastmenu = "respray"
	elseif menu == "respray"  then
		lsc.lastmenu = "main"
	elseif menu == "wheels" then
		lsc.lastmenu = "main"
	elseif menu == "wheeltype" then
		lsc.lastmenu = "wheels"
	elseif menu == "wheelcolor" then
		lsc.lastmenu = "wheels"
	elseif menu == "wheelaccessories" then
		lsc.lastmenu = "wheels"
	elseif menu == "lights" then
		lsc.lastmenu = "main"
	elseif menu == "neonkits" then
		lsc.lastmenu = "lights"
	end
	lsc.menu.from = 1
	lsc.menu.to = 10
	lsc.selectedbutton = 0
	lsc.currentmenu = menu	
end


function BackCuston()
	if backlock then
		return
	end
	backlock = true
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	if lsc.currentmenu == "main" or lsc.currentmenu == "repair" then
		DriveOutOfGarage(lsc.currentpos.outside)
	elseif lsc.currentmenu == "primarychrome" or lsc.currentmenu == "primaryclassic" or lsc.currentmenu == "primarymatte" or lsc.currentmenu == "primarymetal" then
		SetVehicleColours(car, vehiclecol[1], vehiclecol[2])
		OpenMenuCustom(lsc.lastmenu)
	elseif lsc.currentmenu == "primarymetallic" then
		SetVehicleColours(car, vehiclecol[1], vehiclecol[2])
		SetVehicleExtraColours(car, extracol[1], extracol[2])
		OpenMenuCustom(lsc.lastmenu)
	elseif lsc.currentmenu == "secondarychrome" or lsc.currentmenu == "secondaryclassic" or lsc.currentmenu == "secondarymatte" or lsc.currentmenu == "secondarymetal" then
		SetVehicleColours(car, vehiclecol[1], vehiclecol[2])
		OpenMenuCustom(lsc.lastmenu)
	elseif lsc.currentmenu == "secondarymetallic" then
		SetVehicleColours(car, vehiclecol[1], vehiclecol[2])
		SetVehicleExtraColours(car, extracol[1], extracol[2])
		OpenMenuCustom(lsc.lastmenu)
	elseif lsc.currentmenu == "wheelcolor" then
		SetVehicleExtraColours(car, extracol[1], extracol[2])
		OpenMenuCustom(lsc.lastmenu)
	elseif lsc.currentmenu == "sport" or lsc.currentmenu == "muscle" or lsc.currentmenu == "lowrider" or lsc.currentmenu == "frontwheel" or lsc.currentmenu == "highend" or lsc.currentmenu == "suv" or lsc.currentmenu == "offroad" or lsc.currentmenu == "tuner" then
		SetVehicleWheelType(car,wheeltype)
		SetVehicleMod(car,23,mods[23].mod)
		OpenMenuCustom(lsc.lastmenu)
	elseif lsc.currentmenu == "backwheel" then
		SetVehicleWheelType(car,wheeltype)
		SetVehicleMod(car,24,mods[24].mod)
		OpenMenuCustom(lsc.lastmenu)
	elseif lsc.currentmenu == "spoiler" then
		SetVehicleMod(car,0,mods[0].mod)
		OpenMenuCustom(lsc.lastmenu)
	elseif lsc.currentmenu == "frontbumper" then
		SetVehicleMod(car,1,mods[1].mod)
		OpenMenuCustom(lsc.lastmenu)
	elseif lsc.currentmenu == "rearbumper" then
		SetVehicleMod(car,2,mods[2].mod)
		OpenMenuCustom(lsc.lastmenu)
	elseif lsc.currentmenu == "skirts" then
		SetVehicleMod(car,3,mods[3].mod)
		OpenMenuCustom(lsc.lastmenu)
	elseif lsc.currentmenu == "exhaust" then
		SetVehicleMod(car,4,mods[4].mod)
		OpenMenuCustom(lsc.lastmenu)
	elseif lsc.currentmenu == "rollcage" then
		SetVehicleMod(car,5,mods[5].mod)
		OpenMenuCustom(lsc.lastmenu)
	elseif lsc.currentmenu == "grille" then
		SetVehicleMod(car,6,mods[6].mod)
		OpenMenuCustom(lsc.lastmenu)
	elseif lsc.currentmenu == "hood" then
		SetVehicleMod(car,7,mods[7].mod)
		OpenMenuCustom(lsc.lastmenu)
	elseif lsc.currentmenu == "fenders" then
		SetVehicleMod(car,8,mods[8].mod)
		SetVehicleMod(car,9,mods[9].mod)
		OpenMenuCustom(lsc.lastmenu)
	elseif lsc.currentmenu == "" then
		SetVehicleMod(car,9,mods[9].mod)
		OpenMenuCustom(lsc.lastmenu)
	elseif lsc.currentmenu == "roof" then
		SetVehicleMod(car,10,mods[10].mod)
		OpenMenuCustom(lsc.lastmenu)
	elseif lsc.currentmenu == "horn" then
		SetVehicleMod(car,14,mods[14].mod)
		OpenMenuCustom(lsc.lastmenu)
	elseif lsc.currentmenu == "suspension" then
		SetVehicleMod(car,15,mods[15].mod)
		OpenMenuCustom(lsc.lastmenu)
	elseif lsc.currentmenu == "windows" then
		SetVehicleWindowTint(car, windowtint)
		OpenMenuCustom(lsc.lastmenu)
	elseif lsc.currentmenu == "neoncolor" then
		SetVehicleNeonLightsColour(car,neoncolor[1],neoncolor[2],neoncolor[3])
		OpenMenuCustom(lsc.lastmenu)
	elseif lsc.currentmenu == "plate" then
		SetVehicleNumberPlateTextIndex(car,plateindex)
		OpenMenuCustom(lsc.lastmenu)
	else
		OpenMenuCustom(lsc.lastmenu)
	end
end

function stringstarts(String,Start)
   return string.sub(String,1,string.len(Start))==Start
end
function AddBlipsCustom()
	for i,pos in ipairs(lsc.locations) do
		local blip = AddBlipForCoord(pos.inside.x,pos.inside.y,pos.inside.z)
		SetBlipSprite(blip, 72)
		SetBlipColour(blip, 83)
		BeginTextCommandSetBlipName("STRING")
		AddTextComponentString('Los Santos Customs')
		EndTextCommandSetBlipName(blip)
		SetBlipAsShortRange(blip,true)
	end
end
--TODO: Event needed to add blips when player is spawned
local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	AddBlipsCustom()
	TriggerServerEvent('getGarageInfo')
	firstspawn = 1
end
end)
RegisterNetEvent('lockGarage')
AddEventHandler('lockGarage', function(tbl)
	for i,garage in ipairs(tbl) do
		lsc.locations[i].locked = garage.locked
	end
end)

RegisterNetEvent('sendUpgrade')
AddEventHandler('sendUpgrade', function(tabupgrade)
	vehupgrade = tabupgrade
	DriveInGarage()
end)

RegisterNetEvent('NotPersoVeh')
AddEventHandler('NotPersoVeh', function()
	ShowNotificationMain('Vous ne pouvez pas personnaliser un vÃ©hicule qui ne vous appartient pas.')
end)

RegisterNetEvent('BuyCustomOK')
AddEventHandler('BuyCustomOK', function(name,price)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
end)

RegisterNetEvent('BuyCustomOKColor')
AddEventHandler('BuyCustomOKColor', function(name,price,color)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	vehiclecol[1] = color
	vehupgrade["colors1"] = color
end)

RegisterNetEvent('BuyCustomOKColor2')
AddEventHandler('BuyCustomOKColor2', function(name,price,color)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	vehiclecol[2] = color
	vehupgrade["colors2"] = color
end)

RegisterNetEvent('BuyCustomOKColorMetal1')
AddEventHandler('BuyCustomOKColorMetal1', function(name,price,color)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	vehiclecol[1] = color
	vehupgrade["colors1"] = color
	extracol[1] = vehiclecol[2]
	vehupgrade["colorsextra2"] = vehiclecol[2]
end)

RegisterNetEvent('BuyCustomOKColorMetal2')
AddEventHandler('BuyCustomOKColorMetal2', function(name,price,color)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	extracol[1] = color
	vehupgrade["colorsextra1"] = color
	vehiclecol[2] = color
	vehupgrade["colors2"] = color
end)

RegisterNetEvent('BuyCustomOKLight')
AddEventHandler('BuyCustomOKLight', function(name,price)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	ToggleVehicleMod(car, 22, true)
	vehupgrade["lightype"] = true
end)

RegisterNetEvent('BuyCustomOKPlate')
AddEventHandler('BuyCustomOKPlate', function(name,price,color)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	plateindex = color
	vehupgrade["plate"] = color
end)

RegisterNetEvent('BuyCustomOKChassis')
AddEventHandler('BuyCustomOKChassis', function(name,price,modtype,mod)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	mods[modtype].mod = mod
	SetVehicleMod(car,modtype,mod)
	vehupgrade["chassis"] = mod
end)

RegisterNetEvent('BuyCustomOKArmor')
AddEventHandler('BuyCustomOKArmor', function(name,price,modtype,mod)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	mods[modtype].mod = mod
	SetVehicleMod(car,modtype,mod)
	vehupgrade["blindage"] = mod
end)

RegisterNetEvent('BuyCustomOKBrakes')
AddEventHandler('BuyCustomOKBrakes', function(name,price,modtype,mod)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	mods[modtype].mod = mod
	SetVehicleMod(car,modtype,mod)
	vehupgrade["freins"] = mod
end)

RegisterNetEvent('BuyCustomOKPCAV')
AddEventHandler('BuyCustomOKPCAV', function(name,price,modtype,mod)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	mods[modtype].mod = mod
	SetVehicleMod(car,modtype,mod)
	vehupgrade["parechocav"] = mod
end)

RegisterNetEvent('BuyCustomOKPCAR')
AddEventHandler('BuyCustomOKPCAR', function(name,price,modtype,mod)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	mods[modtype].mod = mod
	SetVehicleMod(car,modtype,mod)
	vehupgrade["parechocar"] = mod
end)

RegisterNetEvent('BuyCustomOKMoteur')
AddEventHandler('BuyCustomOKMoteur', function(name,price,modtype,mod)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	mods[modtype].mod = mod
	SetVehicleMod(car,modtype,mod)
	vehupgrade["moteur"] = mod

end)

RegisterNetEvent('BuyCustomOKEchap')
AddEventHandler('BuyCustomOKEchap', function(name,price,modtype,mod)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	mods[modtype].mod = mod
	SetVehicleMod(car,modtype,mod)
	vehupgrade["echap"] = mod
end)

RegisterNetEvent('BuyCustomOKCapot')
AddEventHandler('BuyCustomOKCapot', function(name,price,modtype,mod)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	mods[modtype].mod = mod
	SetVehicleMod(car,modtype,mod)
	vehupgrade["capot"] = mod
end)

RegisterNetEvent('BuyCustomOKKlaxon')
AddEventHandler('BuyCustomOKKlaxon', function(name,price,modtype,mod)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	mods[modtype].mod = mod
	SetVehicleMod(car,modtype,mod)
	vehupgrade["klaxon"] = mod
end)

RegisterNetEvent('BuyCustomOKArceau')
AddEventHandler('BuyCustomOKArceau', function(name,price,modtype,mod)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	mods[modtype].mod = mod
	SetVehicleMod(car,modtype,mod)
	vehupgrade["arceau"] = mod
end)

RegisterNetEvent('BuyCustomOKToit')
AddEventHandler('BuyCustomOKToit', function(name,price,modtype,mod)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	mods[modtype].mod = mod
	SetVehicleMod(car,modtype,mod)
	vehupgrade["toit"] = mod
end)

RegisterNetEvent('BuyCustomOKBascaisse')
AddEventHandler('BuyCustomOKBascaisse', function(name,price,modtype,mod)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	mods[modtype].mod = mod
	SetVehicleMod(car,modtype,mod)
	vehupgrade["bascaisse"] = mod
end)

RegisterNetEvent('BuyCustomOKAileron')
AddEventHandler('BuyCustomOKAileron', function(name,price,modtype,mod)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	mods[modtype].mod = mod
	SetVehicleMod(car,modtype,mod)
	vehupgrade["aileron"] = mod
end)

RegisterNetEvent('BuyCustomOKSuspension')
AddEventHandler('BuyCustomOKSuspension', function(name,price,modtype,mod)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	mods[15].mod = mod
	SetVehicleMod(car,15,mod)
	vehupgrade["suspension"] = mod
end)

RegisterNetEvent('BuyCustomOKTransmission')
AddEventHandler('BuyCustomOKTransmission', function(name,price,modtype,mod)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	mods[modtype].mod = mod
	SetVehicleMod(car,modtype,mod)
	vehupgrade["transmission"] = mod
end)

RegisterNetEvent('BuyCustomOKCalandre')
AddEventHandler('BuyCustomOKCalandre', function(name,price,modtype,mod)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	mods[modtype].mod = mod
	SetVehicleMod(car,modtype,mod)
	vehupgrade["calandre"] = mod
end)

RegisterNetEvent('BuyCustomOKAiles1')
AddEventHandler('BuyCustomOKAiles1', function(name,price,modtype,mod)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	mods[modtype].mod = mod
	SetVehicleMod(car,modtype,mod)
	vehupgrade["ailes1"] = mod
end)
RegisterNetEvent('BuyCustomOKAiles2')
AddEventHandler('BuyCustomOKAiles2', function(name,price,modtype,mod)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	mods[modtype].mod = mod
	SetVehicleMod(car,modtype,mod)
	vehupgrade["ailes2"] = mod
end)

RegisterNetEvent('BuyCustomOKTurbo')
AddEventHandler('BuyCustomOKTurbo', function(name,price)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	ToggleVehicleMod(car, 18, true)
	vehupgrade["turbo"] = true
end)

RegisterNetEvent('BuyCustomOKTyperoue')
AddEventHandler('BuyCustomOKTyperoue', function(name,price,modtype,mod)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	wheeltype = modtype
	mods[23].mod = mod
	--SetVehicleMod(car,modtype,mod)
	vehupgrade["typeroue"] = wheeltype
	vehupgrade["typerouemod"] = mod
end)

RegisterNetEvent('BuyCustomOKTint')
AddEventHandler('BuyCustomOKTint', function(name,price,teinte)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	windowtint = teinte
	vehupgrade["fenetre"] = teinte
end)

RegisterNetEvent('BuyCustomOKColorPneus')
AddEventHandler('BuyCustomOKColorPneus', function(name,price,color)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	extracol[2] = color
	vehupgrade["colorsextra2"] = color
end)

RegisterNetEvent('BuyCustomOKJanteCustom')
AddEventHandler('BuyCustomOKJanteCustom', function(name,price)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	SetVehicleModKit(car,0)
	SetVehicleMod(car,23,mods[23].mod,true)
	vehupgrade["jantecustom"] = true
end)

RegisterNetEvent('BuyCustomOKJanteCustomB')
AddEventHandler('BuyCustomOKJanteCustomB', function(name,price)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	SetVehicleModKit(car,0)
	SetVehicleMod(car,24,mods[24].mod,true)
	vehupgrade["jantecustombike"] = true
end)

RegisterNetEvent('BuyCustomOKNeonSupport')
AddEventHandler('BuyCustomOKNeonSupport', function(name,price)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	local ped = GetPlayerPed(-1)
	local car = GetVehiclePedIsUsing(ped)
	neoncolor[1] = 255
	neoncolor[2] = 255
	neoncolor[3] = 255
	SetVehicleNeonLightsColour(car,255,255,255)
	SetVehicleNeonLightEnabled(car,0,true)
	SetVehicleNeonLightEnabled(car,1,true)
	SetVehicleNeonLightEnabled(car,2,true)
	SetVehicleNeonLightEnabled(car,3,true)
	vehupgrade["neoncoloractif"] = true
	vehupgrade["neoncolor1"] = 255
	vehupgrade["neoncolor2"] = 255
	vehupgrade["neoncolor3"] = 255
end)

RegisterNetEvent('BuyCustomOKNeonColor')
AddEventHandler('BuyCustomOKNeonColor', function(name,price,color1,color2,color3)
	ShowNotificationMain("Vous avez achetÃ© la personnalisation ~b~"..name.."~w~ pour ~h~~r~"..price.."$")
	neoncolor[1] = color1
	neoncolor[2] = color2
	neoncolor[3] = color3
	vehupgrade["neoncolor1"] = color1
	vehupgrade["neoncolor2"] = color2
	vehupgrade["neoncolor3"] = color3
end)


RegisterNetEvent('BuyCustomNope')
AddEventHandler('BuyCustomNope', function(name)
	ShowNotificationMain("Vous n'avez pas suffisamment d'argent pour ~b~"..name)
end)

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             local Braquage = {
	opened = false,
	title = "Braquage",
	lastmenu = nil,
	currentpos = nil,
	selectedbutton = 0,
	marker = { r = 155, g = 155, b = 255, a = 200, type = 1 },
}

local Braquage_locations = {
[1] = {blipbank = {235.7482,217.1111,106.2868}},
[2] = {blipbank = {-353.4206,-54.08079,49.03654}},
[3] = {blipbank = {146.106,-1044.392,29.37782}},
[4] = {blipbank = {-1212.054,-336.2667,37.79078}},
}

local Braquage_blips ={}
local inrangeofBraquage = false
local inrangeofBraquage2 = false
local inrangeofBraquage3 = false
local inrangeofBraquage4 = false
local currentlocation = nil
local boughtcar = false

local function LocalPed()
return GetPlayerPed(-1)
end

function drawTxtBraquage(text,font,centre,x,y,scale,r,g,b,a)
	SetTextFont(font)
	SetTextProportional(0)
	SetTextScale(scale, scale)
	SetTextColour(r, g, b, a)
	SetTextDropShadow(0, 0, 0, 0,255)
	SetTextEdge(1, 0, 0, 0, 255)
	SetTextDropShadow()
	SetTextOutline()
	SetTextCentre(centre)
	SetTextEntry("STRING")
	AddTextComponentString(text)
	DrawText(x , y)	
end

function IsPlayerInRangeOfBraquage()
return inrangeofBraquage
end

function IsPlayerInRangeOfBraquage2()
return inrangeofBraquage2
end


function IsPlayerInRangeOfBraquage3()
return inrangeofBraquage3
end

function IsPlayerInRangeOfBraquage4()
return inrangeofBraquage4
end


function ShowBraquageBlips(bool)
	if bool and #Braquage_blips == 0 then
		for station,pos in pairs(Braquage_locations) do
			local loc = pos
			pos = pos.blipbank
			local blip = AddBlipForCoord(pos[1],pos[2],pos[3])
			-- 60 58 137
			SetBlipSprite(blip,108)
			SetBlipColour(blip, 2)
			BeginTextCommandSetBlipName("STRING")
			AddTextComponentString('Banque')
			EndTextCommandSetBlipName(blip)
			SetBlipAsShortRange(blip,true)
			SetBlipAsMissionCreatorBlip(blip,true)
			table.insert(Braquage_blips, {blip = blip, pos = loc})
		end
		Citizen.CreateThread(function()
			while #Braquage_blips > 0 do
				Citizen.Wait(0)
				local inrange = false
				local inrange2 = false
				local inrange3 = false
				local inrange4 = false
				for i,b in ipairs(Braquage_blips) do
				    --BANQUE 1 Paciif
					if GetDistanceBetweenCoords(265.2196,213.6954,100.5835,GetEntityCoords(LocalPed()),true) > 0 then
						currentlocation = b
						if GetDistanceBetweenCoords(265.2196,213.6954,100.5835,GetEntityCoords(LocalPed()),true) < 4 then
							Show("Appuyez sur ~INPUT_CONTEXT~ pour lancer le ~r~Braquage.")
							inrange = true
						end
					end
					--BANQUE 2 Fleeca
					if GetDistanceBetweenCoords(-353.4206,-54.08079,49.03654,GetEntityCoords(LocalPed()),true) > 0 then
						currentlocation = b
						if GetDistanceBetweenCoords(-353.4206,-54.08079,49.03654,GetEntityCoords(LocalPed()),true) < 4 then
							Show("Appuyez sur ~INPUT_CONTEXT~ pour lancer le ~r~Braquage.")
							inrange2 = true
						end
					end
					--BANQUE 3 Fleeca
					if GetDistanceBetweenCoords(146.106,-1044.392,29.37782,GetEntityCoords(LocalPed()),true) > 0 then
						currentlocation = b
						if GetDistanceBetweenCoords(146.106,-1044.392,29.37782,GetEntityCoords(LocalPed()),true) < 4 then
							Show("Appuyez sur ~INPUT_CONTEXT~ pour lancer le ~r~Braquage.")
							inrange3 = true
						end
					end
					
					--BANQUE 4 Fleeca
					if GetDistanceBetweenCoords(-1212.066,-355.9755,37.79078,GetEntityCoords(LocalPed()),true) > 0 then
						currentlocation = b
						if GetDistanceBetweenCoords(-1212.066,-355.9755,37.79078,GetEntityCoords(LocalPed()),true) < 4 then
							Show("Appuyez sur ~INPUT_CONTEXT~ pour lancer le ~r~Braquage.")
							inrange4 = true
						end
					end
					
				end
				inrangeofBraquage = inrange
				inrangeofBraquage2 = inrange2
				inrangeofBraquage3 = inrange3
				inrangeofBraquage4 = inrange4
			end
		end)
	elseif bool == false and #Braquage_blips > 0 then
		for i,b in ipairs(Braquage_blips) do
			if DoesBlipExist(b.blip) then
				SetBlipAsMissionCreatorBlip(b.blip,false)
				Citizen.InvokeNative(0x86A652570E5F25DD, Citizen.PointerValueIntInitialized(b.blip))
			end
		end
		Braquage_blips = {}
	end
end

braquagedispo = 0

Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0)
		--BANQUE 1
        if IsControlJustPressed(1,38) and inrangeofBraquage and braquagedispo == 1 then
            TriggerServerEvent('Checkbraquage')
			inrangeofBraquage = false
			inrange = false
	    elseif IsControlJustPressed(1,38) and inrangeofBraquage and braquagedispo == 0 then
            ShowNotificationMain("~h~Vous ne pouvez pas lancer de braquage pour le moment.")
        end
		--BANQUE 2
        if IsControlJustPressed(1,38) and inrangeofBraquage2 and braquagedispo == 1 then
            TriggerServerEvent('Checkbraquage2')
			inrangeofBraquage2 = false
			inrange2 = false
	    elseif IsControlJustPressed(1,38) and inrangeofBraquage2 and braquagedispo == 0 then
            ShowNotificationMain("~h~Vous ne pouvez pas lancer de braquage pour le moment.")
        end
		--BANQUE 3
        if IsControlJustPressed(1,38) and inrangeofBraquage3 and braquagedispo == 1 then
            TriggerServerEvent('Checkbraquage3')
			inrangeofBraquage3 = false
			inrange3 = false
	    elseif IsControlJustPressed(1,38) and inrangeofBraquage3 and braquagedispo == 0 then
            ShowNotificationMain("~h~Vous ne pouvez pas lancer de braquage pour le moment.")
        end
		--BANQUE 4
        if IsControlJustPressed(1,38) and inrangeofBraquage4 and braquagedispo == 1 then
            TriggerServerEvent('Checkbraquage4')
			inrangeofBraquage4 = false
			inrange4 = false
			
	    elseif IsControlJustPressed(1,38) and inrangeofBraquage4 and braquagedispo == 0 then
            ShowNotificationMain("~h~Vous ne pouvez pas lancer de braquage pour le moment.")
        end
    end
end)

RegisterNetEvent('braquagenondispo')
AddEventHandler('braquagenondispo', function()
	braquagedispo = 0
end)

Citizen.CreateThread(function()
	while true do
		Wait(0)
		
		if braquagedispo == 0 then
		   Wait(3600000)
		   braquagedispo = 1
		end
	end
end)
			

--BANQUE 1
RegisterNetEvent('FinishCheckbraquage')
AddEventHandler('FinishCheckbraquage', function()
	StartJobBraquage(1)
	TriggerServerEvent('Checkbraquagedispo')
end)

--BANQUE 2
RegisterNetEvent('FinishCheckbraquage2')
AddEventHandler('FinishCheckbraquage2', function()
	StartJobBraquage(2)
	TriggerServerEvent('Checkbraquagedispo')
end)

--BANQUE 3
RegisterNetEvent('FinishCheckbraquage3')
AddEventHandler('FinishCheckbraquage3', function()
	StartJobBraquage(3)
	TriggerServerEvent('Checkbraquagedispo')
end)

--BANQUE 4
RegisterNetEvent('FinishCheckbraquage4')
AddEventHandler('FinishCheckbraquage4', function()
	StartJobBraquage(4)
	TriggerServerEvent('Checkbraquagedispo')
end)

onJobBraquage = 0
Braquageb = {flag = {}, blipb = {}, gain = {}, coords = {cx={}, cy={}, cz={}}}

function StartJobBraquage(bankid)
	if bankid == 1 then -- BANQUE 1
		showLoadingPromtBraquage("Chargement du Braquage.", 2000, 3)
		onJobBraquage = 1
		Braquageb.flag[1] = 1
		Braquageb.flag[2] = 1
		Braquageb.flag[3] = 0
		Braquageb.coords.cx[1],Braquageb.coords.cy[1],Braquageb.coords.cz[1] = 265.2196,213.6954,100.5835 -- Banque
		Braquageb.coords.cx[2],Braquageb.coords.cy[2],Braquageb.coords.cz[2] = 1432.412, 6347.654, 23.98502 --Lester
		Braquageb.coords.cx[3],Braquageb.coords.cy[3],Braquageb.coords.cz[3] = 40.15672, 3709.396, 39.72919 --Lester
		Braquageb.coords.cx[4],Braquageb.coords.cy[4],Braquageb.coords.cz[4] = 387.3144, 3586.066, 33.29223 --Lester
		Braquageb.coords.cx[5],Braquageb.coords.cy[5],Braquageb.coords.cz[5] = 1738.462, 3028.912, 63.14877 --Lester
		Braquageb.coords.cx[6],Braquageb.coords.cy[6],Braquageb.coords.cz[6] = 1432.412, 6347.654, 23.98502 --Lester
		
		--GAIN
		Braquageb.gain[1] = 100000
		Braquageb.gain[2] = 145324
		Braquageb.gain[3] = 525051
		Braquageb.gain[4] = 245160
		Braquageb.gain[5] = 219055
		Braquageb.gain[6] = 316066
		Braquageb.gain[7] = 346090
		Braquageb.gain[8] = 406190
		Braquageb.gain[9] = 441330
		Braquageb.gain[10] = 592451
		Braquageb.gain[11] = 554550
		Braquageb.gain[12] = 611060
		Braquageb.gain[13] = 625150
		Braquageb.gain[14] = 782156
		Braquageb.gain[15] = 725150
		Braquageb.gain[16] = 854515
		Braquageb.gain[17] = 824212
		Braquageb.gain[18] = 951000
		Braquageb.gain[19] = 924542
		Braquageb.gain[20] = 1000000
	end
	if bankid == 2 then -- BANQUE 2
		showLoadingPromtBraquage("Chargement du Braquage.", 2000, 3)
		onJobBraquage = 2
		Braquageb.flag[1] = 1
		Braquageb.flag[2] = 1
		Braquageb.flag[3] = 0
		Braquageb.coords.cx[1],Braquageb.coords.cy[1],Braquageb.coords.cz[1] = -353.4206,-54.08079,49.03654 -- Banque
		Braquageb.coords.cx[2],Braquageb.coords.cy[2],Braquageb.coords.cz[2] = 1432.412, 6347.654, 23.98502 --Lester
		Braquageb.coords.cx[3],Braquageb.coords.cy[3],Braquageb.coords.cz[3] = 40.15672, 3709.396, 39.72919 --Lester
		Braquageb.coords.cx[4],Braquageb.coords.cy[4],Braquageb.coords.cz[4] = 387.3144, 3586.066, 33.29223 --Lester
		Braquageb.coords.cx[5],Braquageb.coords.cy[5],Braquageb.coords.cz[5] = 1738.462, 3028.912, 63.14877 --Lester
		Braquageb.coords.cx[6],Braquageb.coords.cy[6],Braquageb.coords.cz[6] = 1432.412, 6347.654, 23.98502 --Lester
		
		--GAIN
		Braquageb.gain[1] = 20000
		Braquageb.gain[2] = 45421
		Braquageb.gain[3] = 25114
		Braquageb.gain[4] = 21141
		Braquageb.gain[5] = 35210
		Braquageb.gain[6] = 35121
		Braquageb.gain[7] = 45544
		Braquageb.gain[8] = 41122
		Braquageb.gain[9] = 52156
		Braquageb.gain[10] = 51514
		Braquageb.gain[11] = 61561
		Braquageb.gain[12] = 62002
		Braquageb.gain[13] = 61515
		Braquageb.gain[14] = 71812
		Braquageb.gain[15] = 70027
		Braquageb.gain[16] = 82152
		Braquageb.gain[17] = 85404
		Braquageb.gain[18] = 94442
		Braquageb.gain[19] = 90841
		Braquageb.gain[20] = 100000
	end
	
	if bankid == 3 then -- BANQUE 3
		showLoadingPromtBraquage("Chargement du Braquage.", 2000, 3)
		onJobBraquage = 3
		Braquageb.flag[1] = 1
		Braquageb.flag[2] = 1
		Braquageb.flag[3] = 0
		Braquageb.coords.cx[1],Braquageb.coords.cy[1],Braquageb.coords.cz[1] = 146.106,-1044.392,29.37782 -- Banque
		Braquageb.coords.cx[2],Braquageb.coords.cy[2],Braquageb.coords.cz[2] = 1432.412, 6347.654, 23.98502 --Lester
		Braquageb.coords.cx[3],Braquageb.coords.cy[3],Braquageb.coords.cz[3] = 40.15672, 3709.396, 39.72919 --Lester
		Braquageb.coords.cx[4],Braquageb.coords.cy[4],Braquageb.coords.cz[4] = 387.3144, 3586.066, 33.29223 --Lester
		Braquageb.coords.cx[5],Braquageb.coords.cy[5],Braquageb.coords.cz[5] = 1738.462, 3028.912, 63.14877 --Lester
		Braquageb.coords.cx[6],Braquageb.coords.cy[6],Braquageb.coords.cz[6] = 1432.412, 6347.654, 23.98502 --Lester
	end
	
	if bankid == 4 then -- BANQUE 4
		showLoadingPromtBraquage("Chargement du Braquage.", 2000, 3)
		onJobBraquage = 4
		Braquageb.flag[1] = 1
		Braquageb.flag[2] = 1
		Braquageb.flag[3] = 0
		Braquageb.coords.cx[1],Braquageb.coords.cy[1],Braquageb.coords.cz[1] = -1212.066,-355.9755,37.79078 -- Banque
		Braquageb.coords.cx[2],Braquageb.coords.cy[2],Braquageb.coords.cz[2] = 1432.412, 6347.654, 23.98502 --Lester
		Braquageb.coords.cx[3],Braquageb.coords.cy[3],Braquageb.coords.cz[3] = 40.15672, 3709.396, 39.72919 --Lester
		Braquageb.coords.cx[4],Braquageb.coords.cy[4],Braquageb.coords.cz[4] = 387.3144, 3586.066, 33.29223 --Lester
		Braquageb.coords.cx[5],Braquageb.coords.cy[5],Braquageb.coords.cz[5] = 1738.462, 3028.912, 63.14877 --Lester
		Braquageb.coords.cx[6],Braquageb.coords.cy[6],Braquageb.coords.cz[6] = 1432.412, 6347.654, 23.98502 --Lester
	end
end

function DrawMissionTextBraquage(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

function showLoadingPromtBraquage(showText, showTime, showType)
	Citizen.CreateThread(function()
		Citizen.Wait(0)
		N_0xaba17d7ce615adbf("STRING") -- set type
		AddTextComponentString(showText) -- sets the text
		N_0xbd12f8228410d9b4(showType) -- show promt (types = 3)
		Citizen.Wait(showTime) -- show time
		N_0x10d373323e5b9c0d() -- remove promt
	end)
end


function StopJobBraquage(bankid)
	if bankid == 1 then
		if onJobBraquage == 1 then
		    Braquageb.flag[1] = 0
			Braquageb.flag[2] = 0
			Braquageb.flag[3] = 0
			if Braquageb.blipb[1] ~= nil and DoesBlipExist(Braquageb.blipb[1]) then
				Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(Braquageb.blipb[1]))
				Braquageb.blipb[1] = nil
			end
			onJobBraquage = 0
		end
	end
	if bankid == 2 then
		if onJobBraquage == 2 then
		    Braquageb.flag[1] = 0
			Braquageb.flag[2] = 0
			Braquageb.flag[3] = 0
			if Braquageb.blipb[1] ~= nil and DoesBlipExist(Braquageb.blipb[1]) then
				Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(Braquageb.blipb[1]))
				Braquageb.blipb[1] = nil
			end
			onJobBraquage = 0
		end
	end
	if bankid == 3 then
		if onJobBraquage == 3 then
		    Braquageb.flag[1] = 0
			Braquageb.flag[2] = 0
			Braquageb.flag[3] = 0
			if Braquageb.blipb[1] ~= nil and DoesBlipExist(Braquageb.blipb[1]) then
				Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(Braquageb.blipb[1]))
				Braquageb.blipb[1] = nil
			end
			onJobBraquage = 0
		end
	end
	
	if bankid == 4 then
		if onJobBraquage == 4 then
		    Braquageb.flag[1] = 0
			Braquageb.flag[2] = 0
			Braquageb.flag[3] = 0
			if Braquageb.blipb[1] ~= nil and DoesBlipExist(Braquageb.blipb[1]) then
				Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(Braquageb.blipb[1]))
				Braquageb.blipb[1] = nil
			end
			onJobBraquage = 0
		end
	end
end

--GESTION IN BANK OR NOT
Citizen.CreateThread(function()
	while true do
		Wait(0)
		if onJobBraquage == 1 then
			if (Braquageb.flag[1] == 1) and GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), Braquageb.coords.cx[Braquageb.flag[2]],Braquageb.coords.cy[Braquageb.flag[2]],Braquageb.coords.cz[Braquageb.flag[2]], true) > 30.0001 then
				if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), Braquageb.coords.cx[Braquageb.flag[2]],Braquageb.coords.cy[Braquageb.flag[2]],Braquageb.coords.cz[Braquageb.flag[2]], true) > 30.0001 then
					Wait(1000)
					DrawMissionTextBraquage("~h~~r~Fin du Braquage vous Ãªtes sortie de la banque !", 5000)
					Wait(5000)
					StopJobBraquage(1)
				end
			end
			if (Braquageb.flag[1] == 3) and GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), Braquageb.coords.cx[Braquageb.flag[2]],Braquageb.coords.cy[Braquageb.flag[2]],Braquageb.coords.cz[Braquageb.flag[2]], true) < 10.0001 then
				if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), Braquageb.coords.cx[Braquageb.flag[2]],Braquageb.coords.cy[Braquageb.flag[2]],Braquageb.coords.cz[Braquageb.flag[2]], true) < 10.0001 then
				    if Braquageb.blipb[1] ~= nil and DoesBlipExist(Braquageb.blipb[1]) then
						Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(Braquageb.blipb[1]))
						Braquageb.blipb[1] = nil
					end
					DrawMissionTextBraquage("~h~~g~FÃ©licitations, braquage rÃ©ussi avec succÃ¨s !", 5000)
					TriggerServerEvent('Checkbutin', Braquageb.gain[Braquageb.flag[3]])
					Wait(5000)
					StopJobBraquage(1)
				end
			end
			if IsEntityDead(GetPlayerPed(-1)) then
			    Wait(1000)
				DrawMissionTextBraquage("~h~~r~Fin du Braquage vous Ãªtes dans le coma !", 5000)
				Wait(5000)
				StopJobBraquage(1)
			end			
		end
		if onJobBraquage == 2 then
			if (Braquageb.flag[1] == 1) and GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), Braquageb.coords.cx[Braquageb.flag[2]],Braquageb.coords.cy[Braquageb.flag[2]],Braquageb.coords.cz[Braquageb.flag[2]], true) > 10.0001 then
				if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), Braquageb.coords.cx[Braquageb.flag[2]],Braquageb.coords.cy[Braquageb.flag[2]],Braquageb.coords.cz[Braquageb.flag[2]], true) > 10.0001 then
					Wait(1000)
					DrawMissionTextBraquage("~h~~r~Fin du Braquage vous Ãªtes sortie de la banque !", 5000)
					Wait(5000)
					StopJobBraquage(2)
				end
			end
			if (Braquageb.flag[1] == 3) and GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), Braquageb.coords.cx[Braquageb.flag[2]],Braquageb.coords.cy[Braquageb.flag[2]],Braquageb.coords.cz[Braquageb.flag[2]], true) < 10.0001 then
				if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), Braquageb.coords.cx[Braquageb.flag[2]],Braquageb.coords.cy[Braquageb.flag[2]],Braquageb.coords.cz[Braquageb.flag[2]], true) < 10.0001 then
				    if Braquageb.blipb[1] ~= nil and DoesBlipExist(Braquageb.blipb[1]) then
						Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(Braquageb.blipb[1]))
						Braquageb.blipb[1] = nil
					end
					DrawMissionTextBraquage("~h~~g~FÃ©licitations, braquage rÃ©ussi avec succÃ¨s !", 5000)
					TriggerServerEvent('Checkbutin', Braquageb.gain[Braquageb.flag[3]])
					Wait(5000)
					StopJobBraquage(2)
				end
			end
			if IsEntityDead(GetPlayerPed(-1)) then
			    Wait(1000)
				DrawMissionTextBraquage("~h~~r~Fin du Braquage vous Ãªtes dans le coma !", 5000)
				Wait(5000)
				StopJobBraquage(2)
			end	
		end
		if onJobBraquage == 3 then
			if (Braquageb.flag[1] == 1) and GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), Braquageb.coords.cx[Braquageb.flag[2]],Braquageb.coords.cy[Braquageb.flag[2]],Braquageb.coords.cz[Braquageb.flag[2]], true) > 10.0001 then
				if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), Braquageb.coords.cx[Braquageb.flag[2]],Braquageb.coords.cy[Braquageb.flag[2]],Braquageb.coords.cz[Braquageb.flag[2]], true) > 10.0001 then
					Wait(1000)
					DrawMissionTextBraquage("~h~~r~Fin du Braquage vous Ãªtes sortie de la banque !", 5000)
					Wait(5000)
					StopJobBraquage(3)
				end
			end
			if (Braquageb.flag[1] == 3) and GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), Braquageb.coords.cx[Braquageb.flag[2]],Braquageb.coords.cy[Braquageb.flag[2]],Braquageb.coords.cz[Braquageb.flag[2]], true) < 10.0001 then
				if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), Braquageb.coords.cx[Braquageb.flag[2]],Braquageb.coords.cy[Braquageb.flag[2]],Braquageb.coords.cz[Braquageb.flag[2]], true) < 10.0001 then
				    if Braquageb.blipb[1] ~= nil and DoesBlipExist(Braquageb.blipb[1]) then
						Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(Braquageb.blipb[1]))
						Braquageb.blipb[1] = nil
					end
					DrawMissionTextBraquage("~h~~g~FÃ©licitations, braquage rÃ©ussi avec succÃ¨s !", 5000)
					TriggerServerEvent('Checkbutin', Braquageb.gain[Braquageb.flag[3]])
					Wait(5000)
					StopJobBraquage(3)
				end
			end
			if IsEntityDead(GetPlayerPed(-1)) then
			    Wait(1000)
				DrawMissionTextBraquage("~h~~r~Fin du Braquage vous Ãªtes dans le coma !", 5000)
				Wait(5000)
				StopJobBraquage(3)
			end	
		end
		
		if onJobBraquage == 4 then
			if (Braquageb.flag[1] == 1) and GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), Braquageb.coords.cx[Braquageb.flag[2]],Braquageb.coords.cy[Braquageb.flag[2]],Braquageb.coords.cz[Braquageb.flag[2]], true) > 10.0001 then
				if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), Braquageb.coords.cx[Braquageb.flag[2]],Braquageb.coords.cy[Braquageb.flag[2]],Braquageb.coords.cz[Braquageb.flag[2]], true) > 10.0001 then
					Wait(1000)
					DrawMissionTextBraquage("~h~~r~Fin du Braquage vous Ãªtes sortie de la banque !", 5000)
					Wait(5000)
					StopJobBraquage(4)
				end
			end
			if (Braquageb.flag[1] == 3) and GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), Braquageb.coords.cx[Braquageb.flag[2]],Braquageb.coords.cy[Braquageb.flag[2]],Braquageb.coords.cz[Braquageb.flag[2]], true) < 10.0001 then
				if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), Braquageb.coords.cx[Braquageb.flag[2]],Braquageb.coords.cy[Braquageb.flag[2]],Braquageb.coords.cz[Braquageb.flag[2]], true) < 10.0001 then
				    if Braquageb.blipb[1] ~= nil and DoesBlipExist(Braquageb.blipb[1]) then
						Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(Braquageb.blipb[1]))
						Braquageb.blipb[1] = nil
					end
					DrawMissionTextBraquage("~h~~g~FÃ©licitations, braquage rÃ©ussi avec succÃ¨s !", 5000)
					TriggerServerEvent('Checkbutin', Braquageb.gain[Braquageb.flag[3]])
					Wait(5000)
					StopJobBraquage(4)
				end
			end
			if IsEntityDead(GetPlayerPed(-1)) then
			    Wait(1000)
				DrawMissionTextBraquage("~h~~r~Fin du Braquage vous Ãªtes dans le coma !", 5000)
				Wait(5000)
				StopJobBraquage(4)
			end	
		end
	end
end)

--GESTION MISSION BRAQUAGE
Citizen.CreateThread(function()
	while true do
		Wait(0)
		if onJobBraquage == 1 then
			if Braquageb.flag[1] == 1 then
				coordbank1 = {223.6455,209.1188,104.5266}
				TriggerServerEvent('Call911Braquage', coordbank1)
				DrawMissionTextBraquage("~h~~r~Braquage en cours... ne sortez pas de la banque ! ~w~(5 min)", 300000)
				Wait(300000)
				if onJobBraquage ~= 0 then
					Braquageb.flag[1] = 2
					Braquageb.flag[2] = GetRandomIntInRange(2, 6)
					Braquageb.flag[3] = GetRandomIntInRange(1, 20)
				end
			end
			if Braquageb.flag[1] == 2 then
				Braquageb.blipb[1] = AddBlipForCoord(Braquageb.coords.cx[Braquageb.flag[2]],Braquageb.coords.cy[Braquageb.flag[2]],Braquageb.coords.cz[Braquageb.flag[2]])
				N_0x80ead8e2e1d5d52e(Braquageb.blipb[1])
				SetBlipSprite(Braquageb.blipb[1],351)
				BeginTextCommandSetBlipName("STRING")
				AddTextComponentString('Lester')
				EndTextCommandSetBlipName(Braquageb.blipb[1])
				SetBlipRoute(Braquageb.blipb[1], 1)
				DrawMissionTextBraquage("~h~~b~Rapportez le butin Ã  Lester !  ~w~(20 min)", 20000)
				Wait(1000)
				Braquageb.flag[1] = 3						
			end
			if Braquageb.flag[1] == 3 then
				Wait(1200000)
				DrawMissionTextBraquage("~h~~r~Temps Ã©coulÃ©, fin du braquage !", 10000)
				Wait(10000)
				StopJobBraquage(1)
			end
		end
		if onJobBraquage == 2 then
			if Braquageb.flag[1] == 1 then
				coordbank2 = {-349.179,-43.69024,49.03683}
				TriggerServerEvent('Call911Braquage2', coordbank2)
				DrawMissionTextBraquage("~h~~r~Braquage en cours... ne sortez pas de la banque ! ~w~(3 min)", 180000)
				Wait(180000)
				if onJobBraquage ~= 0 then
					Braquageb.flag[1] = 2
					Braquageb.flag[2] = GetRandomIntInRange(2, 6)
					Braquageb.flag[3] = GetRandomIntInRange(1, 20)
				end
			end
			if Braquageb.flag[1] == 2 then
				Braquageb.blipb[1] = AddBlipForCoord(Braquageb.coords.cx[Braquageb.flag[2]],Braquageb.coords.cy[Braquageb.flag[2]],Braquageb.coords.cz[Braquageb.flag[2]])
				N_0x80ead8e2e1d5d52e(Braquageb.blipb[1])
				SetBlipSprite(Braquageb.blipb[1],351)
				BeginTextCommandSetBlipName("STRING")
				AddTextComponentString('Lester')
				EndTextCommandSetBlipName(Braquageb.blipb[1])
				SetBlipRoute(Braquageb.blipb[1], 1)
				DrawMissionTextBraquage("~h~~b~Rapportez le butin Ã  Lester !  ~w~(20 min)", 20000)
				Wait(1000)
				Braquageb.flag[1] = 3						
			end
			if Braquageb.flag[1] == 3 then
				Wait(1200000)
				DrawMissionTextBraquage("~h~~r~Temps Ã©coulÃ©, fin du braquage !", 10000)
				Wait(10000)
				StopJobBraquage(2)
			end
		end
		if onJobBraquage == 3 then
			if Braquageb.flag[1] == 1 then
				coordbank2 = {151.8965,-1035.401,29.33904}
				TriggerServerEvent('Call911Braquage2', coordbank2)
				DrawMissionTextBraquage("~h~~r~Braquage en cours... ne sortez pas de la banque ! ~w~(3 min)", 180000)
				Wait(180000)
				if onJobBraquage ~= 0 then
					Braquageb.flag[1] = 2
					Braquageb.flag[2] = GetRandomIntInRange(2, 6)
					Braquageb.flag[3] = GetRandomIntInRange(1, 20)
				end
			end
			if Braquageb.flag[1] == 2 then
				Braquageb.blipb[1] = AddBlipForCoord(Braquageb.coords.cx[Braquageb.flag[2]],Braquageb.coords.cy[Braquageb.flag[2]],Braquageb.coords.cz[Braquageb.flag[2]])
				N_0x80ead8e2e1d5d52e(Braquageb.blipb[1])
				SetBlipSprite(Braquageb.blipb[1],351)
				BeginTextCommandSetBlipName("STRING")
				AddTextComponentString('Lester')
				EndTextCommandSetBlipName(Braquageb.blipb[1])
				SetBlipRoute(Braquageb.blipb[1], 1)
				DrawMissionTextBraquage("~h~~b~Rapportez le butin Ã  Lester !  ~w~(20 min)", 20000)
				Wait(1000)
				Braquageb.flag[1] = 3						
			end
			if Braquageb.flag[1] == 3 then
				Wait(1200000)
				DrawMissionTextBraquage("~h~~r~Temps Ã©coulÃ©, fin du braquage !", 10000)
				Wait(10000)
				StopJobBraquage(3)
			end
		end
		if onJobBraquage == 4 then
			if Braquageb.flag[1] == 1 then
				coordbank2 = {-1216.547,-324.8014,37.68432}
				TriggerServerEvent('Call911Braquage2', coordbank2)
				DrawMissionTextBraquage("~h~~r~Braquage en cours... ne sortez pas de la banque ! ~w~(3 min)", 180000)
				Wait(180000)
				if onJobBraquage ~= 0 then
					Braquageb.flag[1] = 2
					Braquageb.flag[2] = GetRandomIntInRange(2, 6)
					Braquageb.flag[3] = GetRandomIntInRange(1, 20)
				end
			end
			if Braquageb.flag[1] == 2 then
				Braquageb.blipb[1] = AddBlipForCoord(Braquageb.coords.cx[Braquageb.flag[2]],Braquageb.coords.cy[Braquageb.flag[2]],Braquageb.coords.cz[Braquageb.flag[2]])
				N_0x80ead8e2e1d5d52e(Braquageb.blipb[1])
				SetBlipSprite(Braquageb.blipb[1],351)
				BeginTextCommandSetBlipName("STRING")
				AddTextComponentString('Lester')
				EndTextCommandSetBlipName(Braquageb.blipb[1])
				SetBlipRoute(Braquageb.blipb[1], 1)
				DrawMissionTextBraquage("~h~~b~Rapportez le butin Ã  Lester !  ~w~(20 min)", 20000)
				Wait(1000)
				Braquageb.flag[1] = 3						
			end
			if Braquageb.flag[1] == 3 then
				Wait(1200000)
				DrawMissionTextBraquage("~h~~r~Temps Ã©coulÃ©, fin du braquage !", 10000)
				Wait(10000)
				StopJobBraquage(4)
			end
		end
	end
end)



local firstspawn = 0
AddEventHandler('playerSpawned', function(spawn)
if firstspawn == 0 then
	ShowBraquageBlips(true)
	firstspawn = 1
end
end)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      BraquageSuperetdispo = 0

RegisterNetEvent('BraquageSuperetnondispo')
AddEventHandler('BraquageSuperetnondispo', function()
	BraquageSuperetdispo = 0
end)

Citizen.CreateThread(function()
	while true do
		Wait(0)
		if BraquageSuperetdispo == 0 then
		   Wait(1800000)
		   BraquageSuperetdispo = 1
		end
	end
end)

local posx = 0
local posy = 0
local posz = 0

--Superette 1
RegisterNetEvent('FinishCheckbraquageSuperet1')
AddEventHandler('FinishCheckbraquageSuperet1', function(x, y ,z)
	if BraquageSuperetdispo == 1 then
		TriggerServerEvent('CheckBraquageSuperetdispo')
		posx = x
   		posy = y
    	posz = z
		StartJobBraquageSuperet(1)
	else
		ShowNotificationMain("~h~Vous ne pouvez pas braquer pour le moment.")
	end
end)

onJobBraquageSuperet = 0
BraquageSuperetb = {flag = {}, blipb = {}, gain = {}, coords = {cx={}, cy={}, cz={}}}

function StartJobBraquageSuperet(superid)
	if superid == 1 then -- Superette 1
		showLoadingPromtBraquageSuperet("Chargement du Braquage.", 2000, 3)
		onJobBraquageSuperet = 1
		BraquageSuperetb.flag[1] = 1
		BraquageSuperetb.flag[2] = 1
		BraquageSuperetb.flag[3] = 1
		BraquageSuperetb.coords.cx[1],BraquageSuperetb.coords.cy[1],BraquageSuperetb.coords.cz[1] = tonumber(posx), tonumber(posy), tonumber(posz) -- Superette
		BraquageSuperetb.coords.cx[2],BraquageSuperetb.coords.cy[2],BraquageSuperetb.coords.cz[2] = 1432.412, 6347.654, 23.98502 --Lester
		BraquageSuperetb.coords.cx[3],BraquageSuperetb.coords.cy[3],BraquageSuperetb.coords.cz[3] = 40.15672, 3709.396, 39.72919 --Lester
		BraquageSuperetb.coords.cx[4],BraquageSuperetb.coords.cy[4],BraquageSuperetb.coords.cz[4] = 387.3144, 3586.066, 33.29223 --Lester
		BraquageSuperetb.coords.cx[5],BraquageSuperetb.coords.cy[5],BraquageSuperetb.coords.cz[5] = 1738.462, 3028.912, 63.14877 --Lester
		BraquageSuperetb.coords.cx[6],BraquageSuperetb.coords.cy[6],BraquageSuperetb.coords.cz[6] = 1432.412, 6347.654, 23.98502 --Lester
		
		--GAIN
		BraquageSuperetb.gain[1] = 1000
		BraquageSuperetb.gain[2] = 1200
		BraquageSuperetb.gain[3] = 1541
		BraquageSuperetb.gain[4] = 5401
		BraquageSuperetb.gain[5] = 8901
		BraquageSuperetb.gain[6] = 1098
		BraquageSuperetb.gain[7] = 7861
		BraquageSuperetb.gain[8] = 4813
		BraquageSuperetb.gain[9] = 6546
		BraquageSuperetb.gain[10] = 4586
		BraquageSuperetb.gain[11] = 10542
		BraquageSuperetb.gain[12] = 5468
		BraquageSuperetb.gain[13] = 8995
		BraquageSuperetb.gain[14] = 5648
		BraquageSuperetb.gain[15] = 4892
		BraquageSuperetb.gain[16] = 9561
		BraquageSuperetb.gain[17] = 8721
		BraquageSuperetb.gain[18] = 4561
		BraquageSuperetb.gain[19] = 2654
		BraquageSuperetb.gain[20] = 15000
	end
end

function DrawMissionTextBraquageSuperet(m_text, showtime)
    ClearPrints()
	SetTextEntry_2("STRING")
	AddTextComponentString(m_text)
	DrawSubtitleTimed(showtime, 1)
end

function showLoadingPromtBraquageSuperet(showText, showTime, showType)
	Citizen.CreateThread(function()
		Citizen.Wait(0)
		N_0xaba17d7ce615adbf("STRING") -- set type
		AddTextComponentString(showText) -- sets the text
		N_0xbd12f8228410d9b4(showType) -- show promt (types = 3)
		Citizen.Wait(showTime) -- show time
		N_0x10d373323e5b9c0d() -- remove promt
	end)
end


function StopJobBraquageSuperet(superid)
	if superid == 1 then
		if onJobBraquageSuperet == 1 then
		    BraquageSuperetb.flag[1] = 0
			BraquageSuperetb.flag[2] = 0
			BraquageSuperetb.flag[3] = 0
			debriefbraquage = 0
			if BraquageSuperetb.blipb[1] ~= nil and DoesBlipExist(BraquageSuperetb.blipb[1]) then
				Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(BraquageSuperetb.blipb[1]))
				BraquageSuperetb.blipb[1] = nil
			end
			onJobBraquageSuperet = 0
		end
	end
end

--GESTION IN BANK OR NOT
Citizen.CreateThread(function()
	while true do
		Wait(0)
		if onJobBraquageSuperet == 1 then
			if (BraquageSuperetb.flag[1] == 1) and GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), BraquageSuperetb.coords.cx[BraquageSuperetb.flag[2]],BraquageSuperetb.coords.cy[BraquageSuperetb.flag[2]],BraquageSuperetb.coords.cz[BraquageSuperetb.flag[2]], true) > 8.0001 then
				if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), BraquageSuperetb.coords.cx[BraquageSuperetb.flag[2]],BraquageSuperetb.coords.cy[BraquageSuperetb.flag[2]],BraquageSuperetb.coords.cz[BraquageSuperetb.flag[2]], true) > 8.0001 then
					Wait(1000)
					DrawMissionTextBraquageSuperet("~h~~r~Fin du Braquage vous Ãªtes sortie de la Superette !", 5000)
					Wait(5000)
					StopJobBraquageSuperet(1)
				end
			end
			if (BraquageSuperetb.flag[1] == 3) and GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), BraquageSuperetb.coords.cx[BraquageSuperetb.flag[2]],BraquageSuperetb.coords.cy[BraquageSuperetb.flag[2]],BraquageSuperetb.coords.cz[BraquageSuperetb.flag[2]], true) < 10.0001 then
				if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), BraquageSuperetb.coords.cx[BraquageSuperetb.flag[2]],BraquageSuperetb.coords.cy[BraquageSuperetb.flag[2]],BraquageSuperetb.coords.cz[BraquageSuperetb.flag[2]], true) < 10.0001 then
				    if BraquageSuperetb.blipb[1] ~= nil and DoesBlipExist(BraquageSuperetb.blipb[1]) then
						Citizen.InvokeNative(0x86A652570E5F25DD,Citizen.PointerValueIntInitialized(BraquageSuperetb.blipb[1]))
						BraquageSuperetb.blipb[1] = nil
					end
					DrawMissionTextBraquageSuperet("~h~~g~FÃ©licitations, Braquage rÃ©ussi avec succÃ¨s !", 5000)
					TriggerServerEvent('Checkbutin', BraquageSuperetb.gain[BraquageSuperetb.flag[3]])
					Wait(5000)
					StopJobBraquageSuperet(1)
				end
			end
			if IsEntityDead(GetPlayerPed(-1)) then
			    Wait(1000)
				DrawMissionTextBraquageSuperet("~h~~r~Fin du Braquage vous Ãªtes dans le coma !", 5000)
				Wait(5000)
				StopJobBraquageSuperet(1)
			end
		end
	end
end)

debriefbraquage = 0

--GESTION MISSION BraquageSuperet
Citizen.CreateThread(function()
	while true do
		Wait(0)
		if onJobBraquageSuperet == 1 then
			if BraquageSuperetb.flag[1] == 1 then
				coordSuperett1 = {tonumber(posx), tonumber(posy), tonumber(posz)}
				TriggerServerEvent('Call911BraquageSuperet', coordSuperett1)
				DrawMissionTextBraquageSuperet("~h~~r~Braquage en cours... ne sortez pas de la Superette ! ~w~(1 min 30)", 90000)
				Wait(90000)
				if onJobBraquageSuperet ~= 0 then
					BraquageSuperetb.flag[1] = 2
					BraquageSuperetb.flag[2] = GetRandomIntInRange(2, 6)
					BraquageSuperetb.flag[3] = GetRandomIntInRange(1, 20)
					debriefbraquage = 1
				end
			end
			if BraquageSuperetb.flag[1] == 2 then
				BraquageSuperetb.blipb[1] = AddBlipForCoord(BraquageSuperetb.coords.cx[BraquageSuperetb.flag[2]],BraquageSuperetb.coords.cy[BraquageSuperetb.flag[2]],BraquageSuperetb.coords.cz[BraquageSuperetb.flag[2]])
				N_0x80ead8e2e1d5d52e(BraquageSuperetb.blipb[1])
				SetBlipSprite(BraquageSuperetb.blipb[1],351)
				BeginTextCommandSetBlipName("STRING")
				AddTextComponentString('Lester')
				EndTextCommandSetBlipName(BraquageSuperetb.blipb[1])
				SetBlipRoute(BraquageSuperetb.blipb[1], 1)
				DrawMissionTextBraquageSuperet("~h~~b~Rapportez le butin Ã  Lester !  ~w~(20 min)", 20000)
				TriggerServerEvent('debriefbraquo', debriefbraquage)
				Wait(1000)
				BraquageSuperetb.flag[1] = 3						
			end
			if BraquageSuperetb.flag[1] == 3 then
				Wait(1200000)
				DrawMissionTextBraquageSuperet("~h~~r~Temps Ã©coulÃ©, fin du Braquage !", 10000)
				Wait(10000)
				StopJobBraquageSuperet(1)
			end
		end
	end
end)